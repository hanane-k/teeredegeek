/* Js/WL/rwd/fwk/jquery-1.10.1.min.js */
/*! jQuery v1.10.1 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
*/
(function(e,t){var n,r,i=typeof t,o=e.location,a=e.document,s=a.documentElement,l=e.jQuery,u=e.$,c={},p=[],f="1.10.1",d=p.concat,h=p.push,g=p.slice,m=p.indexOf,y=c.toString,v=c.hasOwnProperty,b=f.trim,x=function(e,t){return new x.fn.init(e,t,r)},w=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=/\S+/g,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,k=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^[\],:{}\s]*$/,S=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,j=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,D=/^-ms-/,L=/-([\da-z])/gi,H=function(e,t){return t.toUpperCase()},q=function(e){(a.addEventListener||"load"===e.type||"complete"===a.readyState)&&(_(),x.ready())},_=function(){a.addEventListener?(a.removeEventListener("DOMContentLoaded",q,!1),e.removeEventListener("load",q,!1)):(a.detachEvent("onreadystatechange",q),e.detachEvent("onload",q))};x.fn=x.prototype={jquery:f,constructor:x,init:function(e,n,r){var i,o;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof x?n[0]:n,x.merge(this,x.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:a,!0)),k.test(i[1])&&x.isPlainObject(n))for(i in n)x.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(o=a.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=a,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this))},selector:"",length:0,toArray:function(){return g.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return x.each(this,e,t)},ready:function(e){return x.ready.promise().done(e),this},slice:function(){return this.pushStack(g.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||x.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(o=arguments[l]))for(i in o)e=s[i],r=o[i],s!==r&&(c&&r&&(x.isPlainObject(r)||(n=x.isArray(r)))?(n?(n=!1,a=e&&x.isArray(e)?e:[]):a=e&&x.isPlainObject(e)?e:{},s[i]=x.extend(c,a,r)):r!==t&&(s[i]=r));return s},x.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=l),x},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)},ready:function(e){if(e===!0?!--x.readyWait:!x.isReady){if(!a.body)return setTimeout(x.ready);x.isReady=!0,e!==!0&&--x.readyWait>0||(n.resolveWith(a,[x]),x.fn.trigger&&x(a).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===x.type(e)},isArray:Array.isArray||function(e){return"array"===x.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[y.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==x.type(e)||e.nodeType||x.isWindow(e))return!1;try{if(e.constructor&&!v.call(e,"constructor")&&!v.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(x.support.ownLast)for(n in e)return v.call(e,n);for(n in e);return n===t||v.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||a;var r=k.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&&x(i).remove(),x.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=x.trim(n),n&&E.test(n.replace(A,"@").replace(j,"]").replace(S,"")))?Function("return "+n)():(x.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&x.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(D,"ms-").replace(L,H)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(a){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:b&&!b.call("\ufeff\u00a0")?function(e){return null==e?"":b.call(e)}:function(e){return null==e?"":(e+"").replace(C,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?x.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(m)return m.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else while(n[o]!==t)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a)for(;o>i;i++)r=t(e[i],i,n),null!=r&&(s[s.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(s[s.length]=r);return d.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),x.isFunction(e)?(r=g.call(arguments,2),i=function(){return e.apply(n||this,r.concat(g.call(arguments)))},i.guid=e.guid=e.guid||x.guid++,i):t},access:function(e,n,r,i,o,a,s){var l=0,u=e.length,c=null==r;if("object"===x.type(r)){o=!0;for(l in r)x.access(e,n,l,r[l],!0,a,s)}else if(i!==t&&(o=!0,x.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(x(e),n)})),n))for(;u>l;l++)n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)));return o?e:c?n.call(e):u?n(e[0],r):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),x.ready.promise=function(t){if(!n)if(n=x.Deferred(),"complete"===a.readyState)setTimeout(x.ready);else if(a.addEventListener)a.addEventListener("DOMContentLoaded",q,!1),e.addEventListener("load",q,!1);else{a.attachEvent("onreadystatechange",q),e.attachEvent("onload",q);var r=!1;try{r=null==e.frameElement&&a.documentElement}catch(i){}r&&r.doScroll&&function o(){if(!x.isReady){try{r.doScroll("left")}catch(e){return setTimeout(o,50)}_(),x.ready()}}()}return n.promise(t)},x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});function M(e){var t=e.length,n=x.type(e);return x.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}r=x(a),function(e,t){var n,r,i,o,a,s,l,u,c,p,f,d,h,g,m,y,v,b="sizzle"+-new Date,w=e.document,T=0,C=0,N=lt(),k=lt(),E=lt(),S=!1,A=function(){return 0},j=typeof t,D=1<<31,L={}.hasOwnProperty,H=[],q=H.pop,_=H.push,M=H.push,O=H.slice,F=H.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",W=R.replace("w","w#"),$="\\["+P+"*("+R+")"+P+"*(?:([*^$|!~]?=)"+P+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)"+P+"*\\]",I=":("+R+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+$.replace(3,8)+")*)|.*)\\)|)",z=RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),X=RegExp("^"+P+"*,"+P+"*"),U=RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),V=RegExp(P+"*[+~]"),Y=RegExp("="+P+"*([^\\]'\"]*)"+P+"*\\]","g"),J=RegExp(I),G=RegExp("^"+W+"$"),Q={ID:RegExp("^#("+R+")"),CLASS:RegExp("^\\.("+R+")"),TAG:RegExp("^("+R.replace("w","w*")+")"),ATTR:RegExp("^"+$),PSEUDO:RegExp("^"+I),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:RegExp("^(?:"+B+")$","i"),needsContext:RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{M.apply(H=O.call(w.childNodes),w.childNodes),H[w.childNodes.length].nodeType}catch(ot){M={apply:H.length?function(e,t){_.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function at(e,t,n,i){var o,a,s,l,u,c,d,m,y,x;if((t?t.ownerDocument||t:w)!==f&&p(t),t=t||f,n=n||[],!e||"string"!=typeof e)return n;if(1!==(l=t.nodeType)&&9!==l)return[];if(h&&!i){if(o=Z.exec(e))if(s=o[1]){if(9===l){if(a=t.getElementById(s),!a||!a.parentNode)return n;if(a.id===s)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&v(t,a)&&a.id===s)return n.push(a),n}else{if(o[2])return M.apply(n,t.getElementsByTagName(e)),n;if((s=o[3])&&r.getElementsByClassName&&t.getElementsByClassName)return M.apply(n,t.getElementsByClassName(s)),n}if(r.qsa&&(!g||!g.test(e))){if(m=d=b,y=t,x=9===l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){c=bt(e),(d=t.getAttribute("id"))?m=d.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",u=c.length;while(u--)c[u]=m+xt(c[u]);y=V.test(e)&&t.parentNode||t,x=c.join(",")}if(x)try{return M.apply(n,y.querySelectorAll(x)),n}catch(T){}finally{d||t.removeAttribute("id")}}}return At(e.replace(z,"$1"),t,n,i)}function st(e){return K.test(e+"")}function lt(){var e=[];function t(n,r){return e.push(n+=" ")>o.cacheLength&&delete t[e.shift()],t[n]=r}return t}function ut(e){return e[b]=!0,e}function ct(e){var t=f.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function pt(e,t,n){e=e.split("|");var r,i=e.length,a=n?null:t;while(i--)(r=o.attrHandle[e[i]])&&r!==t||(o.attrHandle[e[i]]=a)}function ft(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:e[t]===!0?t.toLowerCase():null}function dt(e,t){return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}function ht(e){return"input"===e.nodeName.toLowerCase()?e.defaultValue:t}function gt(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function mt(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function yt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function vt(e){return ut(function(t){return t=+t,ut(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}s=at.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},r=at.support={},p=at.setDocument=function(e){var n=e?e.ownerDocument||e:w,i=n.parentWindow;return n!==f&&9===n.nodeType&&n.documentElement?(f=n,d=n.documentElement,h=!s(n),i&&i.frameElement&&i.attachEvent("onbeforeunload",function(){p()}),r.attributes=ct(function(e){return e.innerHTML="<a href='#'></a>",pt("type|href|height|width",dt,"#"===e.firstChild.getAttribute("href")),pt(B,ft,null==e.getAttribute("disabled")),e.className="i",!e.getAttribute("className")}),r.input=ct(function(e){return e.innerHTML="<input>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}),pt("value",ht,r.attributes&&r.input),r.getElementsByTagName=ct(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=ct(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),r.getById=ct(function(e){return d.appendChild(e).id=b,!n.getElementsByName||!n.getElementsByName(b).length}),r.getById?(o.find.ID=function(e,t){if(typeof t.getElementById!==j&&h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t}}):(delete o.find.ID,o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==j&&e.getAttributeNode("id");return n&&n.value===t}}),o.find.TAG=r.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==j?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},o.find.CLASS=r.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==j&&h?n.getElementsByClassName(e):t},m=[],g=[],(r.qsa=st(n.querySelectorAll))&&(ct(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||g.push("\\["+P+"*(?:value|"+B+")"),e.querySelectorAll(":checked").length||g.push(":checked")}),ct(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&g.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(r.matchesSelector=st(y=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ct(function(e){r.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),m.push("!=",I)}),g=g.length&&RegExp(g.join("|")),m=m.length&&RegExp(m.join("|")),v=st(d.contains)||d.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},r.sortDetached=ct(function(e){return 1&e.compareDocumentPosition(n.createElement("div"))}),A=d.compareDocumentPosition?function(e,t){if(e===t)return S=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!r.sortDetached&&t.compareDocumentPosition(e)===i?e===n||v(w,e)?-1:t===n||v(w,t)?1:c?F.call(c,e)-F.call(c,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t)return S=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:c?F.call(c,e)-F.call(c,t):0;if(o===a)return gt(e,t);r=e;while(r=r.parentNode)s.unshift(r);r=t;while(r=r.parentNode)l.unshift(r);while(s[i]===l[i])i++;return i?gt(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},n):f},at.matches=function(e,t){return at(e,null,null,t)},at.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&p(e),t=t.replace(Y,"='$1']"),!(!r.matchesSelector||!h||m&&m.test(t)||g&&g.test(t)))try{var n=y.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return at(t,f,null,[e]).length>0},at.contains=function(e,t){return(e.ownerDocument||e)!==f&&p(e),v(e,t)},at.attr=function(e,n){(e.ownerDocument||e)!==f&&p(e);var i=o.attrHandle[n.toLowerCase()],a=i&&L.call(o.attrHandle,n.toLowerCase())?i(e,n,!h):t;return a===t?r.attributes||!h?e.getAttribute(n):(a=e.getAttributeNode(n))&&a.specified?a.value:null:a},at.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},at.uniqueSort=function(e){var t,n=[],i=0,o=0;if(S=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(A),S){while(t=e[o++])t===e[o]&&(i=n.push(o));while(i--)e.splice(n[i],1)}return e},a=at.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=a(t);return n},o=at.selectors={cacheLength:50,createPseudo:ut,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||at.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&at.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&J.test(r)&&(n=bt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=N[e+" "];return t||(t=RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&N(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==j&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=at.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(m){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[b]||(m[b]={}),u=c[e]||[],d=u[0]===T&&u[1],f=u[0]===T&&u[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if(1===p.nodeType&&++f&&p===t){c[e]=[T,d,f];break}}else if(v&&(u=(t[b]||(t[b]={}))[e])&&u[0]===T)f=u[1];else while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[b]||(p[b]={}))[e]=[T,f]),p===t))break;return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||at.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?ut(function(e,n){var i,o=r(e,t),a=o.length;while(a--)i=F.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:ut(function(e){var t=[],n=[],r=l(e.replace(z,"$1"));return r[b]?ut(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:ut(function(e){return function(t){return at(e,t).length>0}}),contains:ut(function(e){return function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)>-1}}),lang:ut(function(e){return G.test(e||"")||at.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:vt(function(){return[0]}),last:vt(function(e,t){return[t-1]}),eq:vt(function(e,t,n){return[0>n?n+t:n]}),even:vt(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:vt(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:vt(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:vt(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}};for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[n]=mt(n);for(n in{submit:!0,reset:!0})o.pseudos[n]=yt(n);function bt(e,t){var n,r,i,a,s,l,u,c=k[e+" "];if(c)return t?0:c.slice(0);s=e,l=[],u=o.preFilter;while(s){(!n||(r=X.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(i=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(z," ")}),s=s.slice(n.length));for(a in o.filter)!(r=Q[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?at.error(e):k(e,l).slice(0)}function xt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function wt(e,t,n){var r=t.dir,o=n&&"parentNode"===r,a=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,s){var l,u,c,p=T+" "+a;if(s){while(t=t[r])if((1===t.nodeType||o)&&e(t,n,s))return!0}else while(t=t[r])if(1===t.nodeType||o)if(c=t[b]||(t[b]={}),(u=c[r])&&u[0]===p){if((l=u[1])===!0||l===i)return l===!0}else if(u=c[r]=[p],u[1]=e(t,n,s)||i,u[1]===!0)return!0}}function Tt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function Ct(e,t,n,r,i){var o,a=[],s=0,l=e.length,u=null!=t;for(;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function Nt(e,t,n,r,i,o){return r&&!r[b]&&(r=Nt(r)),i&&!i[b]&&(i=Nt(i,o)),ut(function(o,a,s,l){var u,c,p,f=[],d=[],h=a.length,g=o||St(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:Ct(g,f,e,s,l),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,l),r){u=Ct(y,d),r(u,[],s,l),c=u.length;while(c--)(p=u[c])&&(y[d[c]]=!(m[d[c]]=p))}if(o){if(i||e){if(i){u=[],c=y.length;while(c--)(p=y[c])&&u.push(m[c]=p);i(null,y=[],u,l)}c=y.length;while(c--)(p=y[c])&&(u=i?F.call(o,p):f[c])>-1&&(o[u]=!(a[u]=p))}}else y=Ct(y===a?y.splice(h,y.length):y),i?i(null,a,y,l):M.apply(a,y)})}function kt(e){var t,n,r,i=e.length,a=o.relative[e[0].type],s=a||o.relative[" "],l=a?1:0,c=wt(function(e){return e===t},s,!0),p=wt(function(e){return F.call(t,e)>-1},s,!0),f=[function(e,n,r){return!a&&(r||n!==u)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;i>l;l++)if(n=o.relative[e[l].type])f=[wt(Tt(f),n)];else{if(n=o.filter[e[l].type].apply(null,e[l].matches),n[b]){for(r=++l;i>r;r++)if(o.relative[e[r].type])break;return Nt(l>1&&Tt(f),l>1&&xt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,r>l&&kt(e.slice(l,r)),i>r&&kt(e=e.slice(r)),i>r&&xt(e))}f.push(n)}return Tt(f)}function Et(e,t){var n=0,r=t.length>0,a=e.length>0,s=function(s,l,c,p,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,C=u,N=s||a&&o.find.TAG("*",d&&l.parentNode||l),k=T+=null==C?1:Math.random()||.1;for(w&&(u=l!==f&&l,i=n);null!=(h=N[b]);b++){if(a&&h){g=0;while(m=e[g++])if(m(h,l,c)){p.push(h);break}w&&(T=k,i=++n)}r&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,r&&b!==v){g=0;while(m=t[g++])m(x,y,l,c);if(s){if(v>0)while(b--)x[b]||y[b]||(y[b]=q.call(p));y=Ct(y)}M.apply(p,y),w&&!s&&y.length>0&&v+t.length>1&&at.uniqueSort(p)}return w&&(T=k,u=C),x};return r?ut(s):s}l=at.compile=function(e,t){var n,r=[],i=[],o=E[e+" "];if(!o){t||(t=bt(e)),n=t.length;while(n--)o=kt(t[n]),o[b]?r.push(o):i.push(o);o=E(e,Et(i,r))}return o};function St(e,t,n){var r=0,i=t.length;for(;i>r;r++)at(e,t[r],n);return n}function At(e,t,n,i){var a,s,u,c,p,f=bt(e);if(!i&&1===f.length){if(s=f[0]=f[0].slice(0),s.length>2&&"ID"===(u=s[0]).type&&r.getById&&9===t.nodeType&&h&&o.relative[s[1].type]){if(t=(o.find.ID(u.matches[0].replace(rt,it),t)||[])[0],!t)return n;e=e.slice(s.shift().value.length)}a=Q.needsContext.test(e)?0:s.length;while(a--){if(u=s[a],o.relative[c=u.type])break;if((p=o.find[c])&&(i=p(u.matches[0].replace(rt,it),V.test(s[0].type)&&t.parentNode||t))){if(s.splice(a,1),e=i.length&&xt(s),!e)return M.apply(n,i),n;break}}}return l(e,f)(i,t,!h,n,V.test(e)),n}o.pseudos.nth=o.pseudos.eq;function jt(){}jt.prototype=o.filters=o.pseudos,o.setFilters=new jt,r.sortStable=b.split("").sort(A).join("")===b,p(),[0,0].sort(A),r.detectDuplicates=S,x.find=at,x.expr=at.selectors,x.expr[":"]=x.expr.pseudos,x.unique=at.uniqueSort,x.text=at.getText,x.isXMLDoc=at.isXML,x.contains=at.contains}(e);var O={};function F(e){var t=O[e]={};return x.each(e.match(T)||[],function(e,n){t[n]=!0}),t}x.Callbacks=function(e){e="string"==typeof e?O[e]||F(e):x.extend({},e);var n,r,i,o,a,s,l=[],u=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=l.length,n=!0;l&&o>a;a++)if(l[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,l&&(u?u.length&&c(u.shift()):r?l=[]:p.disable())},p={add:function(){if(l){var t=l.length;(function i(t){x.each(t,function(t,n){var r=x.type(n);"function"===r?e.unique&&p.has(n)||l.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=l.length:r&&(s=t,c(r))}return this},remove:function(){return l&&x.each(arguments,function(e,t){var r;while((r=x.inArray(t,l,r))>-1)l.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}),this},has:function(e){return e?x.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=u=r=t,this},disabled:function(){return!l},lock:function(){return u=t,r||p.disable(),this},locked:function(){return!u},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!l||i&&!u||(n?u.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},x.extend({Deferred:function(e){var t=[["resolve","done",x.Callbacks("once memory"),"resolved"],["reject","fail",x.Callbacks("once memory"),"rejected"],["notify","progress",x.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,o){var a=o[0],s=x.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},i={};return r.pipe=r.then,x.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=g.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,o=1===i?e:x.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?g.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,l,u;if(r>1)for(s=Array(r),l=Array(r),u=Array(r);r>t;t++)n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i;return i||o.resolveWith(u,n),o.promise()}}),x.support=function(t){var n,r,o,s,l,u,c,p,f,d=a.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],r=d.getElementsByTagName("a")[0],!r||!r.style||!n.length)return t;s=a.createElement("select"),u=s.appendChild(a.createElement("option")),o=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!o.value,t.optSelected=u.selected,t.enctype=!!a.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==a.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!u.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}o=a.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),l=a.createDocumentFragment(),l.appendChild(o),t.appendChecked=o.checked,t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in{submit:!0,change:!0,focusin:!0})d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(f in x(t))break;return t.ownLast="0"!==f,x(function(){var n,r,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",l=a.getElementsByTagName("body")[0];l&&(n=a.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",l.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=p&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",x.swap(l,null!=l.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(a.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(l.style.zoom=1)),l.removeChild(n),n=d=o=r=null)
}),n=s=l=u=r=o=null,t}({});var B=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;function R(e,n,r,i){if(x.acceptData(e)){var o,a,s=x.expando,l=e.nodeType,u=l?x.cache:e,c=l?e[s]:e[s]&&s;if(c&&u[c]&&(i||u[c].data)||r!==t||"string"!=typeof n)return c||(c=l?e[s]=p.pop()||x.guid++:s),u[c]||(u[c]=l?{}:{toJSON:x.noop}),("object"==typeof n||"function"==typeof n)&&(i?u[c]=x.extend(u[c],n):u[c].data=x.extend(u[c].data,n)),a=u[c],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[x.camelCase(n)]=r),"string"==typeof n?(o=a[n],null==o&&(o=a[x.camelCase(n)])):o=a,o}}function W(e,t,n){if(x.acceptData(e)){var r,i,o=e.nodeType,a=o?x.cache:e,s=o?e[x.expando]:x.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){x.isArray(t)?t=t.concat(x.map(t,x.camelCase)):t in r?t=[t]:(t=x.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;while(i--)delete r[t[i]];if(n?!I(r):!x.isEmptyObject(r))return}(n||(delete a[s].data,I(a[s])))&&(o?x.cleanData([e],!0):x.support.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}x.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?x.cache[e[x.expando]]:e[x.expando],!!e&&!I(e)},data:function(e,t,n){return R(e,t,n)},removeData:function(e,t){return W(e,t)},_data:function(e,t,n){return R(e,t,n,!0)},_removeData:function(e,t){return W(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&x.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),x.fn.extend({data:function(e,n){var r,i,o=null,a=0,s=this[0];if(e===t){if(this.length&&(o=x.data(s),1===s.nodeType&&!x._data(s,"parsedAttrs"))){for(r=s.attributes;r.length>a;a++)i=r[a].name,0===i.indexOf("data-")&&(i=x.camelCase(i.slice(5)),$(s,i,o[i]));x._data(s,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){x.data(this,e)}):arguments.length>1?this.each(function(){x.data(this,e,n)}):s?$(s,e,x.data(s,e)):null},removeData:function(e){return this.each(function(){x.removeData(this,e)})}});function $(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(P,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:B.test(r)?x.parseJSON(r):r}catch(o){}x.data(e,n,r)}else r=t}return r}function I(e){var t;for(t in e)if(("data"!==t||!x.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}x.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=x._data(e,n),r&&(!i||x.isArray(r)?i=x._data(e,n,x.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t),a=function(){x.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return x._data(e,n)||x._data(e,n,{empty:x.Callbacks("once memory").add(function(){x._removeData(e,t+"queue"),x._removeData(e,n)})})}}),x.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?x.queue(this[0],e):n===t?this:this.each(function(){var t=x.queue(this,e,n);x._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=x.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(s--)r=x._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var z,X,U=/[\t\r\n\f]/g,V=/\r/g,Y=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,Q=x.support.getSetAttribute,K=x.support.input;x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return e=x.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,l="string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(T)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):" ")){o=0;while(i=t[o++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=x.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(T)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):"")){o=0;while(i=t[o++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?x.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var o,a=0,s=x(this),l=t,u=e.match(T)||[];while(o=u[a++])l=r?l:!s.hasClass(o),s[l?"addClass":"removeClass"](o)}else(n===i||"boolean"===n)&&(this.className&&x._data(this,"__className__",this.className),this.className=this.className||e===!1?"":x._data(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(U," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=x.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,x(this).val()):e,null==o?o="":"number"==typeof o?o+="":x.isArray(o)&&(o=x.map(o,function(e){return null==e?"":e+""})),r=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,o,"value")!==t||(this.value=o))});if(o)return r=x.valHooks[o.type]||x.valHooks[o.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(V,""):null==n?"":n)}}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;for(;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&x.nodeName(n.parentNode,"optgroup"))){if(t=x(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n,r,i=e.options,o=x.makeArray(t),a=i.length;while(a--)r=i[a],(r.selected=x.inArray(x(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===i?x.prop(e,n,r):(1===s&&x.isXMLDoc(e)||(n=n.toLowerCase(),o=x.attrHooks[n]||(x.expr.match.bool.test(n)?X:z)),r===t?o&&"get"in o&&null!==(a=o.get(e,n))?a:(a=x.find.attr(e,n),null==a?t:a):null!==r?o&&"set"in o&&(a=o.set(e,r,n))!==t?a:(e.setAttribute(n,r+""),r):(x.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(T);if(o&&1===e.nodeType)while(n=o[i++])r=x.propFix[n]||n,x.expr.match.bool.test(n)?K&&Q||!G.test(n)?e[r]=!1:e[x.camelCase("default-"+n)]=e[r]=!1:x.attr(e,n,""),e.removeAttribute(Q?n:r)},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&&"radio"===t&&x.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!x.isXMLDoc(e),a&&(n=x.propFix[n]||n,o=x.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):Y.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:-1}}}}),X={set:function(e,t,n){return t===!1?x.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&x.propFix[n]||n,n):e[x.camelCase("default-"+n)]=e[n]=!0,n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,n){var r=x.expr.attrHandle[n]||x.find.attr;x.expr.attrHandle[n]=K&&Q||!G.test(n)?function(e,n,i){var o=x.expr.attrHandle[n],a=i?t:(x.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return x.expr.attrHandle[n]=o,a}:function(e,n,r){return r?t:e[x.camelCase("default-"+n)]?n.toLowerCase():null}}),K&&Q||(x.attrHooks.value={set:function(e,n,r){return x.nodeName(e,"input")?(e.defaultValue=n,t):z&&z.set(e,n,r)}}),Q||(z={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},x.expr.attrHandle.id=x.expr.attrHandle.name=x.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&""!==i.value?i.value:null},x.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:z.set},x.attrHooks.contenteditable={set:function(e,t,n){z.set(e,""===t?!1:t,n)}},x.each(["width","height"],function(e,n){x.attrHooks[n]={set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}}})),x.support.hrefNormalized||x.each(["href","src"],function(e,t){x.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),x.support.style||(x.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.support.enctype||(x.propFix.enctype="encoding"),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,n){return x.isArray(n)?e.checked=x.inArray(x(e).val(),n)>=0:t}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return!0}function ot(){return!1}function at(){try{return a.activeElement}catch(e){}}x.event={global:{},add:function(e,n,r,o,a){var s,l,u,c,p,f,d,h,g,m,y,v=x._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=x.guid++),(l=v.events)||(l=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof x===i||e&&x.event.triggered===e.type?t:x.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(T)||[""],u=n.length;while(u--)s=rt.exec(n[u])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),g&&(p=x.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=x.event.special[g]||{},d=x.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&x.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=l[g])||(h=l[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),x.event.global[g]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,p,f,d,h,g,m=x.hasData(e)&&x._data(e);if(m&&(c=m.events)){t=(t||"").match(T)||[""],u=t.length;while(u--)if(s=rt.exec(t[u])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=x.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;while(o--)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a));l&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||x.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)x.event.remove(e,d+t[u],n,r,!0);x.isEmptyObject(c)&&(delete m.handle,x._removeData(e,"events"))}},trigger:function(n,r,i,o){var s,l,u,c,p,f,d,h=[i||a],g=v.call(n,"type")?n.type:n,m=v.call(n,"namespace")?n.namespace.split("."):[];if(u=f=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+x.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),l=0>g.indexOf(":")&&"on"+g,n=n[x.expando]?n:new x.Event(g,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:x.makeArray(r,[n]),p=x.event.special[g]||{},o||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!o&&!p.noBubble&&!x.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(u=u.parentNode);u;u=u.parentNode)h.push(u),f=u;f===(i.ownerDocument||a)&&h.push(f.defaultView||f.parentWindow||e)}d=0;while((u=h[d++])&&!n.isPropagationStopped())n.type=d>1?c:p.bindType||g,s=(x._data(u,"events")||{})[n.type]&&x._data(u,"handle"),s&&s.apply(u,r),s=l&&u[l],s&&x.acceptData(u)&&s.apply&&s.apply(u,r)===!1&&n.preventDefault();if(n.type=g,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(h.pop(),r)===!1)&&x.acceptData(i)&&l&&i[g]&&!x.isWindow(i)){f=i[l],f&&(i[l]=null),x.event.triggered=g;try{i[g]()}catch(y){}x.event.triggered=t,f&&(i[l]=f)}return n.result}},dispatch:function(e){e=x.event.fix(e);var n,r,i,o,a,s=[],l=g.call(arguments),u=(x._data(this,"events")||{})[e.type]||[],c=x.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=x.event.handlers.call(this,e,u),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((x.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(o=[],a=0;l>a;a++)i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?x(r,this).index(u)>=0:x.find(r,this,null,[u]).length),o[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[x.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new x.Event(o),t=r.length;while(t--)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||a),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,s=n.button,l=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||a,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&l&&(e.relatedTarget=l===e.target?n.toElement:l),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==at()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===at()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return x.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return x.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},x.removeEvent=a.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},x.Event=function(e,n){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&x.extend(this,n),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,t):new x.Event(e,n)},x.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},x.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!x.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),x.support.submitBubbles||(x.event.special.submit={setup:function(){return x.nodeName(this,"form")?!1:(x.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=x.nodeName(n,"input")||x.nodeName(n,"button")?n.form:t;r&&!x._data(r,"submitBubbles")&&(x.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),x._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&x.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return x.nodeName(this,"form")?!1:(x.event.remove(this,"._submit"),t)}}),x.support.changeBubbles||(x.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(x.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),x.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),x.event.simulate("change",this,e,!0)})),!1):(x.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!x._data(t,"changeBubbles")&&(x.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||x.event.simulate("change",this.parentNode,e,!0)}),x._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return x.event.remove(this,"._change"),!Z.test(this.nodeName)}}),x.support.focusinBubbles||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0)};x.event.special[t]={setup:function(){0===n++&&a.addEventListener(e,r,!0)},teardown:function(){0===--n&&a.removeEventListener(e,r,!0)}}}),x.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=ot;else if(!i)return this;return 1===o&&(s=i,i=function(e){return x().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=x.guid++)),this.each(function(){x.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){x.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?x.event.trigger(e,n,r,!0):t}});var st=/^.[^:#\[\.,]*$/,lt=/^(?:parents|prev(?:Until|All))/,ut=x.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;i>t;t++)if(x.contains(r[t],this))return!0}));for(t=0;i>t;t++)x.find(e,r[t],n);return n=this.pushStack(i>1?x.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=x(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(x.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e||[],!0))},filter:function(e){return this.pushStack(ft(this,e||[],!1))},is:function(e){return!!ft(this,"string"==typeof e&&ut.test(e)?x(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,o=[],a=ut.test(e)||"string"!=typeof e?x(e,t||this.context):0;for(;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(a?a.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?x.unique(o):o)},index:function(e){return e?"string"==typeof e?x.inArray(this[0],x(e)):x.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),r=x.merge(this.get(),n);return this.pushStack(x.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function pt(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x.dir(e,"parentNode")},parentsUntil:function(e,t,n){return x.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return x.dir(e,"nextSibling")},prevAll:function(e){return x.dir(e,"previousSibling")},nextUntil:function(e,t,n){return x.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return x.dir(e,"previousSibling",n)},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return x.sibling(e.firstChild)},contents:function(e){return x.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:x.merge([],e.childNodes)}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(ct[e]||(i=x.unique(i)),lt.test(e)&&(i=i.reverse())),this.pushStack(i)}}),x.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!x(o).is(r)))1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});function ft(e,t,n){if(x.isFunction(t))return x.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return x.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(st.test(t))return x.filter(t,e,n);t=x.filter(t,e)}return x.grep(e,function(e){return x.inArray(e,t)>=0!==n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Ct=/^(?:checkbox|radio)$/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:x.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(a),Dt=jt.appendChild(a.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===t?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||a).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?x.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++)t||1!==n.nodeType||x.cleanData(Ft(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&_t(Ft(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&x.cleanData(Ft(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&x.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return x.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(gt,""):t;if(!("string"!=typeof e||Tt.test(e)||!x.support.htmlSerialize&&mt.test(e)||!x.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(x.cleanData(Ft(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=d.apply([],e);var r,i,o,a,s,l,u=0,c=this.length,p=this,f=c-1,h=e[0],g=x.isFunction(h);if(g||!(1>=c||"string"!=typeof h||x.support.checkClone)&&Nt.test(h))return this.each(function(r){var i=p.eq(r);g&&(e[0]=h.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(l=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=l.firstChild,1===l.childNodes.length&&(l=r),r)){for(a=x.map(Ft(l,"script"),Ht),o=a.length;c>u;u++)i=l,u!==f&&(i=x.clone(i,!0,!0),o&&x.merge(a,Ft(i,"script"))),t.call(this[u],i,u);if(o)for(s=a[a.length-1].ownerDocument,x.map(a,qt),u=0;o>u;u++)i=a[u],kt.test(i.type||"")&&!x._data(i,"globalEval")&&x.contains(s,i)&&(i.src?x._evalUrl(i.src):x.globalEval((i.text||i.textContent||i.innerHTML||"").replace(St,"")));l=r=null}return this}});function Lt(e,t){return x.nodeName(e,"table")&&x.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Ht(e){return e.type=(null!==x.find.attr(e,"type"))+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _t(e,t){var n,r=0;for(;null!=(n=e[r]);r++)x._data(n,"globalEval",!t||x._data(t[r],"globalEval"))}function Mt(e,t){if(1===t.nodeType&&x.hasData(e)){var n,r,i,o=x._data(e),a=x._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)x.event.add(t,n,s[n][r])}a.data&&(a.data=x.extend({},a.data))}}function Ot(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!x.support.noCloneEvent&&t[x.expando]){i=x._data(t);for(r in i.events)x.removeEvent(t,r,i.handle);t.removeAttribute(x.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),x.support.html5Clone&&e.innerHTML&&!x.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ct.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){var n,r=0,i=[],o=x(e),a=o.length-1;for(;a>=r;r++)n=r===a?this:this.clone(!0),x(o[r])[t](n),h.apply(i,n.get());return this.pushStack(i)}});function Ft(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++)!n||x.nodeName(o,n)?s.push(o):x.merge(s,Ft(o,n));return n===t||n&&x.nodeName(e,n)?x.merge([e],s):s}function Bt(e){Ct.test(e.type)&&(e.defaultChecked=e.checked)}x.extend({clone:function(e,t,n){var r,i,o,a,s,l=x.contains(e.ownerDocument,e);if(x.support.html5Clone||x.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(x.support.noCloneEvent&&x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(r=Ft(o),s=Ft(e),a=0;null!=(i=s[a]);++a)r[a]&&Ot(i,r[a]);if(t)if(n)for(s=s||Ft(e),r=r||Ft(o),a=0;null!=(i=s[a]);a++)Mt(i,r[a]);else Mt(e,o);return r=Ft(o,"script"),r.length>0&&_t(r,!l&&Ft(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,l,u,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++)if(o=e[h],o||0===o)if("object"===x.type(o))x.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),l=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[l]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];while(i--)s=s.lastChild;if(!x.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!x.support.tbody){o="table"!==l||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;while(i--)x.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u)}x.merge(d,s.childNodes),s.textContent="";while(s.firstChild)s.removeChild(s.firstChild);s=f.lastChild}else d.push(t.createTextNode(o));s&&f.removeChild(s),x.support.appendChecked||x.grep(Ft(d,"input"),Bt),h=0;while(o=d[h++])if((!r||-1===x.inArray(o,r))&&(a=x.contains(o.ownerDocument,o),s=Ft(f.appendChild(o),"script"),a&&_t(s),n)){i=0;while(o=s[i++])kt.test(o.type||"")&&n.push(o)}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,l=x.expando,u=x.cache,c=x.support.deleteExpando,f=x.event.special;for(;null!=(n=e[s]);s++)if((t||x.acceptData(n))&&(o=n[l],a=o&&u[o])){if(a.events)for(r in a.events)f[r]?x.event.remove(n,r):x.removeEvent(n,r,a.handle);
u[o]&&(delete u[o],c?delete n[l]:typeof n.removeAttribute!==i?n.removeAttribute(l):n[l]=null,p.push(o))}},_evalUrl:function(e){return x.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),x.fn.extend({wrapAll:function(e){if(x.isFunction(e))return this.each(function(t){x(this).wrapAll(e.call(this,t))});if(this[0]){var t=x(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){x.nodeName(this,"body")||x(this).replaceWith(this.childNodes)}).end()}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+w+")(.*)$","i"),Yt=RegExp("^("+w+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+w+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--)if(t=en[i]+n,t in e)return t;return r}function nn(e,t){return e=t||e,"none"===x.css(e,"display")||!x.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++)r=e[a],r.style&&(o[a]=x._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=x._data(r,"olddisplay",ln(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&x._data(r,"olddisplay",i?n:x.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}x.fn.extend({css:function(e,n){return x.access(this,function(e,n,r){var i,o,a={},s=0;if(x.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++)a[n[s]]=x.css(e,n[s],!1,o);return a}return r!==t?x.style(e,n,r):x.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:nn(this))?x(this).show():x(this).hide()})}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":x.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=x.camelCase(n),u=e.style;if(n=x.cssProps[l]||(x.cssProps[l]=tn(u,l)),s=x.cssHooks[n]||x.cssHooks[l],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:u[n];if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(x.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||x.cssNumber[l]||(r+="px"),x.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{u[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,l=x.camelCase(n);return n=x.cssProps[l]||(x.cssProps[l]=tn(e.style,l)),s=x.cssHooks[n]||x.cssHooks[l],s&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||x.isNumeric(o)?o||0:a):a}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s.getPropertyValue(n)||s[n]:t,u=e.style;return s&&(""!==l||x.contains(e.ownerDocument,e)||(l=x.style(e,n)),Yt.test(l)&&Ut.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),l}):a.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s[n]:t,u=e.style;return null==l&&u&&u[n]&&(l=u[n]),Yt.test(l)&&!zt.test(n)&&(i=u.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=i,a&&(o.left=a)),""===l?"auto":l});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;for(;4>o;o+=2)"margin"===n&&(a+=x.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=x.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=x.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=x.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=x.css(e,"border"+Zt[o]+"Width",!0,i)));return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i))return i;r=a&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function ln(e){var t=a,n=Gt[e];return n||(n=un(e,t),"none"!==n&&n||(Pt=(Pt||x("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=un(e,t),Pt.detach()),Gt[e]=n),n}function un(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],"display");return n.remove(),r}x.each(["height","width"],function(e,n){x.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(x.css(e,"display"))?x.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,i),i):0)}}}),x.support.opacity||(x.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=x.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===x.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,n){return n?x.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!x.support.pixelPosition&&x.fn.position&&x.each(["top","left"],function(e,n){x.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?x(e).position()[n]+"px":r):t}}})}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!x.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||x.css(e,"display"))},x.expr.filters.visible=function(e){return!x.expr.filters.hidden(e)}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+Zt[r]+t]=o[r]||o[r-2]||o[0];return i}},Ut.test(e)||(x.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Ct.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),x.param=function(e,n){var r,i=[],o=function(e,t){t=x.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){o(this.name,this.value)});else for(r in e)gn(r,e[r],n,o);return i.join("&").replace(cn,"+")};function gn(e,t,n,r){var i;if(x.isArray(t))x.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==x.type(t))r(e,t);else for(i in t)gn(e+"["+i+"]",t[i],n,r)}x.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var mn,yn,vn=x.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=x.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=o.href}catch(Ln){yn=a.createElement("a"),yn.href="",yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(T)||[];if(x.isFunction(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qn(e,n,r,i){var o={},a=e===jn;function s(l){var u;return o[l]=!0,x.each(e[l]||[],function(e,l){var c=l(n,r,i);return"string"!=typeof c||a||o[c]?a?!(u=c):t:(n.dataTypes.unshift(c),s(c),!1)}),u}return s(n.dataTypes[0])||!o["*"]&&s("*")}function _n(e,n){var r,i,o=x.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&x.extend(!0,e,r),e}x.fn.load=function(e,n,r){if("string"!=typeof e&&Sn)return Sn.apply(this,arguments);var i,o,a,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),x.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&x.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?x("<div>").append(x.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Cn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":x.parseJSON,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_n(_n(e,x.ajaxSettings),t):_n(x.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,l,u,c,p=x.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?x(f):x.event,h=x.Deferred(),g=x.Callbacks("once memory"),m=p.statusCode||{},y={},v={},b=0,w="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c){c={};while(t=Tn.exec(a))c[t[1].toLowerCase()]=t[2]}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||w;return u&&u.abort(t),k(0,t),this}};if(h.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=x.trim(p.dataType||"*").toLowerCase().match(T)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(mn[3]||("http:"===mn[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),qn(An,p,n,C),2===b)return C;l=p.global,l&&0===x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Nn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(x.lastModified[o]&&C.setRequestHeader("If-Modified-Since",x.lastModified[o]),x.etag[o]&&C.setRequestHeader("If-None-Match",x.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers)C.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(p.beforeSend.call(f,C,p)===!1||2===b))return C.abort();w="abort";for(i in{success:1,error:1,complete:1})C[i](p[i]);if(u=qn(jn,p,n,C)){C.readyState=1,l&&d.trigger("ajaxSend",[C,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){C.abort("timeout")},p.timeout));try{b=1,u.send(y,k)}catch(N){if(!(2>b))throw N;k(-1,N)}}else k(-1,"No Transport");function k(e,n,r,i){var c,y,v,w,T,N=n;2!==b&&(b=2,s&&clearTimeout(s),u=t,a=i||"",C.readyState=e>0?4:0,c=e>=200&&300>e||304===e,r&&(w=Mn(p,C,r)),w=On(p,w,C,c),c?(p.ifModified&&(T=C.getResponseHeader("Last-Modified"),T&&(x.lastModified[o]=T),T=C.getResponseHeader("etag"),T&&(x.etag[o]=T)),204===e||"HEAD"===p.type?N="nocontent":304===e?N="notmodified":(N=w.state,y=w.data,v=w.error,c=!v)):(v=N,(e||!N)&&(N="error",0>e&&(e=0))),C.status=e,C.statusText=(n||N)+"",c?h.resolveWith(f,[y,N,C]):h.rejectWith(f,[C,N,v]),C.statusCode(m),m=t,l&&d.trigger(c?"ajaxSuccess":"ajaxError",[C,p,c?y:v]),g.fireWith(f,[C,N]),l&&(d.trigger("ajaxComplete",[C,p]),--x.active||x.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,n){return x.get(e,t,n,"script")}}),x.each(["get","post"],function(e,n){x[n]=function(e,r,i,o){return x.isFunction(r)&&(o=o||i,i=r,r=t),x.ajax({url:e,type:n,dataType:o,data:r,success:i})}});function Mn(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){u.unshift(s);break}if(u[0]in r)a=u[0];else{for(s in r){if(!u[0]||e.converters[s+" "+u[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==u[0]&&u.unshift(a),r[a]):t}function On(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(p){return{state:"parsererror",error:a?p:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),x.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=a.head||x("head")[0]||a.documentElement;return{send:function(t,i){n=a.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Fn=[],Bn=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fn.pop()||x.expando+"_"+vn++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=x.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||x.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Fn.push(o)),s&&x.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn)Pn[e](t,!0)};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}x.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&In()||zn()}:In,Rn=x.ajaxSettings.xhr(),x.support.cors=!!Rn&&"withCredentials"in Rn,Rn=x.support.ajax=!!Rn,Rn&&x.ajaxTransport(function(n){if(!n.crossDomain||x.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(u){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,p;try{if(r&&(i||4===l.readyState))if(r=t,a&&(l.onreadystatechange=x.noop,$n&&delete Pn[a]),i)4!==l.readyState&&l.abort();else{p={},s=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(p.text=l.responseText);try{c=l.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(d){i||o(-1,d)}p&&o(s,c,p,u)},n.async?4===l.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},x(e).unload($n)),Pn[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+w+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Yn.exec(t),o=i&&i[3]||(x.cssNumber[e]?"":"px"),a=(x.cssNumber[e]||"px"!==o&&+r)&&Yn.exec(x.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,x.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=x.now()}function Zn(e,t,n){var r,i=(Qn[t]||[]).concat(Qn["*"]),o=0,a=i.length;for(;a>o;o++)if(r=i[o].call(n,t,e))return r}function er(e,t,n){var r,i,o=0,a=Gn.length,s=x.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;var t=Xn||Kn(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;for(;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(tr(c,u.opts.specialEasing);a>o;o++)if(r=Gn[o].call(u,e,c,u.opts))return r;return x.map(c,Zn,u),x.isFunction(u.opts.start)&&u.opts.start.call(e,u),x.fx.timer(x.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function tr(e,t){var n,r,i,o,a;for(n in e)if(r=x.camelCase(n),i=t[r],o=e[n],x.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=x.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}x.Animation=x.extend(er,{tweener:function(e,t){x.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,l,u=this,c={},p=e.style,f=e.nodeType&&nn(e),d=x._data(e,"fxshow");n.queue||(s=x._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,x.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===x.css(e,"display")&&"none"===x.css(e,"float")&&(x.support.inlineBlockNeedsLayout&&"inline"!==ln(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",x.support.shrinkWrapBlocks||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Vn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(f?"hide":"show"))continue;c[r]=d&&d[r]||x.style(e,r)}if(!x.isEmptyObject(c)){d?"hidden"in d&&(f=d.hidden):d=x._data(e,"fxshow",{}),o&&(d.hidden=!f),f?x(e).show():u.done(function(){x(e).hide()}),u.done(function(){var t;x._removeData(e,"fxshow");for(t in c)x.style(e,t,c[t])});for(r in c)a=Zn(f?d[r]:0,r,u),r in d||(d[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}x.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),a=function(){var t=er(this,x.extend({},e),o);(i||x._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=x.timers,a=x._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Jn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&x.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=x._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,a=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}x.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};return r.duration=x.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},x.timers=[],x.fx=rr.prototype.init,x.fx.tick=function(){var e,n=x.timers,r=0;for(Xn=x.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||x.fx.stop(),Xn=t},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start()},x.fx.interval=13,x.fx.start=function(){Un||(Un=setInterval(x.fx.tick,x.fx.interval))},x.fx.stop=function(){clearInterval(Un),Un=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length}),x.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){x.offset.setOffset(this,e,t)});var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s)return n=s.documentElement,x.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},x.offset={setOffset:function(e,t,n){var r=x.css(e,"position");"static"===r&&(e.style.position="relative");var i=x(e),o=i.offset(),a=x.css(e,"top"),s=x.css(e,"left"),l=("absolute"===r||"fixed"===r)&&x.inArray("auto",[a,s])>-1,u={},c={},p,f;l?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),x.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(u.top=t.top-o.top+p),null!=t.left&&(u.left=t.left-o.left+f),"using"in t?t.using.call(e,u):i.css(u)}},x.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===x.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],"html")||(n=e.offset()),n.top+=x.css(e[0],"borderTopWidth",!0),n.left+=x.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-x.css(r,"marginTop",!0),left:t.left-n.left-x.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s;while(e&&!x.nodeName(e,"html")&&"static"===x.css(e,"position"))e=e.offsetParent;return e||s})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);x.fn[e]=function(i){return x.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?x(a).scrollLeft():o,r?o:x(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return x.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}x.each({Height:"height",Width:"width"},function(e,n){x.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){x.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return x.access(this,function(n,r,i){var o;return x.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?x.css(n,r,s):x.style(n,r,i,s)},n,a?i:t,a,null)}})}),x.fn.size=function(){return this.length},x.fn.andSelf=x.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=x:(e.jQuery=e.$=x,"function"==typeof define&&define.amd&&define("jquery",[],function(){return x}))})(window);
;
/* Js/WL/rwd/fwk/extend.js */
window.$fwk=window.jQuery||window.cm;!$.get&&($.get=function(url,success){$.getXHR(url,{success:success})});!$.ajax&&($.ajax=function(settings){$.getXHR(settings.url,settings)});!$.parseJSON&&($.parseJSON=function(str){return window.JSON?JSON.parse(str):eval('('+str+')')});!$.stringify&&($.stringify=function(obj){return window.JSON?JSON.stringify(obj):""});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\xA0]+|[\s\xA0]+$/g,"")});String.prototype.format=function(){var str=this;for(var i=0;i<arguments.length;i++){var regEx=new RegExp("\\{"+(i)+"\\}","gm");str=str.replace(regEx,arguments[i])}return str};Array.prototype.map||(Array.prototype.map=function(fn,obj){for(var tab=[],i=0;i<this.length;i++){tab[i]=fn.call(obj,this[i],i,this)}return tab});if(!Array.prototype.forEach){Array.prototype.forEach=function(callback,thisArg){var T,k;if(this===null){throw new TypeError(' this is null or not defined');}var O=Object(this);var len=O.length>>>0;if(typeof callback!=="function"){throw new TypeError(callback+' is not a function');}if(arguments.length>1){T=thisArg}k=0;while(k<len){var kValue;if(k in O){kValue=O[k];callback.call(T,kValue,k,O)}k++}}}if(!Array.prototype.filter){Array.prototype.filter=function(fun){'use strict';if(this===void 0||this===null){throw new TypeError;}var t=Object(this);var len=t.length>>>0;if(typeof fun!=='function'){throw new TypeError;}var res=[];var thisArg=arguments.length>=2?arguments[1]:void 0;for(var i=0;i<len;i++){if(i in t){var val=t[i];if(fun.call(thisArg,val,i,t)){res.push(val)}}}return res}}if(!Array.prototype.includes){Array.prototype.includes=function(searchElement){'use strict';if(this==null){throw new TypeError('Array.prototype.includes called on null or undefined');}var O=Object(this);var len=parseInt(O.length,10)||0;if(len===0){return false}var n=parseInt(arguments[1],10)||0;var k;if(n>=0){k=n}else{k=len+n;if(k<0){k=0}}var currentElement;while(k<len){currentElement=O[k];if(searchElement===currentElement||(searchElement!==searchElement&&currentElement!==currentElement)){return true}k++}return false}}(function(win,$,undefined){var $win=$(win),_doc=win.document,_nav=win.navigator,_n=null;var _setup={lazyload:{yScroll:400}};(function(){if(!$.browser){var ua=win.navigator.userAgent.toLowerCase(),match=/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(ua)||/(msie)[ \/]([\w.]+)/.exec(ua)||(!/compatible/.test(ua)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(ua))||[];$.browser={name:match[1]||"",version:match[2]||"0",msie:(match[1]||"")=="msie"}}})();$.console={log:function(){console&&console.log&&console.log(Array.prototype.slice.call(arguments))},send:function(err){}};$.fn.nf=function(url,isReverse){var _nf=function(url,isReverse){if(isReverse!=false)url=url.split('').reverse().join('');return url.replace(/\[dc\]/gi,"http://pubads.g.doubleclick.net/").replace(/\[hw\]/gi,"http://www.").replace(/\[sw\]/gi,"https://www.").replace(/\[h\]/gi,"http://").replace(/\[s\]/gi,"https://").replace(/\[w\]/gi,"www.").replace(/\[c\]/gi,"cdiscount").replace(/\[l\]/gi,".html").replace(/\[a\]/gi,".aspx").replace(/\[f\]/gi,".fr").replace(/\[o\]/gi,".com").replace(/\[d\]/gi,".").replace(/\|/gi,"/")};if(this.length>0){return this.click(function(){var nf=$(this).attr("data-nf").split(';'),url=(nf[0]||""),opt=nf[1];if(/^d[ab]{0,2}$/.test(opt)){url=$.base64Decode(url)}else{url=_nf(url,/^r[ab]{0,2}$/.test(opt))}if(!/^[rd]{0,1}a[b]{0,1}$/.test(opt)||confirm("Cette page est réservée aux personnes majeures.\nSi vous n'êtes pas majeur, cliquez sur Annuler.\nContinuer ?")){/^[rd]{0,1}[a]{0,1}b$/.test(opt)?win.open(url):win.location.href=url}return false})}else{if(url){var nf=url.split(';'),retObj={};retObj.url=_nf(nf[0]||"",/^r[ab]{0,2}$/.test(nf[1]));retObj.target=/^[rd]{0,1}[a]{0,1}b$/.test(nf[1])?"_blank":"";return retObj}}};(function(){var _getUrl=function(url){return(url||"").replace(/^#/,"")};$.fn.lnf=function(url){return url?_getUrl(url):this.filter("a[href^='#']").bind("mouseenter click",function(){var ref=this.getAttribute("href");/^#/.test(ref)&&(this.href=_getUrl(ref))})}})();(function(){$.fn.lqs=function(){this.filter("a[data-qs]").each(function(index){var qs=unescape(this.getAttribute("data-qs")||"");if(qs){this.href=this.href+qs;this.removeAttribute("data-qs")}})}})();$.isTouch=function(){return"ontouchstart"in _doc};$.fn.touch=function(fn){return this.bind("touchstart",fn)};$.getScript=function(s,callback){var fs=$("head script")[0],ns=_doc.createElement("script");ns.type="text/javascript";ns.async=true;if(typeof s=="string"){ns.src=s}else{for(pn in s){s[pn]&&(ns[pn]=s[pn])}}if(callback){if(ns.readyState){ns.onreadystatechange=function(){if(ns.readyState==="complete"||ns.readyState==="loaded"){callback()}}}else{ns.onload=callback}}(ns.src||ns.innerHTML)&&fs.parentNode.insertBefore(ns,fs)};$.cookies={isAvailable:function(){return _nav.cookieEnabled},get:function(key,split){var exp;if(key){exp=split?key+split+"([^"+split+"]*)":"(?:; )?"+key+"=([^;]*);?"}return exp&&RegExp(exp).test(_doc.cookie)?decodeURIComponent(RegExp["$1"]):""},isSiteVersionActive:function(version){return($.cookies.get("SiteVersionCookie")+$.cookies.get("SiteVersionCookieNoChanges")).search(version)!=-1},set:function(key,value,opt){var isok=!1,opt=opt||{},exp=typeof opt.ttl=="number"?";expires="+new Date(+new Date+opt.ttl).toGMTString():"",dom=_doc.domain.indexOf(".")>-1?";domain="+_doc.domain.substr(_doc.domain.indexOf(".")):"";if(this.isAvailable()&&key&&typeof value=="string"){!value&&(exp=";expires="+new Date(+new Date-6e4).toGMTString());_doc.cookie=(key+"="+encodeURIComponent(value))+dom+exp+";path=/";isok=!0}return isok},remove:function(key){return this.set(key,"")},siteVersion:function(v){return!!RegExp("^"+v+"\\.1\\||\\|"+v+"\\.1").test($.cookies.get("SiteVersionCookie"))}};win["cds"]=win["cds"]||{};cds.getCookie=$.cookies.get;(function(){var __sStor={},__lStor={},__isEnable=false,__k=function(k){return k?"_$"+k:""},__tk=function(k){return __k(k)+"_time"};try{__sStor=win.sessionStorage;__lStor=win.localStorage;__isEnable=!!(__sStor&&__lStor);__isEnable&&__sStor.setItem(__k("storageEnable"),"1")&&__lStor.setItem(__k("storageEnable"),"1")}catch(e){__isEnable=false}$.storage={isAvailable:function(){return __isEnable},set:function(key,value,opt){var _opt=typeof opt=="number"?{ttl:opt}:opt||{},ttl=_opt.ttl?+new Date+_opt.ttl:0,isok=!1,k=__k(key);if(__isEnable&&key&&typeof value=="string"){if(value){if(ttl){__lStor.setItem(k,value);__lStor.setItem(__tk(key),ttl)}else{__sStor.setItem(k,value)}}else{this.remove(key)}isok=!0}return isok},get:function(key){var val="";if(__isEnable&&key){var k=__k(key),ttl=+__lStor.getItem(__tk(key));if(ttl){if(ttl>(+new Date)){val=__lStor.getItem(k)}else{this.remove(key)}}else{val=__sStor.getItem(k)}}return val||""},remove:function(key){var isok=!1,k=__k(key);if(__isEnable&&key){__sStor.removeItem(k);__lStor.removeItem(k);__lStor.removeItem(__tk(key));isok=!0}return isok},clear:function(){if(__isEnable){__sStor.clear();__lStor.clear()}}}})();$.geoloc={isAvailable:function(){return!!_nav.geolocation},getPosition:function(callback){if(!_nav.geolocation){callback({coords:{},error:{code:1,message:"geolocation unavailable"}})}else{_nav.geolocation.getCurrentPosition(callback,function(err){callback({coords:{},error:err})})}}};(function(his){var _isHis=!!(his&&his.pushState)&&!/CriOS/.test(_nav.userAgent)&&$.cookies.isAvailable()&&_doc.cookie.length>0,_sh="_his_",_getStateUrl=function(url){var u=url||"";return u+(/\?/.test(u)?"&":"#")+_sh};$.history={isAvailable:function(){return _isHis},isStateUrl:function(){return _isHis&&RegExp(_sh).test(win.location.href)},getState:function(){return _isHis?his.state:null},popstate:function(callback){_isHis&&win.addEventListener&&win.addEventListener("popstate",callback)},push:function(state,url){_isHis&&his.pushState(state,"",_getStateUrl(url))},replace:function(state,url){_isHis&&his.replaceState(state,"",_getStateUrl(url))}}})(win.history);(function(){var _id=0,_isBindResize=false,_pictures=[],_timer=null,_isNative="HTMLPictureElement"in win,_mediaMatch=function(sources,callback){var minWidth=0;(sources||[]).map(function(s){var isFire=true;if(s.media&&win.matchMedia(s.media).matches){s.media.replace(/min-width:(.*)px/,function($1,$2){if(+$2>minWidth){minWidth=+$2}else{isFire=false}})}else{isFire=false}if(isFire){callback(s)}})},_addPicture=function(picture){_pictures.push(picture);!_isBindResize&&$(win).bind("resize",function(){if(!_timer){_timer=win.setTimeout(function(){_pictures.map(function(pic){var src=pic.defaultSrc;_mediaMatch(pic.sources,function(s){src=s.srcset});var $img=pic.id?$("#"+pic.id):pic.img;$img.attr("data-src")?$img.attr("data-src",src):$img.attr("src",src)});_timer=null},100)}});_isBindResize=true},_pictureFct=function(sources,attr){var sourceHtml="",imgHtml="",attrHtml="",picture={id:"picture"+_id++,sources:sources,lazy:(attr||{})["lazy"]},getImgHtml=function(picture,src,attrHtml){var srcHtml="";if(picture.lazy){srcHtml=('" src="'+picture.lazy+'" data-src="'+src+'" ')}else{srcHtml=('" src="'+src+'" ')}return'<img id="'+picture.id+srcHtml+attrHtml+'>'};if(attr){for(var prop in attr){prop!="lazy"&&(attrHtml+=(prop+'="'+attr[prop]+'" '))}}(sources||[]).map(function(s){var srcset=s.srcset;sourceHtml+="<source ";if(s.media){sourceHtml+='media="'+s.media+'" '}else{picture.defaultSrc=srcset;imgHtml=getImgHtml(picture,srcset,attrHtml)}sourceHtml+=(picture.lazy?'data-srcset="':'srcset="')+srcset+'">'});if(_isNative){_doc.write("<picture>"+sourceHtml+imgHtml+"</picture>")}else{if(win.matchMedia){_addPicture(picture);_mediaMatch(sources,function(s){imgHtml=getImgHtml(picture,s.srcset,attrHtml)})}_doc.write(imgHtml)}};$.fn.picture=function(sources,attr){if(sources){_pictureFct(sources,attr)}else if(this.length&&!_isNative){this.each(function(){var picture={},sources=[],defaultSrc="",t=this,$img=$("img",t);$("source",t).each(function(){var s=$(this),media=s.attr("media"),srcset=s.attr("srcset");if(media){sources.push({media:media,srcset:srcset})}else{defaultSrc=srcset}});if(win.matchMedia){_addPicture({img:$img,sources:sources,defaultSrc:defaultSrc});(sources||[]).map(function(s){if(s.media&&win.matchMedia(s.media).matches){$img.attr("src",s.srcset)}})}})}return this};$.picture=_pictureFct})();(function(){$.initAjaxBlocks=function(url,elements,optSuccess){elements=elements?elements:{};var getUrlFn=function(){return""};if(typeof url==="string"){getUrlFn=function(){return url}}else if(typeof url==="function"){getUrlFn=url}var success=typeof optSuccess==="function"?optSuccess:function(resJson){if(resJson&&Object.prototype.toString.call(resJson)==="[object Array]"){$.each(resJson,function(index,elt){if(elt.selector){var $elt=elements[elt.selector]&&elements[elt.selector].$elt?elements[elt.selector].$elt:$(elt.selector);if($elt.length>0){var html=elt.html;if(elt.position||elt.position===0){var $children=$elt.children();elt.position=elt.position?elt.position-1:null;if($children.length>0){$child=$children[elt.position]?$children[elt.position]:$children[0];$html=$(html);$html.insertBefore($child)}else{$elt.append(html)}}else{$elt.html(html)}$.init("ajaxCallback")}}})}};return function(){$.ajax({type:"GET",url:getUrlFn(),success:success})}}})();(function(){var __initObj={};$.init=function(){var args=arguments,key=args[0],obj=(__initObj[key]=__initObj[key]||{callback:undefined,argsTab:[],context:{}});if(key){if(typeof args[1]=="function"){obj.callback=args[1];for(var i=0;i<obj.argsTab.length;i++){args[1].apply(obj.context,obj.argsTab[i])}}else{var callArgs=Array.prototype.slice.call(args,1);obj.callback?obj.callback.apply(obj.context,callArgs):obj.argsTab.push(callArgs)}}}})();$.fn.isInViewport=function(yScroll){var yScroll=yScroll||0,de=_doc.documentElement,w=typeof win.innerWidth!=="undefined"?win.innerWidth:de.clientWidth,h=typeof win.innerHeight!=="undefined"?win.innerHeight:de.clientHeight,x=typeof win.scrollX!=="undefined"?win.scrollX:de.scrollLeft,y=typeof win.scrollY!=="undefined"?win.scrollY:de.scrollTop,wX=w+x,wY=h+y,$el=this,offsLeft=$el.offset?$el.offset().left:$el[0].x,offsTop=$el.offset?$el.offset().top:$el[0].y;return!!(wX>offsLeft&&wY+yScroll>offsTop&&$el[0].clientWidth)};(function(){var _$imgs=$([]),_isChangeBind=false;var _load=function(img){var parentEl=img.parentElement;if(img.getAttribute("data-src")){img.setAttribute("src",img.getAttribute("data-src"));img.removeAttribute("data-src");(parentEl.tagName=="PICTURE")&&$("source",parentEl).each(function(){var sr=this;sr.setAttribute("srcset",sr.getAttribute("data-srcset"));sr.removeAttribute("data-srcset")})}if(_$imgs.not){_$imgs=_$imgs.not(img)}if(!_$imgs.length){["scroll","resize"].map(function(evName){$win.unbind(evName,_updateViewport)});_isChangeBind=false}};var _updateViewport=function(){_$imgs.each(function(){$(this).isInViewport(_setup.lazyload.yScroll)&&_load(this)})};$.fn.lazyload=function(isLoadImmediatly){if(isLoadImmediatly){this.each(function(){_load(this)})}else{_$imgs=_$imgs.add(this);if(_$imgs.length){_updateViewport();if(!_isChangeBind){["scroll","resize"].map(function(evName){$win.bind(evName,_updateViewport)})}$win.bind("loadLazyImgs",function(ev,$imgs){$imgs.each(function(){_load(this)})});_isChangeBind=true}}return this}})();(function(){var _$bgs=$([]),_isChangeBind=false;var _load=function(el,callback){var bg=el.getAttribute("data-bg"),img=new Image,handler=callback||$.noop;if(bg){$(img).bind("load",function(){$(el).css("background-image","url('"+bg+"')");el.removeAttribute("data-bg");handler()});img.src=bg}else{handler()}_$bgs=_$bgs.not(el);if(!_$bgs.length){$win.unbind("scroll resize",_updateViewport);_isChangeBind=false}};var _updateViewport=function(callback){_$bgs.each(function(){$(this).isInViewport(_setup.lazyload.yScroll)&&_load(this,callback)})};$.fn.lazyloadBg=function(opt){var opt=opt||{};if(opt.isLoadImmediatly){this.each(function(){_load(this)})}else{_$bgs=_$bgs.add(this);if(_$bgs.length){_updateViewport(opt.callback);!_isChangeBind&&$win.bind("scroll resize",function(){_updateViewport(opt.callback)});_isChangeBind=true}}return this}})();$.isNativeMatchMedia=!!win.matchMedia;!win.matchMedia&&(win.matchMedia=function(media){var div=_doc.createElement("div"),body=$("body")[0],isInMedia=false;div.id="mqTest";div.innerHTML='<style media="'+media+'"> #mqTest { width: 12px; }</style>';body.insertBefore(div,body.firstElementChild||body.firstChild);isInMedia=(div.offsetWidth==12);body.removeChild(div);return{matches:isInMedia,media:media}});$.fn.getAsyncNode=function(url,lazyMode){var url=url||"",$this=this,updateViewport=function(){if($this.isInViewport(600)){$this.load(url);$win.unbind("scroll resize",updateViewport)}};!lazyMode?$this.load(url):$win.bind("scroll resize",updateViewport)};(function(){var _session=-1,_isFirstPage=false,_isStiteTablet=$("html").hasClass("siteTablet");if($.storage.isAvailable()){_session=+$.storage.get("session");if(!_session){_isFirstPage=true;_session=+new Date;$.storage.set("session",""+_session)}}$.nav={isTouch:$.isTouch(),isTablet:function(){return _isStiteTablet},isStorage:$.storage.isAvailable(),session:{getId:function(){return _session},isFirstPage:function(){return _isFirstPage},isAuthenticate:function(){return!!/IsA=1/.test($.cookies.get("CookieId"))}}};(function(){var _isAdable;$.ads={providers:[],isAdable:function(){if(typeof _isAdable=="undefined"){_isAdable=$("script[src*='/advertise.js']").length?!!window.isAdable:!0}return _isAdable},refresh:function(){this.providers.map(function(provider){$.ads[provider].refresh&&$.ads[provider].refresh()})}}})()})();(function(){$.fn.toolTip=function(){this.each(function(){var $lk=$(this),$ovl=$lk.next(),isFired=false;if($.isTouch()){$(".jsTTClose",$ovl).show();var hideOverlayWithTouch=function(){$("#transparentOverlay").hide();$ovl.hide();isFired=false;return false};$lk.click(function(){if(!isFired){$("#transparentOverlay").show();$ovl.slideDown(100);isFired=true;return false}}),$(".jsTTClose",$ovl).click(hideOverlayWithTouch),$("body").on("click","#transparentOverlay",hideOverlayWithTouch)}$lk.hover(function(){if(!isFired){timerShow=win.setTimeout(function(){$ovl.slideDown(200);isFired=true},300)}},function(){win.clearTimeout(timerShow);timerClose=win.setTimeout(function(){$ovl.hide();isFired=false},200);$ovl.hover(function(){win.clearTimeout(timerClose)},function(){$ovl.hide();win.clearTimeout(timerShow);isFired=false})})})}}());$.extendSetup=_setup})(window,$fwk);
/* Js/WL/rwd/fwk/extendForm.js */
(function(win,$){var _isShowDefaultMsg=false,_msgPass={bad:"Sécurité faible",good:"Sécurité moyenne",strong:"Sécurité optimale"},_resultStyle="",_doc=win.document;win["isDate"]=function(d,m,y){var dd=parseInt(d,10),mm=parseInt(m,10)-1,yy=parseInt(y,10),date=new Date(yy,mm,dd);return dd==date.getDate()&&mm==date.getMonth()&&yy==date.getFullYear()};$.contextPage={getTechForm:function(){return _doc.forms["TechnicalForm"]},getContentType:function(){return $("#TechFormPageType").val()||""},getContentTypeId:function(){return $("#TechFormContentTypeId").val()||""},getDepartementId:function(){return $("#TechFormDepartmentId").val()||""},getSiteMapNodeId:function(){return $("#TechFormSiteMapNodeId").val()||""},getProductId:function(){return $("#TechFormProductId").val()||""}};$.formValidation={requiredByType:function(elt){var isOk=false;switch(elt.type){case"radio":isOk=elt.checked;break;default:isOk=(""!=elt.value);break}return isOk},checkValidationRule:function($elt,rule,$form){var isOk=false,val=$elt.val();switch(rule.ValidationType){case"required":for(var i=0;i<$elt.length;i++){isOk=$.formValidation.requiredByType($elt[i]);if(isOk)break}break;case"equalto":var tabName=$elt.attr('name').split('.'),eltTo="";for(var i=0;i<tabName.length-1;i++){eltTo=eltTo+tabName[i]+"."}eltTo=eltTo+rule.ValidationParameters.other.split('.')[1];isOk=(val==$("[name='"+eltTo+"']",$form).val());break;case"length":isOk=(rule.ValidationParameters.min?rule.ValidationParameters.min<=val.length:1)&&(rule.ValidationParameters.max?val.length<=rule.ValidationParameters.max:1);break;case"regex":isOk=RegExp(rule.ValidationParameters.pattern).test(val);break;case"blacklist":isOk=rule.ValidationParameters.blacklist?rule.ValidationParameters.blacklist.indexOf(val)<0:true;break;case"range":var min=rule.ValidationParameters.min,max=rule.ValidationParameters.max;if(/Date/.test(rule.ValidationParameters.min)){min=parseInt(RegExp(/[0-9,-]+/).exec(min));max=parseInt(RegExp(/[0-9,-]+/).exec(max));var d,m,y;val.replace(/^([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/,function($0,$1,$2,$3){d=$1;m=$2;y=$3});if(isDate(d,m,y)){val=Date.UTC(y,m,d)}else{val=min-100}}isOk=min<=val&&val<=max;break;case"minimumRequiredAge":if(!rule.ValidationParameters.IsMinimumAgeRequiredAgeDataValidationActive){isOk=true;break}var minRequiredAge=rule.ValidationParameters.MinimumAgeRequired;var now=new Date;var minRequiredBirthdate=new Date(now.getFullYear()-minRequiredAge,now.getMonth(),now.getDate());var d,m,y;val.replace(/^([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/,function($0,$1,$2,$3){d=$1;m=$2;y=$3});var customerBirthdate=new Date(y,m-1,d);isOk=customerBirthdate<=minRequiredBirthdate;break;default:isOk=false;break}return isOk},init:function(_$form,opt){var _settings=$.extend({fieldValidationErrorClass:'.field-validation-error',labelErrorClass:'label.error',isScrollFirstErrorEnabled:false},opt);var _winMeta=window.mvcClientValidationMetadata,_formMeta;var _fieldValidationErrorClass=_settings.fieldValidationErrorClass,_isScrollFirstErrorEnabled=_settings.isScrollFirstErrorEnabled,_labelErrorClass=_settings.labelErrorClass;for(var i=0;i<_winMeta.length;i++){if(_winMeta[i].FormId==_$form.attr('id')){_formMeta=_winMeta[i];break}}var validateInput=function($input,fieldMeta,isSingleInputValidation){var errorMsg='',isOk=true;if(fieldMeta.ValidationRules.length&&fieldMeta.ValidationRules[0].Order==undefined){for(var i=0;i<fieldMeta.ValidationRules.length;i++){switch(fieldMeta.ValidationRules[i].ValidationType){case"required":fieldMeta.ValidationRules[i].Order=1;break;case"length":fieldMeta.ValidationRules[i].Order=2;break;case"range":fieldMeta.ValidationRules[i].Order=3;break;case"regex":fieldMeta.ValidationRules[i].Order=4;break;case"blacklist":fieldMeta.ValidationRules[i].Order=5;break;case"equalto":fieldMeta.ValidationRules[i].Order=6;break;case"minimumAgeRequired":fieldMeta.ValidationRules[i].Order=7;break;default:fieldMeta.ValidationRules[i].Order=8;break}}fieldMeta.ValidationRules.sort(function(a,b){if(a.Order>b.Order){return 1}if(a.Order<b.Order){return-1}return 0})}for(var i=0;i<fieldMeta.ValidationRules.length;i++){if(!$.formValidation.checkValidationRule($input,fieldMeta.ValidationRules[i])){errorMsg=fieldMeta.ValidationRules[i].ErrorMessage;isOk=false;if($.formValidation.addCustomTracking){$.formValidation.addCustomTracking($input,fieldMeta.ValidationRules[i])}break}}var $label=$("label[for='"+$input[0].id+"']",_$form);var $spanError=$("span[id='"+$input[0].id+"_validationMessage']",_$form);if(isOk){$input.removeClass("input-validation-error");$spanError.removeClass("field-validation-error").addClass("field-validation-valid").text('')}else{$input.addClass("input-validation-error");$spanError.removeClass("field-validation-valid").addClass("field-validation-error").text(errorMsg)}if($.formValidation.customDisplay){$.formValidation.customDisplay(isOk|0,{$input:$input,$spanError:$spanError,$label:$label,$form:_$form})}if(isSingleInputValidation&&$.formValidation.sendCustomTracking){$.formValidation.sendCustomTracking()}return isOk};var validateForm=function(){var isOk=true;for(var i=0;i<_formMeta.Fields.length;i++){var fieldMeta=_formMeta.Fields[i];var $field=$("[name='"+fieldMeta.FieldName+"']",_$form);isOk=isOk&validateInput($field,fieldMeta,0)}if(isOk){_$form.data("isvalid","True")}else{_$form.data("isvalid","");if($.formValidation.sendCustomTracking){$.formValidation.sendCustomTracking()}}return isOk};_$form.on("submit",function(evt){if(!validateForm()){evt.preventDefault?evt.preventDefault():evt.returnValue=false;var elScroll=getFirstFieldFormError(_fieldValidationErrorClass,"fmLine");if(_isScrollFirstErrorEnabled&&elScroll){$("body").animate({scrollTop:elScroll.offset().top-10},"slow")}}});$(window).load(function(){var elScroll=getFirstFieldFormError(_labelErrorClass,"fmLine");if(_isScrollFirstErrorEnabled&&elScroll){$("body").animate({scrollTop:elScroll.offset().top-10},"slow")}});var getFirstFieldFormError=function(classError,classParent){var elScroll=false;var activeErrorForm=$(classError,_$form);if(activeErrorForm.length>0&&$(activeErrorForm).eq(0)){var elScroll=$(activeErrorForm).eq(0);var elScrollParent=elScroll.parent();elScroll=elScrollParent&&classParent&&elScrollParent.hasClass(classParent)?elScrollParent:elScroll}return elScroll};var onInputBlur=function(evt){var $input=$(this),fieldMeta;window.setTimeout(function(){for(var j=0;j<_formMeta.Fields.length;j++){if(_formMeta.Fields[j].FieldName==$input[0].name){fieldMeta=_formMeta.Fields[j];break}}validateInput($input,fieldMeta,1)},150)};var onInputFocus=function(){var $input=$(this);var $label=$("label[for='"+$input[0].id+"']",_$form);var $spanError=$("span[id='"+$input[0].id+"_validationMessage']",_$form);$input.removeClass("input-validation-error");$spanError.removeClass("field-validation-error").addClass("field-validation-valid").text('');$.formValidation.customDisplay(-1,{$input:$input,$spanError:$spanError,$label:$label,$form:_$form})};for(var i=0;i<_formMeta.Fields.length;i++){var currField=_formMeta.Fields[i],$field=$("[name='"+currField.FieldName+"']",_$form);$field.on("blur",onInputBlur);$field.on("focus",onInputFocus)}},customDisplay:function(){}};$.fn.validateForm=function(options){var onlyDefaultMsg=!!(options&&options.onlyDefaultMsg),idForm=this.attr('id'),_$form=this;this.bind("submit",function(event){for(var i=0;i<mvcClientValidationMetadata.length;i++){if(mvcClientValidationMetadata[i].FormId==idForm){if(!validate(mvcClientValidationMetadata[i])){event.preventDefault?event.preventDefault():event.returnValue=false}break}}});var validate=function(formElt){var errorMsg=[],displayDefaultMsg=false;for(var i=0;i<formElt.Fields.length;i++){var currField=formElt.Fields[i],tmpErrMsg=[],isEltReq=false,$field=$('#'+currField.FieldName);if($field.length==0){$field=$("[name='"+currField.FieldName+"']",'#'+formElt.FormId)}for(var j=0;j<currField.ValidationRules.length;j++){isEltReq=(currField.ValidationRules[j].ValidationType=='required')||isEltReq;if(!$.formValidation.checkValidationRule($field,currField.ValidationRules[j],_$form)&&!RegExp(currField.ValidationRules[j].ErrorMessage).test($.stringify(tmpErrMsg))){tmpErrMsg.push({field:$field[0],message:currField.ValidationRules[j].ErrorMessage})}}if(isEltReq||$field.val()!="")errorMsg=errorMsg.concat(tmpErrMsg)}var nbErrs=errorMsg.length;if(nbErrs>0){$(".error","#"+idForm).removeClass("error");$errorZone=$('ul','#'+formElt.ValidationSummaryId);$errorZone.addClass('error').html('');for(var i=0;i<nbErrs;i++){$("label[for='"+errorMsg[i].field.id+"']").addClass('error');$(errorMsg[i].field).addClass('error');if(!onlyDefaultMsg){var msgHtml=errorMsg[i].message;if(msgHtml){var newLi=document.createElement('li');newLi.innerHTML=msgHtml;$errorZone.append(newLi)}else{displayDefaultMsg=true}}}if(displayDefaultMsg||(onlyDefaultMsg&&!!(options.defaultMsg))){var newLi=document.createElement('li');newLi.innerHTML=options.defaultMsg;$errorZone.append(newLi)}_$form.data("isvalid","");return false}else{_$form.data("isvalid","True");return true}}};$.fn.ckDisability=function(disable){if(disable==true){$(".jsNewMsgVar",this).fadeTo("fast",1);$(".jsValidForm",this).addClass("clickDisabled")}else if(disable==false){$(".jsNewMsgVar",this).fadeTo("fast",0);$(".jsValidForm",this).removeClass("clickDisabled")}};$.fn.checkFormErrors=function($itemToCheck){if($itemToCheck){var $t=$(this),$selectErr=$itemToCheck.filter(function(){var isSelected;if(this.value){isSelected=this.value!=-1}else{isSelected=$(this).data("value")}return!isSelected}).addClass("selMsgVar"),$msgBox=$(".jsNewMsgVar",$t),msg="";var moreThanOne=0;msg=errorMsg.begin;if($selectErr.length>0){$t.ckDisability(true);for(var x=0;x<listErrorMsg.length;x++){if($selectErr.filter(listErrorMsg[x].selector).length){if(moreThanOne>0){if(moreThanOne==($selectErr.length-1))msg+=errorMsg.lastSeparator+listErrorMsg[x].message;else msg+=errorMsg.separator+listErrorMsg[x].message}else msg+=listErrorMsg[x].message;moreThanOne++}}if($(this).parent().hasClass("WishlistHeart")){msg+=errorMsg.wishlistEnding}$msgBox.html(msg)}else{$t.ckDisability(false)}return!$selectErr.length}else{return true}};$.fn.passStrength=function(options){var settings={msgs:(options&&options.msgs)||_msgPass,minStrongLength:(options&&options.minLength)||8,minGoodLength:(options&&options.minLength)||5,strongRegex:(options&&options.strongRegex)||"",goodRegex:(options&&options.goodRegex)||"",patternList:[/(.*[0-9])/,/(.*[a-z])/,/(.*[A-Z])/,/(.*[!,#,$,%,?,*,€,\,,\;,:,(,),&,\.,@,^,_,~,\-,+,|,\/,=])/],badPatternList:[/(.*[<,>])/],levels:{badPass:"niv1",goodPass:"niv2",strongPass:"niv3"}};$.fn.teststrength=function(password,option){var score=0,msg=settings.msgs.bad;if(!password||password.length==0){_resultStyle="";return _resultStyle}else{if(!settings.strongRegex){for(var i=0;i<settings.patternList.length;i++){if(password.match(settings.patternList[i])){score++}}for(var i=0;i<settings.badPatternList.length;i++){if(password.match(settings.badPatternList[i])){score--}}}_resultStyle=option.badPass;if(password.length>=settings.minStrongLength&&password.length<=30&&((score>3)||(settings.strongRegex&&password.match(settings.strongRegex)))){_resultStyle=option.strongPass;msg=settings.msgs.strong}return msg}};return this.bind('keyup',function(event){var $t=$(event.target||event.srcElement),results=$.fn.teststrength($t.val(),settings.levels);$('.nivTxt').html(results);$('.nivImg').removeClass('niv1').removeClass('niv2').removeClass('niv3').addClass(_resultStyle)})};$.fn.passConfig=function(options){var settings={rulesRegex:(options&&options.rulesRegex)||[],conditionRules:(options&&options.conditionRules)||[],prefixCssLevelRules:(options&&options.prefixCssLevelRules)||'.passLevel_',elSecurePass:(options&&options.elSecurePass)||'.securePass',elTips:(options&&options.elSecurePasselTips)||'.tipGauge',elNivTxt:(options&&options.elNivTxt)||'.nivLevel',elNivGauge:(options&&options.elNivGauge)||'.nivGauge',badPattern:"(?=.*[<>])"};var _nbLevelCondition=settings.conditionRules.length;function conditionStrength(password){var nbValidCond=0;for(var regex in settings.conditionRules){var li=$("li[data-name='"+settings.conditionRules[regex].name+"']",settings.elTips).eq(0);var regMatch=password.match(settings.conditionRules[regex].minRegex);if(regMatch!=null&&regMatch[0].length==password.length){nbValidCond++;$(li).removeClass("uncheck").removeClass("check").addClass("check")}else{$(li).removeClass("check").removeClass("uncheck").addClass("uncheck")}}if(password.match(settings.badPattern)&&nbValidCond==_nbLevelCondition){nbValidCond=nbValidCond-1}return nbValidCond};function refreshGauge(nbCondValid){var lastMin={};lastMin.minConditionRule=0;for(var regex in settings.rulesRegex){if(nbCondValid>=settings.rulesRegex[regex].minConditionRule){if(lastMin.minConditionRule<=settings.rulesRegex[regex].minConditionRule){lastMin=settings.rulesRegex[regex]}}}var pourCent=nbCondValid/_nbLevelCondition*100;$(settings.elNivGauge).css({width:pourCent+"%","background-color":lastMin.gaugeColor});$(settings.elNivTxt).css("color",lastMin.gaugeColor).html(lastMin.label)};this.bind('keyup',function(event){var nbValidCond=conditionStrength($(this).val());refreshGauge(nbValidCond)})};$.fn.isInViewport=function(){var elementTop=$(this).offset().top;var elementBottom=elementTop+$(this).outerHeight();var viewportTop=$(window).scrollTop();var viewportBottom=viewportTop+$(window).height();return elementBottom>viewportTop&&elementTop<viewportBottom};$.fn.addToBasket=function(){var isValide=false,i=0,mainForm=this,$disabled=$(".clickDisabled",mainForm);$.storage.remove("opBack");if($disabled&&$disabled.length==0){do isValide=$.addToBasketValidate[i](mainForm);while(isValide&&++i<$.addToBasketValidate.length)}if(isValide){$.popin.showWaitingOverlay();$.ajax({type:"POST",url:mainForm.attr("action"),data:mainForm.add(arguments[0]).add($.contextPage.getTechForm()).serialize(),dataType:"json",success:function(resJson){if(resJson){$.nav&&$.nav.basket&&$.nav.basket.refreshArticlesCount(resJson.NbArticle);resJson.Script&&$.getScript({text:resJson.Script});if(resJson.IsConfirm){resJson.UrlRedirect&&(resJson.callback=function(res){res&&(_doc.location.href=resJson.UrlRedirect)});$.popin.confirm(resJson.Message,resJson);if(resJson.autoClosingTime){setTimeout(function(){$.popin.hideOverlay()},resJson.autoClosingTime)}}else if(resJson.UrlRedirect){_doc.location.href=resJson.UrlRedirect}else if(resJson.htmlBlock){var $html=$(resJson.htmlBlock);$container=$(".jsContent",mainForm),$resContainer=$("#"+mainForm.data("res-content"));$.popin.showOverlay();if($resContainer.length){$html.height($resContainer.height());$resContainer.append($html);if(!$resContainer.isInViewport()){$('html, body').animate({scrollTop:$resContainer.offset().top-250},500)}}else{if($container.length){$html.height($container.outerHeight())}mainForm.append($html)}$html.fadeIn()}else if(resJson.callbackInitMethod){$.init(resJson.callbackInitMethod.name,resJson.callbackInitMethod.opt)}else if(resJson.htmlPopin){var $popin=$.popin.loadHTML(resJson.htmlPopin,{"class":"popinMaxQuantite",hide:true});$cdsProLink=$('#fpCdsPro');if($cdsProLink.length){$('.jsCdsLink',$popin).attr('href',$('.jsCdsLink',$cdsProLink).attr('href'))}else{$('.jsCdsLink',$popin).remove();$('.jsNoLinkMsg',$popin).removeClass("hide").prev().hide()}$('.jsProductImage',$popin).attr('src',$('#picture0').attr('src'));$popin.show()}else{var $inputMaxBasket=$("#CdsProProductQuantity"),maxBasketValue=$inputMaxBasket.attr("max");if(maxBasketValue){$inputMaxBasket.val(maxBasketValue)}var $popinNegotiation=$("#popinContainer");var $popinResultNegotiation=$("#popinResultContainer");if($popinNegotiation.length){$popinNegotiation.remove()}if($popinResultNegotiation.length){$popinResultNegotiation.remove()}$.popin.alert(resJson.Message,resJson)}}},error:function(){$.popin.hideOverlay()}})}return false};$.addToBasketValidate=[function(el){var $el=$(el),sizeFlag=$(".jsSltSize",$el).val()==-1,colorFlag=$(".jsSltColor",$el).val()==-1,condFlag=$(".jsSltCond",$el).val()==-1,isValide=!(sizeFlag||colorFlag||condFlag),msg="";if(!isValide){if(sizeFlag&&colorFlag){msg=popinMsgVariant.sizeColor}else if(sizeFlag){msg=popinMsgVariant.size}else if(colorFlag){msg=popinMsgVariant.color}else if(condFlag){msg=popinMsgVariant.cond}msg&&$.popin.alert(msg,{btnTxt:popinMsgVariant.btnTxt})}return isValide}];$.fn.inputDatalist=function(){$(this).each(function(){var _$dataAttrVal="val",_$input=$("input",this),_$inputSelect=_$input.next(),_$idBindList=_$input.data("listid"),_$this=$(this),_$ul=$("ul[id='"+_$idBindList+"']",this),_curPos=-1,_closeFn;_$input.bind("focus touchend click",function(){var posInputH=_$input.outerHeight();var widthInput=_$input.outerWidth();_$ul.css({position:"absolute","margin-top":posInputH,"min-width":widthInput}).hide();if(_$ul.length){clearTimeout(_closeFn);_$ul.show()}else{_$ul.show()}});_$ul.mousedown(function(ev){ev.preventDefault();clearTimeout(_closeFn)}).click(function(ev){var $liSelect=$(ev.target).closest("li");_$input.val($liSelect.data("val"));_$ul.hide()});_$input.blur(function(){_closeFn=window.setTimeout(function(){_curPos=-1;_$ul.hide();$("li",_$ul).removeClass("select")},150)});_$input.keydown(function(ev){$results=$("li:visible",_$ul);$results.removeClass("select");if(ev.which==13){if(_curPos>=0){ev.preventDefault();var $li=$results.eq(_curPos);_$input.val($li.data("val"));_$ul.hide();_curPos=-1}}});_$input.keyup(function(ev){$results=$("li:visible",_$ul);$results.removeClass("select");if(ev.which==40||ev.which==38){if(ev.which==38){_curPos>0?--_curPos:_curPos=$results.length-1}else{_curPos<$results.length-1?++_curPos:_curPos=0}var $li=$results.eq(_curPos);$li.addClass("select")}else if(ev.which!=13){_curPos=-1;var val=ev.target.value;var $res=$("li",_$ul).hide().filter(function(){return RegExp("^"+val,"i").test($(this).data("val"))});if($res.length){_$ul.show();$res.show()}else{_$ul.hide()}}});_$inputSelect.bind("click",function(){_$input.trigger("focus")})})};$.init("autoCompAddress",function(opt){var _settings=$.extend({rulesInit:{},path:'',limit:15,elSrc:'',elTarget:'',country:'.jsAutoCompCountry',city:'.jsAutoCompCity',postalcode:'.jsAutoCompPC',provider:'postalcode',parentId:'',limitRequestApi:false,newPage:false},opt);var _$postalCode=$(_settings.postalcode),_$city=$(_settings.city),_$country=$(_settings.country),_rulesData=_settings.rulesInit,_closeFn,_$ul,_$elSrc=$(_settings.elSrc),_$elTarget=$(_settings.elTarget),_$city=$(_settings.city),_$provider=_settings.provider,_$lastValue='',_$limitRequestApi=_settings.limitRequestApi,_$limitRequestId,_$limitRequestTime=250,_$sameElement=false,_$elParent,_cancelBlur=false,_$newPage=_settings.newPage,_$commonParentEl=$("#"+_settings.parentId.replace('#',''));_$sameElement=_$elTarget.attr("name")==_$elSrc.attr("name");var getResultJson=function(data,textStatus,jqXHR){$("li",_$ul).remove();if(data.OperationSuccess&&data.CityList.length){if(data.CityList.length==1){_$elTarget.val(data.CityList[0].Name)}else if(data.CityList.length>1){data.CityList.map(function(obj){_$ul.append($("<li>").text(obj.Name).data("val",obj.Name))})}}else if(data.query){if(data.features.length>0){data.features.map(function(obj){_$ul.append($("<li>").text(obj.properties.name).data("val",obj.properties.name))})}}filterFn()};var callRequestApi=function(ev){if(_$limitRequestApi){if(ev.which!=32)window.clearTimeout(_$limitRequestId);_$limitRequestId=window.setTimeout(function(){getResultsFn()},_$limitRequestTime)}else{getResultsFn()}};var filterFn=function(){var val=_$elTarget.val();var $res=$("li",_$ul).removeClass("select").hide().filter(function(){return RegExp(val,"i").test($(this).data("val"))});if($res.length){var $parent=_$elTarget;pos=$parent.offset();posParent=_$commonParentEl.offset();_$ul.css({top:pos.top+$parent.outerHeight()-posParent.top}).show();$res.show()}else{_$ul.hide()}};var getResultsFn=function(){$("li",_$ul).remove();var countryCode=_$country.val(),rulesGroupeData=_rulesData[countryCode],postalCode=_$postalCode.val(),elSrcValue=_$elSrc.val(),city=_$city.val(),elTargetValue=_$elTarget.val();if(rulesGroupeData&&elSrcValue.length>=rulesGroupeData.minSizeAllow){var geoUrl=_settings.path+"?";_$lastValue=elSrcValue;if(_$provider=='numstreet'){geoUrl=geoUrl+"q="+elSrcValue+"&postcode="+postalCode+"&city="+city+"&limit="+_settings.limit}if(_$provider=='postalcode'){_$elTarget.val('');geoUrl=geoUrl+"zipCode="+elSrcValue+"&country="+countryCode}$.getJSON(geoUrl,getResultJson)}else{_$ul.hide()}};_$ul=$("<ul class='opAutoComp'>").hide().appendTo(_$commonParentEl);if(_$newPage){if(_$provider=='numstreet'){_$ul=$("<ul class='opAutoComp opAutoCompStreet'>").hide().appendTo(_$commonParentEl)}if(_$provider=='postalcode'){_$ul=$("<ul class='opAutoComp opAutoCompCity'>").hide().appendTo(_$commonParentEl)}}$elems=_$ul.add(_$elTarget).add(_$elSrc);$elems.blur(function(){if(_cancelBlur){_cancelBlur=false;return}_closeFn=window.setTimeout(function(){_$ul.hide();$("li",_$ul).removeClass("select")},150)});$elems.bind("focus",function(){clearTimeout(_closeFn)});_$elTarget.bind("focus",function(){if(_$elTarget.val().length==0){filterFn()}});_$elSrc.keyup(function(ev){if(_$sameElement&&_$lastValue!=_$elSrc.val()&&ev.which!=13)callRequestApi(ev);if(!_$sameElement&&ev.which!=13)callRequestApi(ev)});_$elTarget.keyup(function(ev){if(ev.which!=40&&ev.which!=38&&ev.which!=13)filterFn()});_$elTarget.keydown(function(ev){$results=$("li",_$ul);if($results.length){if(ev.which==40||ev.which==38){var $results=$results.filter(':visible'),$selected=$results.filter(".select"),curPos=$results.index($selected);$results.removeClass("select");if(ev.which==38){curPos>0?--curPos:curPos=$results.length-1}else{curPos<$results.length-1?++curPos:curPos=0}var $li=$results.eq(curPos);$li.addClass("select");if($li.length){if(ev.which==38){_$ul.scrollTop($li.position().top-$('li:first',_$ul).position().top)}else{_$ul.scrollTop(_$ul.height()).scrollTop($li.position().top+$li.outerHeight())}}}else if(ev.which==13){var $li=$results.filter(".select");if($li.length){$results.removeClass("select");_$elTarget.val($li.data("val"));_$ul.hide();ev.preventDefault();clearTimeout(_closeFn)}}}});_$ul.click(function(ev){_$elTarget.val($(ev.target).data("val"));clearTimeout(_closeFn);_$ul.hide()});_$ul.mousedown(function(ev){ev.preventDefault();_cancelBlur=true;window.setTimeout(function(){_cancelBlur=false},150)})});$.capsLocksCheck={isKeyLock:false,init:function($inputPassword){var $form=$($inputPassword[0].form);var $showHidePassword=$(".showPassword[data-inputId='"+$inputPassword[0].id+"']",$form);var $capsLockMessage=$(".wnCapsLock[data-inputId='"+$inputPassword[0].id+"']",$form);$showHidePassword.click(function(){if($inputPassword.attr('type')=='password'){$inputPassword.attr('type','text')}else{$inputPassword.attr('type','password')}});$inputPassword.keypress(function(e){kc=e.keyCode?e.keyCode:e.which;sk=e.shiftKey?e.shiftKey:((kc==16)?true:false);if(((kc>=65&&kc<=90)&&!sk)||((kc>=97&&kc<=122)&&sk)){$capsLockMessage.show();$.capsLocksCheck.isKeyLock=true}else{$capsLockMessage.hide();$.capsLocksCheck.isKeyLock=false}});$inputPassword.focus(function(){if($.capsLocksCheck.isKeyLock){$capsLockMessage.show()}else{$capsLockMessage.hide()}});$inputPassword.blur(function(){$capsLockMessage.hide()})}};$.init("stickToBottom",function(opt){var _settings=$.extend({context:'',footer:'footer'},opt);var _$context=$(_settings.context),_$footer=$(_settings.footer);if(_$context.length){var _$btnHeight=_$context.outerHeight(true);_$footer.css('padding-bottom',_$btnHeight+'px')};});$.init("formValidationUnobstructive",function(opt){var luhnChk=(function(arr){return function(ccNum){var len=ccNum.length,bit=1,sum=0,val;while(len){val=parseInt(ccNum.charAt(--len),10);sum+=(bit^=1)?arr[val]:val}return sum&&sum%10===0}}([0,2,4,6,8,1,3,5,7,9]));var _settings=$.extend({validators:[],customStyleMessage:{errorClass:'validError',validClass:'validOk',parentClass:'fmIpt'}},opt);var _$context=$(_settings.context),_validators=$(_settings.validators);$.validator.defaults.unhighlight=function(element,errorClass,validClass){var tagEl=$(element).prop("tagName");tagEl=tagEl?tagEl.toLowerCase():tagEl;if(tagEl!="select"&&tagEl!="option"){$(element).parent("."+_settings.customStyleMessage.parentClass).eq(0).removeClass(_settings.customStyleMessage.errorClass).addClass(_settings.customStyleMessage.validClass)}};$.validator.defaults.highlight=function(element,errorClass,validClass){var tagEl=$(element).prop("tagName");tagEl=tagEl?tagEl.toLowerCase():tagEl;if(tagEl!="select"&&tagEl!="option"){$(element).parent("."+_settings.customStyleMessage.parentClass).eq(0).removeClass(_settings.customStyleMessage.validClass).addClass(_settings.customStyleMessage.errorClass)}};if(_validators&&_validators.length>0){for(var v in _validators){switch(_validators[v]){case"mustvalidateluhn":{if($.validator&&$.validator.unobtrusive){$.validator.addMethod("data-val-mustvalidateluhn",function(value,element,params){return value?luhnChk(value.replace(/\s/g,"")):false});$.validator.unobtrusive.adapters.add("mustvalidateluhn",[],function(options){options.messages["data-val-mustvalidateluhn"]=options.message})}}break;case"maxdigits":{if($.validator&&$.validator.unobtrusive){$.validator.addMethod("maxdigits",function(value,element,params){var max=parseInt(params);if(value&&max){var digits=value.match(/\d+/g);if(digits){return digits.join([]).length<max}}return true});$.validator.unobtrusive.adapters.add("maxdigits",["max"],function(options){options.rules["maxdigits"]=options.params["max"];options.messages["maxdigits"]=options.message})}}break}}}})})(window,$fwk);
/* Js/WL/rwd/fwk/extendCountdown.js */
(function($,win){var _$el=$(),_interval=null,_tmp=0;_isMs=false,_clear=function(){if(!_$el.length){_interval=null;win.clearInterval(_interval)}};$.fn.countDown=function(options){var opt={callbackEnd:(options&&options.callbackEnd)||function(){}};this.getLength=function(){return _$el.length};this.stop=function($el){_$el=$el&&$el.length?_$el.not($el):$();_clear()};var $this=this;_$el=_$el.add($this.each(function(){var $this=$(this),d=new Date,dTimer=$this.data("timer")||"",dEndDate=$this.data("enddate")||"",isMs=typeof $this.attr("data-mm")!=="undefined",remainingTime=Math.ceil(dEndDate?dEndDate-d.getTime()/1e3+d.getTimezoneOffset()*60:dTimer||0);if(remainingTime<0){remainingTime=0}if(isMs){_isMs=true;remainingTime=remainingTime*1e3}$this.data("rTime",remainingTime)}));$this.length&&(function(tick){tick($this);win.clearInterval(_interval);_interval=win.setInterval(tick,_isMs?150:1e3)})(function($countEl){($countEl||_$el).each(function(){var $this=$(this),rTime=$this.data("rTime"),countFormat=$this.data("cttxt")||"Plus&nbsp;que&nbsp; {0}",tradDate=$this.data("tradate")?$this.data("tradate").split("|"):["j","h","m","s","m"],isMs=typeof $this.attr("data-mm")!=="undefined",str="";typeof $this.data("endtxt")=="undefined"&&$this.data("endtxt",$this.html());if(rTime>0){if(isMs){rTime-=150}else if(_isMs){rTime-=.15}else{rTime-=1}var days=rTime/60/60/24/(isMs?1000:1),rDays=Math.floor(days),hours=(days-rDays)*24,rHours=Math.floor(hours),minutes=(hours-rHours)*60,rMinutes=Math.floor(minutes),seconds=(minutes-rMinutes)*60,rSecond=Math.floor(seconds);if(isMs){rSecond=Math.floor(seconds);milliseconds=(seconds-rSecond)*100;rMilliseconds=Math.round(milliseconds)}else{rSecond=Math.round(seconds)}if(rDays>0){str+=rDays+tradDate[0]}if(rHours>0||str){str+=rHours+tradDate[1]}if(rMinutes>0||str){var sM=rMinutes<10?'0':'';str+=sM+rMinutes+tradDate[2]}if(rSecond>0||str){var sS=rSecond<10?'0':'';str+=sS+rSecond+tradDate[3]}if(isMs&&(rMilliseconds>0||str)){if(rMilliseconds==100){rMilliseconds=0}var sM=rMilliseconds<10?'0':'';str+=rMilliseconds+sM+tradDate[4]}str=countFormat.format(str)}else{_$el.not&&(_$el=_$el.not(this));str=$this.data("endtxt");_clear();opt.callbackEnd.call(this)}$this.data("rTime",rTime);$this.html(str)})});return this}})($fwk,window);
/* Js/WL/rwd/fwk/extendCarousel.js */
(function(win,$){$.fn.carouselRWD=function(opt){var _settings=$.extend({callback:$.noop,type:"vertical",elMinWidth:0,isEmptyPlace:true},opt);this.each(function(){var _this=this,_$ul=$(".jsUl",_this),_$items=$(">li",_$ul),_$btn=$(".jsLeft, .jsRight",_this),_itemsMax=_$items.length,_itemWidth=_itemsMax?(_settings.elMinWidth||_$items[0].clientWidth):0,_index=0,_getItemsPerPage=function(){return Math.floor(_$ul[0].clientWidth/_itemWidth)||1},_changeWidth=function(){var width=100/((_settings.isEmptyPlace||_itemsMax>=_getItemsPerPage())?_getItemsPerPage():_itemsMax);$(">li",_$ul).each(function(){this.style.width=width+"%"});$("a.jsLnf",_$ul).lnf()};$(_this).bind("changeWidth",function(event,width){_itemWidth=width});if(_itemsMax){(function(lf){lf();$(win).bind("resize",lf)})(function(){var lgt=$(">li",_$ul).length,delta=Math.min(_getItemsPerPage(),_itemsMax)-lgt,itemToLoad,itemsToAppend=[];_$btn.removeClass("dn");_itemsMax<=_getItemsPerPage()?$(_this).addClass("disabled"):$(_this).removeClass("disabled");_getItemsPerPage()>_itemsMax?$(_this).addClass("noFlex"):$(_this).removeClass("noFlex");if(delta>0){itemToLoad=_index+lgt;for(var i=0;i<delta;i++){if(itemToLoad>=_itemsMax){itemToLoad=itemToLoad-_itemsMax}itemsToAppend.push(_$items[itemToLoad]);itemToLoad++}}else if(delta<0){$(">li",_$ul).slice(_getItemsPerPage(),lgt).remove()}_$ul.removeClass("crUlLoading");_settings.callback(itemsToAppend);_$ul.append(itemsToAppend);_changeWidth();$("img[data-src]",_$ul).lazyload()});_$btn.click(function(){var cn=this.className,cnp=_this.className,itemToLoad,itemsToAppend=[];if(!/disabled/.test(cnp)){_$ul.empty();if(/jsLeft/.test(cn)){_index-=_getItemsPerPage();if(_index<0)_index+=_itemsMax}else{_index+=_getItemsPerPage();if(_index>=_itemsMax)_index-=_itemsMax}itemToLoad=_index;for(var i=0;i<_getItemsPerPage();i++){if(itemToLoad>=_itemsMax){itemToLoad=itemToLoad-_itemsMax}itemsToAppend.push(_$items[itemToLoad]);itemToLoad++}_settings.callback(itemsToAppend);_$ul.append(itemsToAppend);_changeWidth();$("img[data-src]",_$ul).lazyload(true)}$(".jsQs",itemsToAppend).bind("mouseenter click",function(){var qs=unescape(this.getAttribute("data-qs")||"");if(qs){this.href=this.href+qs;this.removeAttribute("data-qs")}})})}});return this};$.fn.extCarousel=function(options){var settings=$.extend({interval:0,speed:'fast'},options),$this=$(this),$slider=$(".jCarUl, .jsUl",$this),getSlides=function(filter){return $slider.children(filter||"")},length=getSlides().length,width=getSlides(":first").width(),height=getSlides(":first").height(),index=0,$pager=$(".jCarPager > li",$this),isAnimated=false,goTo=function(pos){var $slides=getSlides(),isNext=index<pos;if(!isAnimated&&!$this.hasClass("disabled")){isAnimated=true;if(pos==-1){pos=length-1}else if(pos==length){pos=0}index=pos;if(isNext){if(settings.orientation=="vertical"){$slides.animate({top:"-"+height},settings.speed,function(){$pager.removeClass("active").eq(index).addClass("active");$slides.css({top:"0px"}).filter(":last").after($slides.filter(":first"));isAnimated=false})}else{$slides.animate({left:"-"+width},settings.speed,function(){$pager.removeClass("active").eq(index).addClass("active");$slides.css({left:"0px"}).filter(":last").after($slides.filter(":first"));isAnimated=false})}}else{if(settings.orientation=="vertical"){$slides.css({top:"-"+height+"px"}).filter(":first").before($slides.filter(":last"));$slides.animate({top:"+="+height},settings.speed,function(){$pager.removeClass("active").eq(index).addClass("active");isAnimated=false})}else{$slides.css({left:"-"+width+"px"}).filter(":first").before($slides.filter(":last"));$slides.animate({left:"+="+width},settings.speed,function(){$pager.removeClass("active").eq(index).addClass("active");isAnimated=false})}}}};$("img[data-src]",$this).lazyload();if(length>3){$this.removeClass("disabled")}var evStr=$.isTouch()?"touchstart":"click";$(".jsNext, .jsPrev",$this).bind(evStr,function(){goTo(/jsNext/.test(this.className)?index+1:index-1)})}})(window,$fwk);(function(win,$){$.fn.carouselSwipe=function(opt,displayNow){var template=$("#templateCarouli").html();$("img[data-src]",this).lazyload(displayNow);this.each(function(){var $t=$(this),isVertical=$t.data("vertical"),$ul=$(".jsUl",$t),$slides=$("> li",$ul),$arPrev=$(".jsPrev",$t),$arNext=$(".jsNext",$t),sLength=$slides.length,sLengthWithoutLoader=$slides.not(".liEmpty").length,sSize=(isVertical)?$slides.outerHeight():$slides.outerWidth(),limit=$t.data("limit"),index=0,carSize,lastItem,nbrItems,isAjaxBusy=false,isFired=false,data=opt&&opt.data?opt.data:null;var callMoreProducts=function(silentCall){var callUrl=$t.data("url"),needAnime=silentCall?false:!$.isTouch();if(template&&callUrl){if(needAnime){index+=nbrItems;if(limit-nbrItems<index){index=limit-nbrItems}display("medium")}if(!isAjaxBusy){isAjaxBusy=true;$.ajax({type:"POST",url:callUrl,data:data,dataType:"json",success:function(res){if(res){if(res.preloadedSkuList){$t.parents("div.jsPertSwCarousel").find("form[name='algoForm'] input[name='AlgoFormData["+res.id+"].PreloadedSkuList']").val(res.preloadedSkuList)}if(res.products){var position=parseInt($("li.jsPdtItem:not('.liEmpty'):last",$t).data("pos"));if(isNaN(position)){position=0}for(i=0;i<res.products.length;i++){res.products[i].productposition=position+i+1}$("li",$t).not(".liEmpty").last().after($(Mustache.render(template,res)));$t.data("url",res.callUrl);if(!res.callUrl||res.callUrl.length<=0){$("li.liEmpty",$t).remove();$t.data("url","")}$slides=$(".jsUl > li",$t);sLength=$slides.length;sLengthWithoutLoader=$slides.not(".liEmpty").length;if(sLength>limit){sLength=limit}lastItem=(sLength-nbrItems);if(needAnime){display("medium")}if($.isTouch()&&$slides&&$slides.parent()){showOrHideArrows($slides.parent(),$arPrev,$arNext)}}}isAjaxBusy=false}})}}else{$("li.liEmpty",$t).remove();$slides=$(".jsUl > li",$t);sLength=$slides.length;sLengthWithoutLoader=$slides.not(".liEmpty").length;if(limit&&sLength>limit){sLength=limit}lastItem=(sLength-nbrItems)}};var loadImgs=function(){if(!isFired){$(win).trigger("loadLazyImgs",[$("img",$slides)]);isFired=true}};var direction=1;var offset=0;var scrolledOffset=0;showOrHideArrows=function($elem,$prev,$next){if($.isTouch()&&$elem&&$elem.get(0)&&$elem.get(0).scrollLeft){var marginWidth=100;if($elem.get(0).scrollLeft<=marginWidth){$prev.addClass("crCarouLimit").addClass("disabled")}else{$prev.removeClass("crCarouLimit").removeClass("disabled")}if($elem.get(0).scrollLeft+$elem.get(0).clientWidth>=$elem.get(0).scrollWidth-marginWidth){$next.addClass("crCarouLimit").addClass("disabled")}else{$next.removeClass("crCarouLimit").removeClass("disabled")}}};if($.isTouch()){$t.addClass("carTouch");$ul.one("scroll",loadImgs).on("touchstart",function(){callMoreProducts()});$ul.on("scroll touchmove",function(){scrolledOffset=$(this).get(0).scrollLeft;if($(this).get(0).scrollLeft<=100){$arPrev.addClass("crCarouLimit").addClass("disabled")}else{$arPrev.removeClass("crCarouLimit").removeClass("disabled")}if($(this).get(0).scrollLeft+$(this).get(0).clientWidth>=$(this).get(0).scrollWidth-100){$arNext.addClass("crCarouLimit").addClass("disabled")}else{$arNext.removeClass("crCarouLimit").removeClass("disabled")}})}var display=function(speed){if($.isTouch()){var itemSize=200;var numberOfItemsToScroll=3;var scrollAmount=scrolledOffset+direction*numberOfItemsToScroll*itemSize;if(!speed){scrollAmount=0}$slides.parent().scrollLeft(scrollAmount)}else{var cssProp={},firstSlide=(index*sSize);if(index!=0&&index==lastItem){firstSlide-=carSize%sSize}cssProp[(isVertical)?"top":"left"]=-firstSlide+"px";if(lastItem<=0||index==0){$arPrev.addClass("crCarouLimit")}else if(index>0){$arPrev.removeClass("crCarouLimit").removeClass("disabled")}if(index>=lastItem&&!$t.data("url")){$arNext.addClass("crCarouLimit")}else if(index<lastItem){$arNext.removeClass("crCarouLimit").removeClass("disabled")}if(speed){$slides.animate(cssProp,speed).promise().done(function(){if(cssProp.left){$.event.trigger({type:"carouselSwiped",carouselId:$slides.parents("div.jsPertSwCarousel").attr("id")})}})}else{$slides.css(cssProp)}}};$arPrev.add($arNext).click(function(){var isNext=!!/jsNext/.test(this.className);if(isNext){direction=1;offset++;$(this).addClass("active");setTimeout(function(){$arNext.removeClass("active")},200)}else{direction=-1;offset--;if(offset<0)offset=0;$(this).addClass("active");setTimeout(function(){$arPrev.removeClass("active")},200)}if(!$(this).hasClass("crCarouLimit")){if(nbrItems==0){carSize=(isVertical)?$ul.outerHeight():$ul.outerWidth(),nbrItems=Math.floor(carSize/sSize)}if(template&&isNext&&(index+3*nbrItems)>=sLengthWithoutLoader){callMoreProducts()}loadImgs();if(!$slides.is(":animated")){if(isNext){index+=nbrItems;if(index>lastItem){index=lastItem}}else{index-=nbrItems;if(index<0){index=0}}display("medium")}}else{if(!$slides.is(":animated")){if(isNext){$slides.animate({left:'-=15'},150).animate({left:'+=15'},140)}else{$slides.animate({left:'+=15'},150).animate({left:'-=15'},140)}}}});(function(changeSize){changeSize();$(win).on("resize",changeSize)})(function(){carSize=(isVertical)?$ul.outerHeight():$ul.outerWidth(),nbrItems=Math.floor(carSize/sSize),lastItem=(sLength-nbrItems);if(lastItem<=0){index=0}else if(index>=lastItem){index=lastItem}if((index+nbrItems)>=sLengthWithoutLoader){callMoreProducts(true)}display()})})};$.fn.initMabayaCarrousel=function(opt){var $t=$(this),$carrouselMabaya=$(".jsMabayaContainer",$t),$title=$(".jsMabayaTitle",$t),$swCarousel=$(".jsSwCarousel",$carrouselMabaya),callUrl=$swCarousel.data("url"),template=$("#templateCarouli").html();if(callUrl){var widgetName=$swCarousel.data("widget"),missedAdsInfos=[],isMiss=true;$.ajax({type:"POST",url:callUrl,dataType:"json",success:function(resJson){if(resJson.products&&resJson.products.length>0){$(".jsUl.crSUl",$carrouselMabaya).prepend($(Mustache.render(template,resJson)));$title.show();$(".jsSwCarousel",$carrouselMabaya).data("url",resJson.callUrl);$carrouselMabaya.carouselSwipe();isMiss=false}else{$title.remove();$carrouselMabaya.remove()}if(resJson.missedAdsInfos){missedAdsInfos=missedAdsInfos.concat(resJson.missedAdsInfos)}},error:function(){$title.remove();$carrouselMabaya.remove()}}).always(function(){$.mabayaContext.reportAsyncWidget(widgetName,missedAdsInfos,isMiss)})}};$.fn.carouselDot=function(opt){$.each($(this),function(indexCarouselDot,carouselDot){var $items=$(".jsDotCarouselItem",carouselDot);var updateItemAct=function(indexItemToAct){if($items.filter(".old").length>0){$items.filter(".old").removeClass("old")}if($items.filter(".act").length>0){$items.filter(".act").removeClass("act").addClass("old")}var $itemToAct=$items.eq(indexItemToAct);$itemToAct.addClass("act");$(".jsDots",$itemToAct).eq(indexItemToAct).addClass("act");var leftEnd=$(".imgListRz img",$itemToAct).css("left");var oldIndex=$items.filter(".old").index();var completeAnimation=function(){$(this).removeAttr("style")};$itemToAct.css({opacity:0}).animate({opacity:1},"slow");if(oldIndex<indexItemToAct){$(".imgListRz img",$itemToAct).css({left:'+=25px'}).animate({left:leftEnd},"slow",completeAnimation)}else{$(".imgListRz img",$itemToAct).css({left:'-=25px'}).animate({left:leftEnd},"slow",completeAnimation)}};updateItemAct(0);$.each($items,function(indexItem,item){var $nav=$(".jsDotCarouselNav",item);var $dots=$(".jsDots",$nav);var $left=$(".jsLeft",$nav);var $right=$(".jsRight",$nav);$dots.on("click",function(){var indexDotClicked=$(this).index();updateItemAct(indexDotClicked)});$left.on("click",function(){var indexItemAct=$items.filter(".act").index();if(indexItemAct>0){updateItemAct(indexItemAct-1)}});$right.on("click",function(){var indexItemAct=$items.filter(".act").index();if(indexItemAct+1<$items.length){updateItemAct(indexItemAct+1)}})})})}})(window,$fwk);
/* Js/WL/rwd/fwk/extendPopin.js */
(function(win){var _doc=win.document,_overlay=ppDiv="",$win=$(win),_$getWaitingOverlay=function(){return $("#waitingOverlay")},_hideOverlay=function(){_$getWaitingOverlay().hide();$.version=="mobile"&&(document.body.style.overflow="initial");ppDiv&&_overlay.removeChild(ppDiv);_overlay&&_doc.body.removeChild(_overlay);_overlay=ppDiv="";$win.unbind("resize",function(){_elargePopin()});$win.unbind("resize scroll",_updatedOverlayStyle);document.body.style.overflow="auto";return false},_getScrolTop=function(){return(typeof $(document).scrollTop!="undefined"&&$(document).scrollTop())||document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop},_updatedOverlayStyle=function(){var overId=_doc.getElementById("overlay")!=null?"overlay":"overlayLoad";if(_doc.getElementById(overId)){_doc.getElementById(overId).style.height=($(_doc).height?$(_doc).height():_doc.documentElement.scrollHeight)+"px"}if(_doc.getElementById("waitingOverlay")){_doc.getElementById("waitingOverlay").style.height=($(_doc).height?$(_doc).height():_doc.documentElement.scrollHeight)+"px"}},_centerPopin=function(){var $popin=$('body .popin'),scrollPos=_getScrolTop(),marginLeft=$popin[0].clientWidth/2,marginTop=($popin[0].clientHeight)/2,top=(_doc.documentElement.clientHeight)/2+scrollPos;$popin[0].style.marginLeft="-"+marginLeft+"px";$popin[0].style.marginRight=marginLeft+"px";$popin[0].style.marginTop="-"+marginTop+"px";$popin[0].style.top=top+"px";$.version=="mobile"&&(document.body.style.overflow="hidden")},_elargePopin=function(full){var $popin=$('body .popinFull'),scrollPos=_getScrolTop(),height=Math.ceil((_doc.documentElement.clientHeight)*94/100),marginTop=Math.ceil((_doc.documentElement.clientHeight)*3/100),top=Math.ceil(marginTop+scrollPos);var heightXL=full||false;if($popin[0].clientHeight<=height&&heightXL==true){$popin[0].style.height=height+"px";$popin[0].style.marginTop=""}else if($popin[0].clientHeight<=height&&heightXL==false){marginTop=($popin[0].clientHeight)/2;top=(_doc.documentElement.clientHeight)/2+scrollPos;$popin[0].style.marginTop="-"+marginTop+"px";$popin[0].style.height=""}else{$popin[0].style.marginTop="";$popin[0].style.height=""}$popin[0].style.top=top+"px"},_createBtnClose=function(){var btnClose=_doc.createElement("div");btnClose.className="pClose";btnClose.innerHTML="&#10006";return btnClose},_createTitle=function(innerTitle){var title=_doc.createElement("div");title.className="popinTitle";title.innerHTML=innerTitle;return title};$.popin={showOverlay:function(opts){_$getWaitingOverlay().hide();if(_overlay===""){_overlay=_doc.createElement("div");_overlay.id="overlay";_overlay.style.height=($(_doc).height?$(_doc).height():_doc.documentElement.clientHeight)+"px";if(opts&&opts.isOverlayClick&&!opts.loader){_overlay.onclick=function(evt){if(_overlay&&evt.target.id=="overlay"){_hideOverlay();opts&&opts.callback&&opts.callback()}}}_doc.body.appendChild(_overlay);if(opts&&opts.loader){var loader=_doc.createElement("p");_doc.getElementById("overlay").id="overlayLoad";_doc.getElementById("overlayLoad").appendChild(loader)}$win.bind("resize scroll",_updatedOverlayStyle)}return _overlay},isWaitingOverlay:function(){return!!_$getWaitingOverlay().length},showWaitingOverlay:function(){if(_$getWaitingOverlay().length){$win.bind("resize scroll",_updatedOverlayStyle);_$getWaitingOverlay().show();_updatedOverlayStyle()}return _$getWaitingOverlay},hideOverlay:function(){_hideOverlay()},confirm:function(msg,options){_$getWaitingOverlay().hide();if(ppDiv===""){var msgP=_doc.createElement("p"),btnOk=_doc.createElement("input"),btnCancel=_doc.createElement("input"),btnClose=_createBtnClose();ppDiv=_doc.createElement("div");ppDiv.className="popin "+(options.className||"");msgP.innerHTML=msg;btnOk.type=btnCancel.type="button";if(options.czClass!=null){btnOk.className=options.czClass}else{btnOk.className="btGreen"}btnOk.value=options&&options.btnOkTxt||"Valider";if(options.czCancelClass!=null){btnCancel.className=options.czCancelClass}else{btnCancel.className="btWhite";;}btnCancel.value=options&&options.btnCancelTxt||"Annuler";var actionsDiv;if(options.actionsInDiv!=null&&options.actionsInDiv==true){actionsDiv=_doc.createElement("div");if(options.actionsDivClassName!=null){actionsDiv.className=options.actionsDivClassName}}this.showOverlay(options);btnOk.onclick=function(){options&&options.preCallback&&options.preCallback(true);_hideOverlay();options&&options.callback&&options.callback(true)};btnClose.onclick=btnCancel.onclick=function(){options&&options.preCallback&&options.preCallback(false);_hideOverlay();options&&options.callback&&options.callback(false)};ppDiv.appendChild(btnClose);options&&options.title&&ppDiv.appendChild(_createTitle(options.title));ppDiv.appendChild(msgP);if(options.actionsInDiv!=null&&options.actionsInDiv==true){if(options.doReverseActionButtons!=null&&options.doReverseActionButtons){actionsDiv.appendChild(btnCancel);actionsDiv.appendChild(btnOk)}else{actionsDiv.appendChild(btnOk);actionsDiv.appendChild(btnCancel)}ppDiv.appendChild(actionsDiv)}else{if(options.doReverseActionButtons!=null&&options.doReverseActionButtons){ppDiv.appendChild(btnCancel);ppDiv.appendChild(btnOk)}else{ppDiv.appendChild(btnOk);ppDiv.appendChild(btnCancel)}}_overlay.appendChild(ppDiv);_centerPopin()}return false},alert:function(msg,options){_$getWaitingOverlay().hide();if(ppDiv===""){var msgP=_doc.createElement("p"),btn=_doc.createElement("input"),btnClose=_createBtnClose();ppDiv=_doc.createElement("div");ppDiv.className="popin";msgP.innerHTML=msg;btn.type="button";btn.className="btPopin";btn.value=options&&options.btnTxt||"Continuer";this.showOverlay(options);btnClose.onclick=btn.onclick=function(){_hideOverlay();options&&options.callback&&options.callback()};ppDiv.appendChild(btnClose);options&&options.title&&ppDiv.appendChild(_createTitle(options.title));ppDiv.appendChild(msgP);ppDiv.appendChild(btn);_overlay.appendChild(ppDiv);_centerPopin()}return false},load:function(url,options){_$getWaitingOverlay().hide();var msgP=_doc.createElement("div"),btnClose=_createBtnClose(),full=(options&&options.fullSize)||false;ppDiv=_doc.createElement("div");ppDiv.className="popinFull ";if(options&&options.addedClass)ppDiv.className+=options.addedClass;if(options.isOverlayClick==undefined)options.isOverlayClick=true;if(options.isOverflowHidden){document.body.style.overflow="hidden"}this.showOverlay(options);btnClose.onclick=function(){_hideOverlay();options&&options.callback&&options.callback()};ppDiv.appendChild(btnClose);ppDiv.appendChild(msgP);$(msgP).load(url,function(){_overlay.appendChild(ppDiv);_elargePopin(full)});$win.bind("resize",function(){_elargePopin(full)});options.callback();return false},loadAjaxPopin:function(url,options){var settings=$.extend({isModal:false,addedClass:"",method:"GET",data:'',callback:$.noop,isPopinFullScreen:false,isOverflowHidden:true,isWaitingOverlayHidden:false,isHidden:false},options),popin,$popin,$body=$('body',_doc);if(!settings.isWaitingOverlayHidden)$.popin.showWaitingOverlay();if(settings.isOverflowHidden){document.body.style.overflow="hidden"}if(!settings.isPopinFullScreen){popin=$('.popin')[0];if(!popin){popin=_doc.createElement("div");popin.className='popin';_doc.body.appendChild(popin)}}else{popin=_doc.createElement("div");popin.className='popinFull';this.showOverlay(options);_overlay.appendChild(popin);$win.bind("resize",function(){_elargePopin(false)})}$.ajax({type:settings.method,url:url,dataType:"html",data:settings.data,cache:false,success:function(data){$popin=$(popin);$popin.empty();$popin.hide();var btnClose=_createBtnClose();btnClose.className+=" jsCancel";popin.appendChild(btnClose);if(settings.addedClass){$popin.addClass(settings.addedClass)}$.popin.showOverlay({isOverlayClick:!settings.isModal,callback:function(){if(!settings.isModal){$popin.remove();document.body.style.overflow="auto"}}});var dataHTML=_doc.createElement('div');dataHTML.innerHTML=data;popin.appendChild(dataHTML);settings.callback();$(".jsCancel",$popin).click(function(){$.popin.hideOverlay();$popin.remove();document.body.style.overflow="auto";return false});if(!settings.isHidden){$popin.show()}else{$popin.hide()}},complete:function(){_$getWaitingOverlay().hide();if(settings.isPopinFullScreen){_elargePopin(false)}}});return false},loadHTML:function(HTMLPopin,options){_$getWaitingOverlay().hide();if(HTMLPopin){var popin=document.createElement('div');$popin=$(popin);$popin.addClass('popin');btn=_createBtnClose();btn.classList.add('jsBtClose');$popin.append(btn);$popin.append(HTMLPopin);$btnClose=$('.jsBtClose',$popin);$btnClose.on('click',function(){_hideOverlay()});if(options&&options['class']){$popin.addClass(options['class'])}$overlay=this.showOverlay();$popin.appendTo($overlay);_centerPopin();return $popin}return false}}})(window);
/* Js/WL/rwd/block/custo.js */
(function($){var _custo=null,_login=null,_isHtml5Mode,_urlFront="https://www.cdiscount.com",_urlUserPersoAdr="GetUserPersonalization.mvc/",_urlHtmlGeoloc="ReverseGeoCode.mvc/",_urlLogout="Logout.mvc/,";_urlLogin="GetLogin.mvc/",_urlUserPersoAdrSecured="GetUserPersonalizationSecured.mvc/",_urlHtmlGeolocSecured="ReverseGeoCodeSecured.mvc/",_urlLogoutSecured="LogoutSecured.mvc/,";_urlLoginSecured="GetLoginSecured.mvc/",_urlNotificationMessages="Account.mvc/GetCustomerNotificationMessages",_urlSubscribeNewsletter="CustomerZoneSubscriptions.mvc/UpdateNewsletterSubscriptionsPage",_customerNotificationFeatureFlipping=true;_custoKey="custo",_loginKey="login",_callback=[],_callbackName=[],_personalization=null,_disableCrossDomain=false,_protocol=document.location.protocol;var _getCookie=function(key){return $.cookies.get(key,"__")};var _getGeolocAndMessages=function(param){if(_protocol==="https:"&&!_disableCrossDomain){$.ajax({type:"GET",dataType:'jsonp',url:_urlUserPersoAdrSecured})}else{$.ajax({type:"GET",url:_urlUserPersoAdr+(param||""),dataType:"text",error:function(){_callback.map(function(f){f()})},success:function(res){$.custo._callbackPersonalization(res?$.parseJSON(res):null);var nbProductShoppingCart=$.cookies.get("articles_count");if(nbProductShoppingCart>0){$("#itemCart").html(nbProductShoppingCart).show();$("#itemCartText span:first").html(nbProductShoppingCart)}if(nbProductShoppingCart>1){$("#itemCartText span:last").show()}}})}};var _getPosition=function(geopos){if(_protocol==="https:"&&!_disableCrossDomain){$.ajax({type:"GET",dataType:'jsonp',url:_urlHtmlGeolocSecured+geopos.coords.latitude+"/"+geopos.coords.longitude})}else{$.get(_urlHtmlGeoloc+geopos.coords.latitude+"/"+geopos.coords.longitude,function(r){var coord=$.parseJSON(r);$.custo._callbackReverseGeocode(coord)},"text")}};$.custo={init:function(options){var opt=options||{},guid=(/guid=([a-zA-Z0-9\-]*)&/i.exec($.cookies.get("CookieId"))||[])[1];if(opt.disableCrossDomain){_disableCrossDomain=opt.disableCrossDomain}_isHtml5Mode=!!(opt.isHTML5Mode);if(_protocol!=="https:"||_disableCrossDomain){if(opt.httpServerUrl){_urlFront=opt.httpServerUrl+"/";if(opt.custoUrl)_urlUserPersoAdr=_urlFront+opt.custoUrl;if(opt.html5Url)_urlHtmlGeoloc=_urlFront+opt.html5Url;if(opt.logoutUrl)_urlLogout=_urlFront+opt.logoutUrl;if(opt.loginUrl)_urlLogin=_urlFront+opt.loginUrl;if(opt.customerNotification)_urlNotificationMessages=_urlFront+opt.customerNotification;if(opt.subscribeNewsletter)_urlSubscribeNewsletter=_urlFront+opt.subscribeNewsletter;if(opt.customerNotificationFeatureFlipping)_customerNotificationFeatureFlipping=opt.customerNotificationFeatureFlipping;var oldLogin=$.custo.getLogin();if(!oldLogin||!oldLogin.firstName||oldLogin.guid!=guid||(oldLogin.firstName&&!$.nav.session.isAuthenticate())){$.ajax({url:_urlLogin,dataType:"text",cache:false,success:function(r){var login=$.parseJSON(r);$.custo._callbackLogin(login,!!(opt.isHTML5Mode))}})}else{$.custo._callbackLogin(oldLogin,!!(opt.isHTML5Mode))}}}else{if(opt.httpsServerUrl){_urlFront=opt.httpsServerUrl+"/";if(opt.custoSecuredUrl)_urlUserPersoAdrSecured=_urlFront+opt.custoSecuredUrl;if(opt.html5SecuredUrl)_urlHtmlGeolocSecured=_urlFront+opt.html5SecuredUrl;if(opt.logoutSecuredUrl)_urlLogoutSecured=_urlFront+opt.logoutSecuredUrl;if(opt.loginSecuredUrl)_urlLoginSecured=_urlFront+opt.loginSecuredUrl;if(opt.customerNotification)_urlNotificationMessages=_urlFront+opt.customerNotification;if(opt.customerNotificationFeatureFlipping)_customerNotificationFeatureFlipping=opt.customerNotificationFeatureFlipping;if(opt.subscribeNewsletter)_urlSubscribeNewsletter=opt.subscribeNewsletter;var oldLogin=$.custo.getLogin();if(!oldLogin||!oldLogin.firstName||oldLogin.guid!=guid||(oldLogin.firstName&&!$.nav.session.isAuthenticate())){$.ajax({type:"GET",dataType:'jsonp',url:_urlLoginSecured})}else{$.custo._callbackLogin(oldLogin,!!(opt.isHTML5Mode))}}}},_callbackLogin:function(r,isHtml5Mode){var oldLogin=$.custo.getLogin();var login=r;$.custo.setLogin(login);$.storage.set(_loginKey,$.stringify(r));_callbackName.map(function(f){f()});if(login!=null&&typeof(login.identified)!=="undefined"){var authentifiedAfterIdentified=login.identified&&oldLogin.identified&&oldLogin.guid==login.guid&&!oldLogin.firstName&&login.firstName;if((oldLogin==null||typeof(oldLogin.identified)==="undefined")||(login.guid!=oldLogin.guid)||authentifiedAfterIdentified){if(isHtml5Mode){$.geoloc.getPosition(function(geopos){_getGeolocAndMessages(geopos.error?"":"empty/"+geopos.coords.latitude+"/"+geopos.coords.longitude+"/")})}else{_getGeolocAndMessages()}}else{var c=$.custo.getCusto();var dateNow=new Date;var lastConnection=new Date(Date.parse(c.lastConnection));var diff=dateNow.getTime()-lastConnection.getTime();var diffinHour=parseInt(diff/(3600*1000));if(diffinHour>=2){_getGeolocAndMessages()}else{if(_getCookie("PersoTownKey")){if(_getCookie("PersoTownKey")+_getCookie("GeolocPriorityKey")!==$.custo.getTown()+$.custo.getPriority()){c.town=_getCookie("PersoTownKey");c.country=_getCookie("PersoCountryKey");c.urlGeoSC=_getCookie("PersoUrlGeoSCKey");c.lat=parseFloat(_getCookie("PersoLatitudeKey"));c.lng=parseFloat(_getCookie("PersoLongitudeKey"));c.priority=parseInt(_getCookie("GeolocPriorityKey"))}}else if(isHtml5Mode){$.geoloc.getPosition(function(geopos){_getGeolocAndMessages(geopos.error?"":"empty/"+geopos.coords.latitude+"/"+geopos.coords.longitude+"/")})}$.storage.set(_custoKey,$.stringify(c));_callback.map(function(f){f()})}}}},updateCustoData:function(){var c=$.custo.getCusto();c.town=_getCookie("PersoTownKey");c.country=_getCookie("PersoCountryKey");c.urlGeoSC=_getCookie("PersoUrlGeoSCKey");c.lat=parseFloat(_getCookie("PersoLatitudeKey"));c.lng=parseFloat(_getCookie("PersoLongitudeKey"));c.priority=parseInt(_getCookie("GeolocPriorityKey"));$.storage.set(_custoKey,$.stringify(c))},setStatePushBr:function(state){var c=$.custo.getCusto();c.statePushBr=state;$.storage.set(_custoKey,$.stringify(c))},setStateBasketPushBr:function(state){var c=$.custo.getCusto();c.stateBasketPushBr=state;$.storage.set(_custoKey,$.stringify(c))},_callbackPersonalization:function(res){_custo=null;_personalization=res;if(_personalization==null){_callback.map(function(f){f()})}else{_personalization.lastConnection=new Date;if($.custo.isHtml5Mode()&&(!_personalization["town"])&&(navigator.geolocation)){$.geoloc.getPosition(function(geopos){_getPosition(geopos)})}else{$.storage.set(_custoKey,$.stringify(_personalization));_callback.map(function(f){f()})}}},_callbackReverseGeocode:function(r){_personalization["town"]=r["town"]||"";_personalization["country"]=r["country"]||"";$.storage.set(_custoKey,$.stringify(_personalization));_callback.map(function(f){f()})},changeCity:_getGeolocAndMessages,addListener:function(callback){_callback.push(callback)},addListenerName:function(callback){_callbackName.push(callback)},getCusto:function(){if(!_custo){var c=$.storage.get(_custoKey);_custo=c?$.parseJSON(c):{}}return _custo},getLogin:function(){if(!_login){var c=$.storage.get(_loginKey);_login=c?$.parseJSON(c):{}}return _login},getTown:function(){return this.getCusto()["town"]||""},getCountry:function(){return this.getCusto()["country"]||""},getUrlGeo:function(){return this.getCusto()["urlGeoSC"]||""},getLat:function(){return this.getCusto()["lat"]||""},getLng:function(){return this.getCusto()["lng"]||""},getFirstName:function(){return this.getLogin()["firstName"]||""},getNickName:function(){return this.getLogin()["nickName"]||""},getGuid:function(){return this.getLogin()["guid"]||""},getIdentified:function(){return this.getLogin()["identified"]||""},getPriority:function(){return this.getCusto()["priority"]||""},getMessages:function(){return this.getCusto()["messages"]||""},isSubscriberNews:function(){return!!this.getCusto()["isSubscriberNews"]},getCdav:function(){return this.getLogin()["cdav"]},getPartnerNewsLetter:function(){return this.getCusto()["partnerNewsLetter"]||""},getEmail:function(){return this.getCusto()["email"]||""},getSegments:function(){return this.getCusto()["segments"]||{}},getUnreadMail:function(){return parseInt(_getCookie("NbUnreadMessagesKey"))||0},getPushBrInitialized:function(){return this.getCusto()["pushBrInitialized"]},getMessagePushBr:function(){return this.getCusto()["pushBr"]||""},getStatePushBr:function(){return this.getCusto()["statePushBr"]||0},getStateBasketPushBr:function(){return this.getCusto()["stateBasketPushBr"]||0},logout:function(){$.storage.remove(_loginKey);$.storage.remove(_custoKey);if(_protocol==="https:"&&!_disableCrossDomain){$.ajax({type:"GET",dataType:'jsonp',url:_urlLogoutSecured})}else{$.get(_urlLogout,function(){$.custo._callbackLogout()})}},_callbackLogout:function(){window.location=_protocol+"//"+window.location.host},setLogin:function(login){_login=login},isHtml5Mode:function(){return}};$.init("push",function(opt){var $pushBloc=$("#pushBloc");var $pushMessage=$(".jsPushMessage",$pushBloc);var $pushIcon=$(".jsPushIcon",$pushBloc);var isBasket=$("#hdnPageType").val()=="Basket";var notifBoxBrMode=false;var notifBoxIdMsg=0;var notifBoxMsg;var $query="";function showPushBloc(showMessage){$pushIcon.show();$pushBloc.show();if(showMessage){showPushPopin();if(!notifBoxBrMode)trackPushPopinAction(209,'Displaying Push BR popin')}}function rotationIcon(angle,duration){$({deg:0}).animate({deg:angle},{duration:duration,step:function(now){$pushIcon.css({transform:'rotate('+now+'deg)'})}}).animate({deg:0},{duration:duration,step:function(now){$pushIcon.css({transform:'rotate('+now+'deg)'})}})};function showPushPopin(){$pushMessage.fadeIn()}function hidePushPopin(){rotationIcon(-30,300);$pushMessage.fadeOut()}function hidePushBloc(){$pushBloc.fadeOut()}function getPushState(){if(notifBoxBrMode){var nbState=sessionStorage['hideNotifMsg'+notifBoxIdMsg];return nbState?nbState:0}else{return $.custo.getStatePushBr()}}function getPushBasketState(){if(notifBoxBrMode){var nbState=sessionStorage['hideNotifMsg'+notifBoxIdMsg];return nbState?nbState:0}else{return $.custo.getStateBasketPushBr()}}function getPushMessage(){return $.custo.getMessagePushBr()}function initializePopin(){if(_customerNotificationFeatureFlipping=="true"&&!isBasket){var pushBr=getPushMessage();nbSelectMsgToDisplay(pushBr)}}function initializeMessage(pushBr){var state;state=isBasket?getPushBasketState():getPushState();if(notifBoxIdMsg==="Br"){var message=pushBr.Message;var codeBr=pushBr.Code;if(codeBr!=""){$(".jsPushYourCode",$pushBloc).text(codeBr)}else{$pushMessage.addClass("pushMessageLight")}$(".jsPushMessageContent",$pushBloc).html(message)}else if(notifBoxIdMsg=="0"||notifBoxIdMsg==undefined){nbShowOrNot(2);return}else if(notifBoxIdMsg==="MsgBox"){nbCustomForQueryString();nbShowOrNot(0)}else if(notifBoxIdMsg==="AboMini"){var message=notifBoxMsg["Body"];var input=notifBoxMsg["Url"];$(".jsOkButton",$pushBloc).val(notifBoxMsg["Label"]);$(".jsPushYourCodeMsg",$pushBloc).html(input);$(".jsPushYourCodeMsg",$pushBloc).removeClass("pushYourCodeMsg");$(".jsPushYourCode",$pushBloc).html("");$(".jsPushMessageContent",$pushBloc).html(message);nbShowOrNot(state)}else if(notifBoxIdMsg==="Accengage"){nbCustomForAccEngage();return}else{nbCustomForOperation()}nbShowOrNot(state)}function nbCustomForOperation(){if(notifBoxMsg["SecondaryBody"]!=null&&notifBoxMsg["SecondaryBody"]!=""){$(".jsOkButton",$pushBloc).val(notifBoxMsg["Label"]);$(".jsPushYourCodeMsg",$pushBloc).html(notifBoxMsg["SecondaryBody"]);$(".jsPushYourCodeMsg",$pushBloc).removeClass("pushYourCodeMsg");$(".jsPushYourCode",$pushBloc).html("");$(".jsPushMessageContent",$pushBloc).html(notifBoxMsg["Body"]);return}var $textRouge=$(".jsPushYourCodeMsg",$pushBloc);var $pushButton=$(".jsOkButton",$pushBloc);var $pushCopyCodeButton=$(".jsPushCopyCode",$pushBloc);var $pushCodebloc=$(".jsPushCodeBloc",$pushBloc);$pushCopyCodeButton.addClass('pushAlignButton');if(notifBoxMsg["Label"]!=null&&notifBoxMsg["Label"]!=""){$pushButton.val(notifBoxMsg["Label"]);if(notifBoxMsg["IsImportant"]===true){$pushButton.removeClass('btBlue');$pushButton.addClass('btGreen')}}else{$pushMessage.addClass("pushMessageLight")}$textRouge.text('');if(notifBoxMsg["Body"]!==null){$(".jsPushMessageContent",$pushBloc).html(notifBoxMsg["Body"])}$pushButton.addClass('pushOkButton');if(notifBoxMsg["ShowImage"]===false){$pushCodebloc.addClass('pushCodeBlocHidden')}}function nbCustomForQueryString(){$pushMessage.addClass("pushMessageLight");$(".jsPushMessageContent",$pushBloc).html($query)}function nbCustomForAccEngage(){var $pushButton=$(".jsOkButton",$pushBloc);var $textRouge=$(".jsPushYourCodeMsg",$pushBloc);var $pushLink=$(".jsOkLink",$pushBloc);var $linkParent=$(".jsPushCopyCode",$pushBloc);var $pushCopyCodeButton=$(".jsPushCopyCode",$pushBloc);$pushCopyCodeButton.addClass('pushAlignAccengageButton');$pushLink.text(notifBoxMsg["Label"]);$textRouge.text('');$(".jsPushMessageContent",$pushBloc).html(notifBoxMsg["Body"]);$pushLink.addClass('linkNotifBox');$linkParent.addClass('linkNotifBoxParent');$pushButton.toggle();$pushLink.toggle();$.custo.notifBox.hasToDisplayAccengage=true;displayPuswWeb()}$.custo.notifBox={hasToDisplayAccengage:false,displayAccengage:displayPuswWeb};function displayPuswWeb(){if($.custo.notifBox.hasToDisplayAccengage&&$.custo.notifBox.tagCoReady){nbShowOrNot(getPushState());$.custo.notifBox=null}}function GetEnvWork(){try{if(tc_vars["env_work"]=="DEV")return'dev-';if(tc_vars["env_work"]=="RCT")return'recette-';if(tc_vars["env_work"]=="PREPROD")return'preprod-';return''}catch(err){return''}}function nbShowOrNot(state){state=''+state;switch(state){case'0':showPushBloc(true);if(notifBoxBrMode){closeAfterXsec(7000)}break;case'1':showPushBloc(false);break;case'2':hidePushPopin();break;default:hidePushPopin()}}function getCustomMessages(){var accengage=(sessionStorage['accIsElligible']==='1'?"1":"0");var review=(localStorage.getItem('last-reviews')!=null&&JSON.parse(localStorage.getItem('last-reviews')).length>0?JSON.parse(localStorage.getItem('last-reviews'))[0]["sku"]:"");var messageId=(sessionStorage.getItem('notifmessageId')!=null?sessionStorage.getItem('notifmessageId'):0);var environnement=GetEnvWork();var cacheCdav=sessionStorage['cacheCdav'];var cacheIsOptinNewsletter=sessionStorage['cacheIsOptinNewsletter'];var cacheNeedReview=sessionStorage['cacheNeedReview'];$.ajax({url:_urlNotificationMessages+'?isElligibleAccengage='+accengage+"&messageId="+messageId+"&lastreview="+review+"&environnement="+environnement+"&cacheCdav="+cacheCdav+"&cacheIsOptinNewsletter="+cacheIsOptinNewsletter+"&cacheNeedReview="+cacheNeedReview,type:"GET",data:null,dataType:"json",traditional:true,cache:false,contentType:"application/json; charset=utf-8",success:function(data){if(data.message){notifBoxMsg=data.message;notifBoxIdMsg=notifBoxMsg.Code;sessionStorage.setItem('notifmessageId',JSON.stringify(data.message.NotificationMessageID))}if(data.cache){sessionStorage.setItem('cacheCdav',JSON.stringify(data.cache.Cdav));sessionStorage.setItem('cacheIsOptinNewsletter',JSON.stringify(data.cache.IsOptinNewsletter));sessionStorage.setItem('cacheNeedReview',JSON.stringify(data.cache.NeedReview))}initializeMessage()},error:function(){notifBoxIdMsg="0";initializeMessage()}})}function getParameterByName(name){name=name.replace("/[[]/","[").replace("/[]]/","]");var regexS="[?&]"+name+"=([^&#]*)";var regex=new RegExp(regexS);var results=regex.exec(window.location.search);if(results==null){query="";return}$query=decodeURIComponent(results[1].replace("/+/g",""));return $query}function nbSelectMsgToDisplay(pushBr){var hasBrMsg=false;hasBrMsg=$.nav.session.isAuthenticate()&&pushBr&&pushBr.Message!="";notifBoxBrMode=true;if(getParameterByName("msgb")!=null){notifBoxIdMsg="MsgBox";initializeMessage();return}if(hasBrMsg){notifBoxBrMode=false;notifBoxIdMsg="Br";initializeMessage(pushBr);return}notifBoxMsg=getCustomMessages()}function trackPushPopinAction(eventId,actionName){var s=s_gi(s_account);s.linkTrackVars='events';s.linkTrackEvents='event'+eventId;s.eVar54='Partage Panier';s.events='event'+eventId;getEvar93(s);s.trackLight(this,'o',actionName)}function getEvar93(s){var dtype=document.cookie.indexOf("_$dtype")!=-1?document.cookie.substr(document.cookie.indexOf("_$dtype")+"_$dtype".length+3,1):"Cookie not found";if(dtype=="d"){s.eVar93="pc"}else if(s.eVar93=="t"){s.eVar93="tab"}else if(s.eVar93=="s"){s.eVar93="sms"}else{s.eVar93="undefined"}}function trackNotfiBoxAction(actionName,actionType){if(notifBoxMsg&&notifBoxMsg.NotificationMessageID){var s=s_gi(s_account);s.linkTrackVars='prop47';if(s.prop47)s.prop47+=actionType+'_'+notifBoxMsg.NotificationMessageID+';';else s.prop47=actionType+'_'+notifBoxMsg.NotificationMessageID+';';getEvar93(s);s.trackLight(this,'o',actionName)}}function copyCodeToClipboard(){var fakeElem=document.createElement('textarea');fakeElem.style.fontSize='12pt';fakeElem.style.border='0';fakeElem.style.padding='0';fakeElem.style.margin='0';fakeElem.style.position='absolute';fakeElem.style['left']='-9999px';var yPosition=window.pageYOffset||document.documentElement.scrollTop;fakeElem.style.top=yPosition+'px';fakeElem.setAttribute('readonly','');fakeElem.value=$(".jsPushYourCode",$pushBloc).text();document.body.appendChild(fakeElem);fakeElem.select();fakeElem.setSelectionRange(0,fakeElem.value.length);document.execCommand("copy");document.body.removeChild(fakeElem);hidePushPopin();if(isBasket){$.custo.setStateBasketPushBr(1)}else{$.custo.setStatePushBr(1)}}if($.custo){$.custo.addListener(function(){if(window.noOnLoad){initializePopin()}else{if(window.addEventListener){window.addEventListener("load",initializePopin,false)}else if(window.attachEvent){window.attachEvent("onload",initializePopin)}}})}$pushBloc.on("click",".jsPushIcon",function(){if($pushMessage.is(":visible")){hidePushPopin();if(!notifBoxBrMode){if(isBasket){$.custo.setStateBasketPushBr(1)}else{$.custo.setStatePushBr(1)}trackPushPopinAction(212,'Clic on push BR bell (Q)')}else{sessionStorage['hideNotifMsg'+notifBoxIdMsg]=1;trackNotfiBoxAction('Click on push BR bell NotifBox','Q')}}else{showPushPopin();if(!notifBoxBrMode){if(isBasket){$.custo.setStateBasketPushBr(0)}else{$.custo.setStatePushBr(0)}trackPushPopinAction(212,'Clic on push BR bell (S)')}else{sessionStorage['hideNotifMsg'+notifBoxIdMsg]=0;trackNotfiBoxAction('Click on push BR bell NotifBox','S')}}});$pushBloc.on("click",".jsPushMessageClose",function(){if(!notifBoxBrMode){if(isBasket){$.custo.setStateBasketPushBr(2);$.custo.setStatePushBr(2)}else{$.custo.setStatePushBr(2)}hidePushPopin();trackPushPopinAction(210,'Close push BR popin')}else{hidePushPopin();sessionStorage['hideNotifMsg'+notifBoxIdMsg]=1;trackNotfiBoxAction('Close on NotifBox','F')}});function closeAfterXsec(msec){setTimeout(function(){hidePushPopin();sessionStorage['hideNotifMsg'+notifBoxIdMsg]=1},msec)}$pushBloc.on("click",".pushCopyCode",function(){if(notifBoxIdMsg!="Br"&&notifBoxIdMsg!="AboMini"){nbShowOrNot(2);sessionStorage['hideNotifMsg'+notifBoxIdMsg]=1;var url=notifBoxMsg["Url"];if(url!=undefined&&url!=""){if(notifBoxMsg.Code=="NAuth"){url=url+'?referrer='+encodeURIComponent(window.location.href).split('.').join('%2E')}trackNotfiBoxAction('Click on NotifBox','C');document.location.href=url}}else if(notifBoxIdMsg=="AboMini"&&$("#cbAboMini").prop('checked')){nbShowOrNot(2);$(".jsOkButton",$pushBloc).prop('disabled',true);var message="";$.ajax({url:_urlSubscribeNewsletter,type:"POST",data:JSON.stringify({url:document.location.href,newsletterId:1}),dataType:"json",traditional:true,contentType:"application/json; charset=utf-8",success:function(data){if(data.status=="redirect"){window.location.href=data.url}else{message=data.Sentence}},error:function(err){message=data.Sentence}});setTimeout(function(){$pushMessage.addClass("pushMessageLight");$(".jsPushMessageContent",$pushBloc).html(message);nbShowOrNot(0)},500);trackNotfiBoxAction('Click on NotifBox','C')}else if(!notifBoxBrMode){copyCodeToClipboard();trackPushPopinAction(211,'Copy code on push BR popin')}})})})($);
/* Js/WL/rwd/block/pertinence.js */
var CarouselsAnimCo;(function(win,$){CarouselsAnimCo={};CarouselsAnimCo.carousels=[];CarouselsAnimCo.results={};CarouselsAnimCo.isTrackingAvailable=(function(){return function(){return($.track&&$.track.tracking&&$.track.tracking.send)}})();CarouselsAnimCo.parsePrice=(function(c){c.priceRegex=/(\d+)\D*(\d{2})/;return function(strPrice){if(null==strPrice){return null}var priceMatch=c.priceRegex.exec(strPrice.toString());var price=priceMatch&&priceMatch.length>=3?parseFloat(priceMatch[1]+"."+priceMatch[2]):0;return price}})(CarouselsAnimCo);CarouselsAnimCo.getVisibleSkusInCarousel=(function(){return function(carousel){var visibleSkus=[];$("li.jsPdtItem",carousel).each(function(){var elem=$(this);var elemPosition=elem.position();if(elemPosition.left>=0&&elemPosition.left<=elem.parent().width()){var sku=elem.data("sku");if(sku){visibleSkus.push(sku.toString())}}});return visibleSkus}})();CarouselsAnimCo.getVisibleProductsInCarousel=(function(c){return function(carousel){var visibleProducts=[];$("li.jsPdtItem",carousel).each(function(){var elem=$(this);var elemPosition=elem.position();if(elemPosition.left>=0&&elemPosition.left<=elem.parent().width()){var prod={};prod.sku=elem.data("sku");prod.pos=parseInt(elem.data("pos"),10);prod.price=c.parsePrice($("span.jsPrice",elem).text());prod.priceS=c.parsePrice($("span.jsStroken",elem).text());prod.codePath=elem.data("cat");prod.sellerId=parseInt(elem.data("sel"),10);prod.offerId=parseInt(elem.data("off"),10);prod.rate=parseFloat(elem.data("rat"));prod.rVoter=parseInt(elem.data("rvo"),10);prod.stk=parseInt(elem.data("stk"),10);if(isNaN(prod.sellerId))prod.sellerId=-1;if(isNaN(prod.offerId))prod.offerId=-1;if(isNaN(prod.rate))prod.rate=0;if(isNaN(prod.rVoter))prod.rVoter=0;if(prod.sku){visibleProducts.push(prod)}}});return visibleProducts}})(CarouselsAnimCo);CarouselsAnimCo.getCarousel=(function(c){return function(id){for(var i in c.carousels){var carou=c.carousels[i];if(carou.idCar==id){return carou}}return null}})(CarouselsAnimCo);CarouselsAnimCo.addCarousel=(function(c){return function(idCarousel){if(c.isTrackingAvailable()){var carou=c.getCarousel(idCarousel);if(!carou){if($("#"+idCarousel).isInViewport()){var bandit=$("form[name='algoForm'] input[name='AlgoFormData["+idCarousel+"].Name']","#"+idCarousel).val();var viewedKey=$("form[name='algoForm'] input[name='AlgoFormData["+idCarousel+"].ViewedKey']","#"+idCarousel).val();c.carousels.push({idCar:idCarousel,bName:bandit,key:viewedKey,products:[]});return true}return false}return true}}})(CarouselsAnimCo);CarouselsAnimCo.addProducts=(function(c){var _addProduct=function(carou,prod){var prodAlreadyExists=false;for(var j in carou.products){if(carou.products[j].sku==prod.sku){prodAlreadyExists=true;break}}if(!prodAlreadyExists){carou.products.push(prod);return true}return false};return function(idCarousel,products){if(c.isTrackingAvailable()){var carou=c.getCarousel(idCarousel);if(carou){var productsAdded=false;var carouselObject=$("#"+idCarousel);if(products){var visibleSkus=c.getVisibleSkusInCarousel(carouselObject);for(var i in products){var prod=products[i];if(visibleSkus.indexOf(prod.sku)!=-1){var productToAdd={sku:prod.sku,pos:parseInt(prod.productposition,10),price:c.parsePrice(prod.prx.val),priceS:c.parsePrice(prod.prx.stk),codePath:prod.categorycodepath,sellerId:parseInt(prod.sellerid,10),offerId:parseInt(prod.offerid,10),rate:prod.rate?parseFloat(prod.rate.val):0,rVoter:prod.rate?parseInt(prod.rate.nbr,10):0,stk:prod.stock};if(isNaN(productToAdd.sellerId))productToAdd.sellerId=-1;if(isNaN(productToAdd.offerId))productToAdd.offerId=-1;if(isNaN(productToAdd.rate))productToAdd.rate=0;if(isNaN(productToAdd.rVoter))productToAdd.rVoter=0;productsAdded=_addProduct(carou,productToAdd)||productsAdded}else{break}}}else{var visibleProducts=c.getVisibleProductsInCarousel(carouselObject);for(var p in visibleProducts){var productToAdd=visibleProducts[p];productsAdded=_addProduct(carou,productToAdd)||productsAdded}}if(productsAdded){c.sendTracking()}}}}})(CarouselsAnimCo);CarouselsAnimCo.onWindowScrollResize=(function(c){c.scrollResizeTimeout=500;c.scrollResizeHandle=0;c.scrollResizeFunction=function(){$("div.jsPertSwCarousel").each(function(){var carou=this;if(c.addCarousel(carou.id)){c.addProducts(carou.id)}})};return function(){if(c.scrollResizeHandle){clearTimeout(c.scrollResizeHandle)}c.scrollResizeHandle=setTimeout(c.scrollResizeFunction,c.scrollResizeTimeout)}})(CarouselsAnimCo);CarouselsAnimCo.onCarouselSwiped=(function(c){return function(event){if(event&&event.carouselId){c.addProducts(event.carouselId)}}})(CarouselsAnimCo);CarouselsAnimCo.sendTracking=(function(c){return function(){if(c.isTrackingAvailable()){var originType=$.track.tracking.params.type;$.extend($.track.tracking.params,{type:"CAROUSEL",idCar:null,bName:null,key:null,carProducts:null});if(!$.track.tracking.params.originType){$.track.tracking.params.originType=originType}for(var i in c.carousels){var carou=c.carousels[i];var prods=[];for(var p in carou.products){var prod=carou.products[p];if(!prod.sent){prods.push({sku:prod.sku,pos:prod.pos,price:prod.price,priceS:prod.priceS,codePath:prod.codePath,sellerId:prod.sellerId,offerId:prod.offerId,rate:prod.rate,rVoter:prod.rVoter,stk:prod.stk});prod.sent=true}}if(prods.length>0){$.track.tracking.params.idCar=carou.idCar;$.track.tracking.params.bName=carou.bName;$.track.tracking.params.key=carou.key;$.track.tracking.params.carProducts=prods;$.track.tracking.send(true)}}}}})(CarouselsAnimCo);CarouselsAnimCo.waitDomAndParseResult=(function(c){return function(context,result){var carou=$("#"+result.id);if(carou.length>0){c.parseResult(context,result)}else{c.results[result.id]={context:context,result:result}}}})(CarouselsAnimCo);CarouselsAnimCo.waitJsonAndParseResult=(function(c){return function(id){var resultObj=c.results[id];if(resultObj){c.parseResult(resultObj.context,resultObj.result);delete c.results[id]}}})(CarouselsAnimCo);CarouselsAnimCo.parseResult=(function(c){return function(context,result){if(context&&context.algoFormData&&result){var $carou=$("#"+result.id),$form=$("form[name='algoForm']",$carou),template=$("#templateCarouli").html(),templateSEO=$("#templateSeoCarrou").html();for(var propName in context.algoFormData){var propValue=context.algoFormData[propName];$("input[name='AlgoFormData["+result.id+"]."+propName+"']",$form).val(propValue)}if(result.preloadedSkuList){$("input[name='AlgoFormData["+result.id+"].PreloadedSkuList']",$form).val(result.preloadedSkuList);context.algoFormData.PreloadedSkuList=result.preloadedSkuList}if(result.hash){$("input[name='AlgoFormData["+result.id+"].Hash']",$form).val(result.hash);context.algoFormData.Hash=result.hash}if(result.viewedKey){$("input[name='AlgoFormData["+result.id+"].ViewedKey']",$form).val(result.viewedKey)}if(result.products&&result.products.length&&template){var $ulContainer=$(".jsUl",$carou).parent();$ulContainer.data("url",result.callUrl);$ulContainer.data("limit",result.totalProductCount);var position=parseInt($("li.jsPdtItem:not('.liEmpty'):last",$carou).data("pos"));if(isNaN(position)){position=0}for(i=0;i<result.products.length;i++){result.products[i].productposition=position+i+1}$("li",$carou).first().before(Mustache.render(template,result));if(result.viewedKey.indexOf("SimilarProducts")!=-1&&templateSEO){$SeoCarrou=$("#ajaxSeoCarrou");var res=$(Mustache.render(templateSEO,result));$SeoCarrou.html(res);$SeoCarrou.show()}$ulContainer.carouselSwipe({data:context.algoFormData});if(c.addCarousel(result.id)){c.addProducts(result.id,result.products)}}else{$carou.hide()}$(window).scroll(c.onWindowScrollResize);$(window).resize(c.onWindowScrollResize);$(document).on("carouselSwiped",c.onCarouselSwiped)}}})(CarouselsAnimCo);$.init("pertinence",function(opt){var settings=$.extend({urlCarous:'',algoFormData:{}},opt);if(settings.algoFormData){var type=document.getElementById('hdnPageType');if(type&&type.value){settings.algoFormData.PageType=type.value}$.ajax({url:settings.urlCarous,type:'POST',data:settings.algoFormData,dataType:'json',cache:'false',success:function(res){CarouselsAnimCo.waitDomAndParseResult(this,res)},context:{algoFormData:settings.algoFormData},error:function(){$("#ajaxSeoCarrou").show()}})}})})(window,$fwk);
/* Js/WL/rwd/master/nav.js */
(function(win,$){var _doc=win.document,_stg=$.storage,_24H=8.64e7,_1MN=6e4;$.nav=$.extend($.nav,{basket:{refreshArticlesCount:function(articlesCount){var cpt=(typeof articlesCount!="undefined"?articlesCount:this.getArticlesCount())||0,$basketSummary=$("#hBasketShortcut .jsContent").add($("#hBskt")),$itemCart=$("#itemCart"),$itemCartText=$("#itemCartText"),$itemCartTextSpan=$("#itemCartText span:first-of-type"),$itemCartTextPluralSpan=$("#itemCartText span:last-of-type"),$cartText="";if(cpt){$itemCartTextSpan.text(cpt);cpt>1?$itemCartTextPluralSpan.show():$itemCartTextPluralSpan.hide();$itemCart.text(cpt).show();$itemCartText.show()}else{$itemCart.hide();$itemCartTextSpan.text(cpt);$itemCartTextPluralSpan.hide()}$basketSummary.removeData("full");if($("#itemCartMobile").length){cpt?$("#itemCartMobile").text(cpt).show():$itemCart.hide()}return cpt},getArticlesCount:function(){return+$.cookies.get("articles_count")}}});$.updateArticleCount=function(count){var cpt=count||0,$itemCart=$("#itemCart");cpt?$itemCart.text(cpt).show():$itemCart.hide()};$.fn.updateUnreadMailCount=function(){var cpt=$.custo.getUnreadMail()||0;+cpt?$(this).text(cpt).show():$(this).hide()};$.fn.addFixedPosition=function(cssClass){var cssClass=cssClass||"hFixed",$t=$(this),hHeight=$t.height(),ua=navigator.userAgent,uaIpad=/iPad.*OS (\d)_/i.exec(ua),isCriOS=/CriOS/i.test(ua),isFixed=false;if(!uaIpad||+uaIpad[1]>7&&!isCriOS){$(win).bind("scroll",function(){var scroll=typeof win.scrollY!=="undefined"?win.scrollY:_doc.documentElement.scrollTop;if(scroll>hHeight){if(!isFixed){$t.addClass(cssClass);isFixed=true}}else{if(isFixed){$t.removeClass(cssClass);isFixed=false}}})}};$.searchQueryCleanup=function(query,goToSearch){var searchQuery=query||"";searchQuery=encodeURI(searchQuery.replace(/[+&<>^|:\?\.\/\*%#\"\\]/g,' ').replace(/[\s+]/g,' ').replace(/^(\s)+|(\s)+$/g,'')).toLowerCase();if(goToSearch){searchQuery=searchQuery.replace(/%20/g).replace(/\s+/g,'+')}return searchQuery};$.getFixedHeaderHeight=function(withFacets){var $facets=$('#mvFilter'),$hFull=$('#hFull'),height=0;if(!$hFull||win.matchMedia("(max-width: 1023px)").matches){return 0}height=$hFull.outerHeight(true);if(withFacets&&$facets){height+=$facets.outerHeight(true)}return height};(function(){var settings={isAjaxBlock:false,urlBlocksAjax:'/getBlocksJson',elementsForAjaxBlocks:null},wasCalled=false;$.init('ajaxBlocks',function(opt){settings=$.extend(settings,opt);var getUrlForAjaxBlocks=function(){var contentType=$.contextPage.getContentTypeId();var productId=$.contextPage.getProductId();var siteMapNodeId=$.contextPage.getSiteMapNodeId();var url=settings.urlBlocksAjax+'/'+contentType+'/'+siteMapNodeId+'/'+productId;return url};if(settings.isAjaxBlock&&!wasCalled){wasCalled=true;$.initAjaxBlocks(getUrlForAjaxBlocks,settings.elementsForAjaxBlocks)()}})})();$.searchHistory={cookieIds:["820.1","821.1"],headDivId:"#hFull",storageKey:"Keywords",maxReturnedHistoryEntries:7,maxHistoryEntriesInDropdown:8,maxHistoryEntriesInStorage:100,appendKeyword:function(keyword){var keywords=this.getKeywordsFromLocalstorage();keywords.push(keyword);this.saveKeywords(keywords)},areEqual:function(source,entryToFind){if(source!=null&&entryToFind!=null){return source.toLowerCase()==entryToFind.toLowerCase()}return false},bindDeleteKeywordOnClick:function(){$keywordRows=$(".jsSrcDeleteKeyword",this.headDivId);$keywordRows.click(function(){var keyword=this.getAttribute("data-text");keyword&&$.searchHistory.deleteKeyword(keyword)})},checkForSearchHistoryActivation:function(){if(this.isFeatureActive()){$headSelector=$(this.headDivId);if($headSelector&&$headSelector.length>0){$headSelector.addClass("testHistorySearch")}}},clearHtml:function(){$resDiv=$(".hSrcComp, .jsComp","#hFull");$resDiv&&$resDiv.html("")},clearKeywords:function(){this.saveKeywords([]);this.clearHtml()},deleteKeyword:function(keyword){var keywords=this.getKeywordsFromLocalstorage();if(keywords.length==0||!$||!$.isArray(keywords)){return}var kwIndex=keywords&&keywords.indexOf(keyword);if(kwIndex>-1){keywords.splice(kwIndex,1);this.saveKeywords(keywords);this.clearHtml()}},filterIdenticalEntries:function(input,keywords){entriesIndex=[];if($&&$.isArray(keywords)){for(var i=0;i<keywords.length;i++){if(this.areEqual(input,keywords[i])||this.areEqual(input,$.searchQueryCleanup(keywords[i]))){entriesIndex.push(i)}}}if(entriesIndex.length>1){for(var i=entriesIndex.length-2;i>-1;i--){keywords.splice(entriesIndex[i],1)}}return keywords},findEntry:function(source,entryToFind){if(source!=null&&entryToFind!=null){return source.toLowerCase().indexOf(entryToFind.toLowerCase())}return-1},isFeatureActive:function(){var canCookieBeChecked=$&&$.cookies&&$.cookies.isSiteVersionActive;if(!canCookieBeChecked){return false}var isActive=false;for(var i=0;i<this.cookieIds.length;i++){isActive=isActive||$.cookies.isSiteVersionActive(this.cookieIds[i])}return isActive},getKeywordsFromLocalstorage:function(){var keywords=null;keywords=window&&window.localStorage&&window.localStorage.getItem(this.storageKey)&&JSON&&JSON.parse(decodeURI(window.localStorage.getItem(this.storageKey)));if($&&$.isArray(keywords)){return keywords}return[]},loadRelevantKeywords:function(inputText){var history=this.getKeywordsFromLocalstorage();if(history.length==0){return[]}history.reverse();if(!inputText||(inputText&&inputText.length==1)){return(history&&$&&$.isArray(history)&&history.slice(0,this.maxReturnedHistoryEntries))||[]}if(inputText&&inputText.length>1){var firstOrderMatchingEntries=[];var secondOrderMatchingEntries=[];var spacePrefixedInput=" "+inputText;var maxResponseEntries=2;for(var i=0;i<history.length;i++){if(history[i]&&this.findEntry(history[i],inputText)==0){firstOrderMatchingEntries.push(history[i])}else if(history[i]&&this.findEntry(history[i],spacePrefixedInput)>-1){secondOrderMatchingEntries.push(history[i])}}var matches=firstOrderMatchingEntries.slice(0,maxResponseEntries)||[];if(matches.length<maxResponseEntries){matches=matches.concat(secondOrderMatchingEntries.slice(0,maxResponseEntries))}return matches.slice(0,maxResponseEntries)}return[]},loadSuggestedKeywordsHtml:function(inputText,searchSuggestionsHtml){var keywords=this.loadRelevantKeywords(inputText);var emptySearchSuggestions=!searchSuggestionsHtml;var html="";if(keywords&&keywords.length>0){for(var i=0;i<keywords.length;i++){var keyword=keywords[i];var txtPosition=keyword.indexOf(inputText);if(txtPosition>-1){keyword=keyword.substr(0,txtPosition)+"<strong>"+keyword.substr(txtPosition,inputText.length)+"</strong>"+keyword.substr(txtPosition+inputText.length)}html+="<div class=\"hSrcDeleteKeyword jsSrcDeleteKeyword\" data-text=\""+keywords[i]+"\"></div>"+"<li data-dpt=\"\" data-name=\""+keywords[i]+"\" data-qs=\"\" data-histo=\"\">"+keyword+" <span class=\"hSrcHistory\">dans votre historique de recherche</span></li>"}}if(emptySearchSuggestions){var supprimerHistoriqueHtml="";if(html.length>0){supprimerHistoriqueHtml="<li><a onclick=\"$.searchHistory && $.searchHistory.clearKeywords();\" class=\"hSrcDeleteHistory\">Supprimer l'historique de navigation</a></li>"}return html&&"<ul>"+html+supprimerHistoriqueHtml+"</ul>"}else{var firstUlPosition=searchSuggestionsHtml.indexOf("<ul>");if(firstUlPosition!=0){return searchSuggestionsHtml}var position=firstUlPosition+"<ul>".length;var modifiedSearchResultHtml="";if(firstUlPosition>-1&&searchSuggestionsHtml.length>position){modifiedSearchResultHtml=searchSuggestionsHtml.substr(0,firstUlPosition+position)+html+searchSuggestionsHtml.substr(position)}if(modifiedSearchResultHtml.length>0){var endListPosition=modifiedSearchResultHtml.indexOf("</ul>");if(endListPosition>-1){var liIndexes=[];for(var i=0;i<endListPosition;i++){if(modifiedSearchResultHtml[i]==="<"&&modifiedSearchResultHtml[i+1]==="l"&&modifiedSearchResultHtml[i+2]==="i"&&(modifiedSearchResultHtml[i+3]===" "||modifiedSearchResultHtml[i+3]===">")){liIndexes.push(i)}}var numberOfLi=liIndexes.length;if(numberOfLi>this.maxHistoryEntriesInDropdown){var firstLiPositionToRemove=liIndexes[this.maxHistoryEntriesInDropdown];var newHtml=modifiedSearchResultHtml.substr(0,firstLiPositionToRemove)+modifiedSearchResultHtml.substr(endListPosition);return newHtml}}}return searchSuggestionsHtml}},saveKeywords:function(keywords){if(JSON&&$&&$.isArray(keywords)){for(var i=0;i<keywords.length;i++){keywords[i]=$.searchQueryCleanup(keywords[i])}if(keywords&&keywords.length>this.maxHistoryEntriesInStorage){keywords=keywords.slice(-1*this.maxHistoryEntriesInStorage)}if(keywords.length>0){keywords=this.filterIdenticalEntries(keywords[keywords.length-1],keywords)}var kwString=JSON.stringify(keywords)||[];window&&kwString&&window.localStorage&&window.localStorage.setItem(this.storageKey,kwString)}}};$.init("searchBar",function(opt){var settings=$.extend({searchBar:this.searchBar||$(".jsSearch"),frontUrl:this.frontUrl||"/",suggUrl:this.suggUrl,launchAutomaticSearch:this.launchAutomaticSearch||true,usePost:this.usePost||false},opt);var $srcBox=settings.searchBar,$resDiv=$(".hSrcComp, .jsComp",$srcBox),$input=$("input:not(.jsSearchQs)",$srcBox),$hidden=$("input.jsSearchQs",$srcBox),$cancel=$(".jsCancel",$srcBox),bgColor="#EBEEF2",url=settings.frontUrl,curPos=-1;var goToSearch=function(searchHistoryTag){var qs=$input.attr("data-qs")?"?"+encodeURIComponent($input.attr("data-qs")):"",hash="",q=encodeURI($input.val().replace(/[+&<>^|:\?\.\/\*%#\"\\]/g,' ').replace(/[\s+]/g,' ').replace(/^(\s)+|(\s)+$/g,'').replace(/\s+/g,'+')).toLowerCase();if(q&&$input.val()!=$input.attr("placeHolder")){if($input.parents(".hFixed").length){hash="#mhder"}if(curPos!=-1){var tag=(searchHistoryTag=="atcplhisto2"||searchHistoryTag=="atcplhisto1")?"atcplhist":"atcplmoc";hash+=hash?"&"+tag:"#"+tag}_doc.location.href=url+"search/"+($input.attr("data-dpt")||"10")+"/"+q+".html"+qs+hash;if(!isTestCaseA&&$input.val()!=""){$.searchHistory&&$.searchHistory.appendKeyword($input.val());$srcBox.removeClass("searchDeployed")}}return false};var getSearchHistoryTag=function(len){var tag="atcplhisto1";if(len>1){tag="atcplhisto2"}return tag};var updateInputData=function($suggestion){var dName=$suggestion.attr("data-name")||"",dDpt=$suggestion.attr("data-dpt")||"",dQs=$suggestion.attr("data-qs")||"";if(settings.usePost){$input.val(dName).attr("data-dpt",dDpt);$hidden.val(dQs)}else{$input.val(dName).attr("data-dpt",dDpt).attr("data-qs",dQs)}};if(settings.launchAutomaticSearch){$("button",$srcBox).click(goToSearch)}var isTestCaseA=!$.searchHistory||($.searchHistory&&!$.searchHistory.isFeatureActive());$input.keyup(function(ev){$cancel.show();if(!this.value&&isTestCaseA){$resDiv.hide();$cancel.hide()}else if((ev.which<37||ev.which>40)&&ev.which!=13){curPos=-1;$.get(settings.suggUrl+this.value,function(res){if(isTestCaseA){if($input.val()&&res.length){$resDiv.html(res);$resDiv.slideDown(200)}}else if(($input.val()&&res.length)||($input.val()&&res.length==0)){var html=$.searchHistory&&$.searchHistory.loadSuggestedKeywordsHtml($input.val(),res);$resDiv.html(html);if($resDiv.html().length>0){$.searchHistory.bindDeleteKeywordOnClick();$resDiv.slideDown(200);$srcBox.addClass("searchDeployed")}}else{$resDiv.html("").hide();$srcBox.removeClass("searchDeployed")}})}}).keydown(function(ev){$results=$("li",$resDiv);$results.css("background-color","");if(settings.launchAutomaticSearch&&ev.which==13){var searchHistoryTag="";if(!isTestCaseA&&$results&&$results[curPos]&&$results[curPos].getAttribute("data-histo")!=null&&$results[curPos].innerHTML){var searchLenth=0;if($results[curPos].innerHTML.indexOf("<strong>")>=0&&$results[curPos].innerHTML.indexOf("</strong>")>0&&$results[curPos].innerHTML.indexOf("</strong>")>$results[curPos].innerHTML.indexOf("<strong>")){searchLenth=$results[curPos].innerHTML.indexOf("</strong>")-"<strong>".length}searchHistoryTag=getSearchHistoryTag(searchLenth)}return goToSearch(searchHistoryTag)}else if(ev.which==40||ev.which==38){if(ev.which==38){curPos>0?--curPos:curPos=$results.length-1}else{curPos<$results.length-1?++curPos:curPos=0}var $li=$results.eq(curPos);updateInputData($li);$resDiv.data("currentPos",curPos);$li.css("background-color",bgColor)}}).blur(function(){$srcBox.removeClass("focus");setTimeout(function(){$resDiv.hide();$srcBox.removeClass("searchDeployed")},200)}).focus(function(){$srcBox.addClass("focus")}).bind('search',function(ev){$resDiv.hide();$srcBox.removeClass("searchDeployed")});$cancel.click(function(){$input.val("")&&$(this).hide()&&$srcBox&&$srcBox.removeClass("searchDeployed")});$srcBox.click(function(){if(!isTestCaseA){if($resDiv&&$resDiv.html().trim()==""){$.searchHistory&&$resDiv.html($.searchHistory.loadSuggestedKeywordsHtml())&&$.searchHistory.bindDeleteKeywordOnClick()}if($resDiv.html().length>0){$resDiv.slideToggle(200);$srcBox.toggleClass("searchDeployed")}}});$resDiv.click(function(ev){var $target=$(ev.target);!($target.is("[data-name]"))&&($target=$($target[0].parentElement));if($target[0].nodeName=="LI"){curPos=$target;$resDiv.hide();updateInputData($target);var searchHistoryTag="";if(settings.launchAutomaticSearch){if(!isTestCaseA&&$target[0].getAttribute("data-histo")!=null&&$target[0].innerHTML){var searchLength=0;if($target[0].innerHTML.indexOf("<strong>")>=0&&$target[0].innerHTML.indexOf("</strong>")>0&&$target[0].innerHTML.indexOf("</strong>")>$target[0].innerHTML.indexOf("<strong>")){searchLength=$target[0].innerHTML.indexOf("</strong>")-"<strong>".length}searchHistoryTag=getSearchHistoryTag(searchLength)}}return goToSearch(searchHistoryTag)}})});$.init("nHeader",function(opt){var _XHRContext=$.extend({isXHR:function(){return!!(this.ovUrl)},ovUrl:""},opt);var anDuration=200,_overClose=200,_overFire=500,x=y=-1,$header=$("#header"),$h=$("#hFull"),$headerServices=$("#headerServices"),$tetiere=$(".jsTetiere",$header);$mm=$("#olMain"),$btn=$(".hMenu",$h),$btnDepartments=$(".jsShowDepartments",$headerServices),$mag=$(".olMag",$mm),$layerMagNoHover=$(">a:not(.jsNoOver)",$mag).parent(),$fireOverlayers=$("#hLayers"),$overlayers=$(".jsOverlays",$fireOverlayers),_$overs=$(".hSrcComp",$h).add($(".jsHOvTarget",$h)).add($overlayers),_$oversMm=$mm.filter(":hidden"),$subMenus=$(".jsSubMenu",$mm),hTimer=null,$dsblContent=$("#disabledContent"),stopTimer=function(fct,tps){hTimer&&win.clearInterval(hTimer);hTimer=typeof fct=="function"?win.setTimeout(fct,tps):null},_menu={isLoaded:false,loadOverlay:function(){if(!this.isLoaded){var $sm=$("div.subMenu",$mm);(function(initOverlay){if(_XHRContext.isXHR()){$.get(_XHRContext.ovUrl,function(res){$("div.subMenu",res).each(function(i){$sm.eq(i).html(this.innerHTML)});initOverlay();initSubMenusFirstImage()})}else{var $zMore=$(".zMore:first",$mag);$(".pub",$mag).each(function(){var $t=$(this);if(!$("div.zMore",$t).length){$t.append($zMore.clone())}});$(".subDeleg, .subRegie",$sm).each(function(){var $t=$(this);url=$("span",$t).attr("data-u");if(url){var $nf=$.fn.nf(url);if($nf){var a=document.createElement("A");a.href=$nf.url;a.rel="nofollow";a.target=$nf.target;a.innerHTML=$("span",$t).attr("data-n");$("span",$t).replaceWith(a)}}});initOverlay()}})(function(){$(".zBest",$sm).click(function(){_doc.location.href=$(">a",$(this).closest(".olMag")).attr('href')});$("[data-nf]",$mm).nf();$("[data-src]",$mm).lazyload(true)})}this.isLoaded=true},open:function(){_$overs.hide()&&_$oversMm.hide();$btn.addClass("hMenuAct");$btnDepartments.addClass("active");$(".hZn1",$h).addClass("hZn1Act");$mm.removeClass("olMainNone").slideDown(anDuration,function(){$mm[0].style.overflow=""})},close:function(){$btn.removeClass("hMenuAct");$(".hZn1",$h).removeClass("hZn1Act");$mag.removeClass("olMagAct");$mm.addClass("olMainNone").removeAttr("style");$dsblContent.hide()}};if(!$.storage.get("cnilMsg")){$("#blocInfoTop").toggleClass("show").find(".bcClose").click(function(){$("#blocInfoTop").toggleClass("show")});$.storage.set("cnilMsg","1",7e9)}(function(){isEnabled=false;$fixedContent=$h.parent();$(win).scroll(function(ev){if($(this).scrollTop()){if(!isEnabled){$fixedContent.addClass("fixed");isEnabled=true}}else{if(isEnabled){$fixedContent.removeClass("fixed");isEnabled=false}}})})();if($.custo){$hello=$(".jsSir > span",$h);$ident=$(".hIdent",$h);if($.nav.session.isAuthenticate()){$hello.parent().show();$ident.hide()}$.custo.addListenerName(function(){var _name=$.custo.getFirstName();if(_name){$hello.text(_name).parent().show();$ident.hide()}})}var openOverlay=function($link,opt){var _opt=$.extend({overlayer:$(".jsHOvTarget:first",$link),clickable:false},opt),$overlayer=_opt.overlayer;if(_opt.clickable&&$.isTouch()){$link.click(function(){if($overlayer.css("display")=="none"){_menu.close();_$overs.hide();stopTimer(function(){$overlayer.slideDown(anDuration)})}else{stopTimer(function(){$overlayer.slideUp(anDuration)})}})}else{$link.hover(function(ev){if($overlayer.css("display")=="none"){_menu.close();_$overs.hide();stopTimer(function(){$overlayer.slideDown(anDuration)})}},function(){stopTimer(function(){$overlayer.hide()})})}};!$.isTouch()&&openOverlay($(".jsHOvSniper",$h));openOverlay($(".jsHOvSniper",$('#topHead')),{clickable:true});$.nav.basket.refreshArticlesCount();$("#itemMail").updateUnreadMailCount();(function(){var countryGeo=($.custo&&$.custo.getCountry&&$.custo.getCountry())||"",$topHead=$("#topHead"),$phForeign=$(".phForeign",$topHead),countries={};$("li",$phForeign).each(function(){var $this=$(this);countries[$this.attr("data-code")]={lib:$this.text(),url:($("a",$this).attr("href")||"").replace("#","?")};$this.is("[data-master]")&&(countries.main=$this.attr("data-code"))});$("a",$phForeign).click(function(){this.href=this.href.replace("#","?")});if(countryGeo&&countries.main&&!RegExp(countries.main).test(countryGeo)){var countryChoice=$.cookies.get("SitePersoCountrySelectedCookie").split("__")[1];if(!countryChoice&&countries[countryGeo]){var popin=$phForeign.attr("data-msg").split('|'),message=(popin[0]||"").format(countries[countryGeo].lib);$.popin.confirm(message,{btnOkTxt:popin[1],btnCancelTxt:popin[2],callback:function(resp){win.location.href=resp?countries[countryGeo].url:countries[countries.main].url}})}}})();$mm.on("touchstart",function(ev){ev.stopPropagation()});$(_doc.body).on("touchstart",function(ev){_menu.close()});$dsblContent.on("touchstart",function(ev){_menu.close();_$overs.add($(this)).hide();$("body").css("overflow","");return false});$btn.on("touchstart",function(){if($(this).hasClass("hMenuAct")){_menu.close();$dsblContent.hide();$("body").css("overflow","")}else{_menu.open();$dsblContent.show();$("body").css("overflow","hidden")}return false}).hover(function(){!$btn.hasClass("hMenuAct");stopTimer(function(){!$btn.hasClass("hMenuAct")&&_menu.open()},_overFire)},function(){stopTimer(function(){_menu.close();$dsblContent.hide();x=-1},_overClose)});$("img",$headerServices).lazyload(true);var currentUrl=window.location.href;var $headerServicesTabs=$("> div",$headerServices);var anyTabActive=false;$.each($headerServicesTabs,function(index,elem){var tabUrl=$("a",$(elem)).attr("href")||"";if(currentUrl.toLowerCase()==tabUrl.toLowerCase()){$headerServicesTabs.removeClass("active");$(elem).addClass("active");anyTabActive=true}});if(!anyTabActive){$btnDepartments.addClass("active")}else{$mm.hide();$tetiere.addClass("vertical");$btnDepartments.addClass("otherTabSelected").addClass("jsOtherTabSelected");$headerServices.addClass("otherTab")}$headerServices.on("mouseenter",".jsShowDepartments",function(){stopTimer(function(){if(!$btnDepartments.hasClass("active")){$btnDepartments.addClass("active");$mm.show();_menu.open()}},300)}).on("mouseleave",".jsShowDepartments",function(){stopTimer(function(){if($btnDepartments.hasClass("jsOtherTabSelected")||win.matchMedia("(max-width: 1023px)").matches){$btnDepartments.removeClass("active");_menu.close();$mm.hide()}},300)});$headerServices.on("click",".jsShowDepartments",function(){if($btnDepartments.hasClass("jsOtherTabSelected")&&!win.matchMedia("(max-width: 1023px)").matches){if($btnDepartments[0].hasAttribute("data-url")){document.location.href=$btnDepartments.data("url")}}else{if(!$btnDepartments.hasClass("active")){$btnDepartments.addClass("active");$mm.show();_menu.open()}else if(win.matchMedia("(max-width: 1023px)").matches){$btnDepartments.removeClass("active");_menu.close();$mm.hide()}}});function initHeaderTabsWidth(){$.each($headerServicesTabs,function(i,elem){$(elem).attr("init-width",$("> div",elem).width()+1);$(elem).attr("init-left",$(elem).offset().left)})}function initHeaderBreakpoint(){if($headerServicesTabs.length>2){var allServicesTabWidth=$(".jsAllServicesTab",$headerServicesTabs).width();for(var i=$headerServicesTabs.length-1;i>0;i--){var currentTabLeft;var $currentTab=$($headerServicesTabs[i]);currentTabWidth=parseInt($currentTab.attr("init-width"));if($currentTab.is(":visible")){currentTabLeft=$currentTab.offset().left;$currentTab.attr("init-left",currentTabLeft)}else{currentTabLeft=parseInt($currentTab.attr("init-left"))}var windowCurrentWidth=$(window).width();if(windowCurrentWidth-allServicesTabWidth<currentTabLeft+currentTabWidth){$currentTab.hide()}else{$currentTab.show()}}}if(win.matchMedia("(max-width: 1023px)").matches){$btnDepartments.removeClass("active")}else{if($btnDepartments.hasClass("jsOtherTabSelected")){$btnDepartments.removeClass("active")}else{$btnDepartments.addClass("active");$mm.show()}}}initHeaderTabsWidth();initHeaderBreakpoint();$(window).resize(function(){initHeaderBreakpoint()});$(">a:not(.jsNoOver)",$mag).on("touchstart",function(ev){var $olM=$(this).closest(".olMag"),isActive=$olM.hasClass("olMagAct");_menu.loadOverlay();_$overs.hide();$mag.removeClass("olMagAct");if(!isActive){$olM.addClass("olMagAct");$dsblContent.fadeIn(100);var $subMenu=$(this).next(".jsSubMenu");$(".jsSubMenuImg",$subMenu).attr("src",$(".subMenuAct",$subMenu).data("asrc"));$(".jsSubMenuImgLink",$subMenu).attr("href",$(".subMenuAct",$subMenu).data("url"))}else{$dsblContent.hide()}return false});$mag.on("mouseenter",function(ev){$("a",this).removeAttr("title");var $t=$(this),time;var $subMenu=$(".jsSubMenu",$t);if($btn[0].clientWidth){time=x!=-1&&ev.pageX-x>7?_overFire:0}else{if(win.matchMedia("(max-width: 1023px)").matches||$btnDepartments.hasClass("jsOtherTabSelected")){time=0}else{time=$(".olMagAct",$mm).length==0?_overFire:0}}_menu.loadOverlay();stopTimer(function(){_$overs.hide();$mag.removeClass("olMagAct");$t.addClass("olMagAct");$(".jsSubMenuImg",$subMenu).attr("src",$(".subMenuAct",$subMenu).data("asrc"));$(".jsSubMenuImgLink",$subMenu).attr("href",$(".subMenuAct",$subMenu).data("url"));if($t.find(".jsNoOver").length==0){$dsblContent.fadeIn(100)}else{$dsblContent.hide()}},time);x=ev.pageX;y=ev.pageY}).bind("mouseleave",function(){stopTimer(function(){if($btnDepartments.hasClass("jsOtherTabSelected")||win.matchMedia("(max-width: 1023px)").matches){$btnDepartments.removeClass("active")}_menu.close();_$overs.hide();$dsblContent.hide();x=y=-1},_overClose)});$subMenus.on("mouseenter",".jsSubMenuRayons li",function(ev){var $rayon=$(this);var changeSubMenuList=function(){var $subMenu=$rayon.parents(".jsSubMenu");$subMenu.find(".subMenuAct").removeClass("subMenuAct");$rayon.addClass("subMenuAct");$(".jsSubMenuImg",$subMenu).attr("src",$rayon.data("asrc"));$(".jsSubMenuImgLink",$subMenu).attr("href",$rayon.data("url"));var index=$rayon.index();$subMenu.find(".subMenuListAct").removeClass("subMenuListAct");$targetList=$(".subMenuList>ol:eq("+index+")",$subMenu);$targetList.addClass("subMenuListAct")};if($.isTouch()){changeSubMenuList()}else{var time=x!=-1&&ev.pageX-x>7?500:0;stopTimer(function(){changeSubMenuList()},time)}x=ev.pageX;y=ev.pageY});if(!$.isTouch()){$subMenus.on("mouseenter",".jsRayonContent",function(ev){stopTimer()})}function initSubMenusFirstImage(){$.each($(".jsSubMenuImg",$subMenus),function(index,elem){if(!$(elem).attr("src")){$(elem).attr("src",$(elem).data("asrc"))}})}if(window.addEventListener){window.addEventListener("load",initSubMenusFirstImage,false)}else if(window.attachEvent){window.attachEvent("onload",initSubMenusFirstImage)}$.init("searchBar",{suggUrl:opt.suggUrl,frontUrl:opt.frontUrl,searchBar:$(".hSearch",$h)});$(".hSearch input",$h).focus(function(){_$overs.hide();_menu.close();$dsblContent.hide();$("body").css("overflow","")});(function(){if($overlayers.length>0){var $layers=$(">div:not(.jsOverlays)",$fireOverlayers);var showOverlayer=function(){_$overs.filter(function(){return this!=$overlayers[0]}).hide();_menu.close();$overlayers.show();$dsblContent.show()};var hideOverlayer=function(){_menu.close();$overlayers.hide();$dsblContent.hide()};var getTargetOverlayer=function($layer){return $(">div:eq("+$layer.index()+")",$overlayers)};var showTargetOverlayer=function($target){$(">div",$overlayers).filter(function(){return this!=$target[0]}).hide();$target.show()};var updateTargetOverlayerData=function($layer,$target){var refreshed=$layer.data("full"),url=$layer.attr("data-url");if(!refreshed&&!!url){var mergedReviews=reviewsManager.getReviewsFromLS(true);$.ajax({type:"GET",url:url,dataType:"json",data:{avis:mergedReviews},cache:false,success:function(res){if(res){if(res.data){var template=$("script",$target).html();if(template){var $mustachResult=$(Mustache.render(template,res.data));$(".jsCountdown",$mustachResult).countDown({callbackEnd:function(){$(this).parent().remove()}});$(">div:first",$target).html($mustachResult)}}else if(res.html&&res.html.length){$(">div:first",$target).html(res.html)}$layer.data("full",true)}}})}};if($.isTouch()){$layers.on("touchstart",function(ev){ev.preventDefault();var $target=getTargetOverlayer($(this));if($target.is(":visible")){hideOverlayer()}else{updateTargetOverlayerData($(this),$target);showTargetOverlayer($target);showOverlayer()}})}$layers.on("mouseenter",function(ev){var $target=getTargetOverlayer($(this));updateTargetOverlayerData($(this),$target);showTargetOverlayer($target);stopTimer(function(){showOverlayer()},_overFire)});$fireOverlayers.on("mouseleave",function(ev){stopTimer(function(){hideOverlayer()},_overClose)});$overlayers.one("click",".jsAddCdav",function(){var $currentForm=$(this.form),$t=$(this);$(".jsAddCdav").addClass("btAdded").val($t.data("lbladded")||$t.val());$.ajax({type:"POST",url:$currentForm.attr("action"),data:$currentForm.add($.contextPage.getTechForm()).serialize(),dataType:"json",success:function(resJson){if(resJson){$.nav&&$.nav.basket&&$.nav.basket.refreshArticlesCount(resJson.NbArticle);resJson.Script&&$.getScript({text:resJson.Script})}}})})}})();$.searchHistory&&$.searchHistory.checkForSearchHistoryActivation()});$.init("header",function(opt){var _XHRContext=$.extend({isXHR:function(){return!!(this.ovUrl)},ovUrl:""},opt);var anDuration=200,_overClose=200,_overFire=1000,x=y=-1,$head=$("#header"),$h=$("#hFull"),$hBasketShortcut=$("#hBasketShortcut"),$btn=$(".hMenu",$h),$mm=$("#olMain"),$mag=$(".olMag",$mm),_$overs=$(".hSrcComp",$h).add($(".jsHOvTarget",$h)).add($("#popConnect")).add($("#popConnectNl")).add($("#popAccount")),_$oversMm=$mm.filter(":hidden"),_$ph=$("#phFull"),hTimer=null,stopTimer=function(fct,tps){hTimer&&win.clearInterval(hTimer);hTimer=typeof fct=="function"?win.setTimeout(fct,tps):null},_menu={isLoaded:false,loadOverlay:function(){if(!this.isLoaded){var $sm=$("div.subMenu",$mm);(function(initOverlay){if(_XHRContext.isXHR()){$.get(_XHRContext.ovUrl,function(res){$("div.subMenu",res).each(function(i){$sm.eq(i).html(this.innerHTML)});initOverlay()})}else{var $zMore=$(".zMore:first",$mag);$(".pub",$mag).each(function(){var $t=$(this);if(!$("div.zMore",$t).length){$t.append($zMore.clone())}});$(".subDeleg, .subRegie",$sm).each(function(){var $t=$(this);url=$("span",$t).attr("data-u");if(url){var $nf=$.fn.nf(url);if($nf){var a=document.createElement("A");a.href=$nf.url;a.rel="nofollow";a.target=$nf.target;a.innerHTML=$("span",$t).attr("data-n");$("span",$t).replaceWith(a)}}});initOverlay()}})(function(){$(".zBest",$sm).click(function(){_doc.location.href=$(">a",$(this).closest(".olMag")).attr('href')});$("[data-nf]",$mm).nf();$("[data-src]",$mm).lazyload(true)})}this.isLoaded=true},open:function(){_$overs.hide()&&_$oversMm.hide();$btn.addClass("hMenuAct");$(".hZn1",$h).addClass("hZn1Act");$mm.removeClass("olMainNone").slideDown(anDuration,function(){$mm[0].style.overflow=""})},close:function(){$btn.removeClass("hMenuAct");$(".hZn1",$h).removeClass("hZn1Act");$mag.removeClass("olMagAct");$mm.addClass("olMainNone").removeAttr("style");$(".jsContent",$hBasketShortcut).parent().hide()}};if(!$.storage.get("cnilMsg")){$("#blocInfoTop").toggleClass("show").find(".bcClose").click(function(){$("#blocInfoTop").toggleClass("show")});$.storage.set("cnilMsg","1",7e9)}(function(){var $mainLogo=$("#mainLogo"),$hToolTip=$(".hToolTip",$head),calculateMsg=function(){var msg=($.custo&&$.custo.getCdav&&$.custo.getCdav()===true)?".jsIsCdav":".jsNoCdav";$(msg,$mainLogo).removeClass("dn")};if($hToolTip.length){if($.isTouch()){$mainLogo.click(function(ev){if(ev.clientY>=62&&ev.clientY<=80&&ev.clientX>=130&&ev.clientX<=210){calculateMsg();$hToolTip.fadeToggle("fast");return false}})}else{$mainLogo.bind("mousemove",function(ev){if(ev.clientY>=62&&ev.clientY<=80&&ev.clientX>=130&&ev.clientX<=210){calculateMsg();$hToolTip.show()}else if(ev.clientY>=62){$hToolTip.hide()};});$hToolTip.mouseleave(function(){$hToolTip.hide()})}}})();(function(){var $content=$(".jsContent",$hBasketShortcut),$overlay=$content.parent(),url=opt.recapPanierJsonUrl,template=$("script",$hBasketShortcut).html(),showBasketSummary=function(){var refreshed=$content.data("full"),$basketContent=$(">div:first-child",$content),$basketEmpty=$(".jsEmpty",$content),$basketWaiting=$(".jsWaiting",$content);_menu.close();stopTimer(function(){$overlay.show();if(!$.nav.basket.getArticlesCount()){$basketEmpty.show();$basketWaiting.hide();$basketContent.hide()}else if(!refreshed){$basketWaiting.show();$basketEmpty.hide();$basketContent.hide();$.ajax({type:"GET",url:url,dataType:"json",cache:false,success:function(res){if(res&&res.Cartlines&&res.Cartlines.length){var $mustachResult=$(Mustache.render(template,res));$(".jsCountdown",$mustachResult).countDown({callbackEnd:function(){$(this).parent().remove()}});$mustachResult.extCarousel({orientation:"vertical"});$basketContent.replaceWith($mustachResult);$basketEmpty.hide();$basketWaiting.hide();$content.data("full",true)}else{$basketEmpty.show();$basketWaiting.hide()}}})}},_overFire);return false};if(url){_$overs=_$overs.add($overlay);if($.isTouch()){$(">a",$hBasketShortcut).bind("touchstart",function(ev){if(!$content.is(":visible")){return showBasketSummary()}});$content.bind("touchstart",function(ev){ev.stopPropagation()})}else{$hBasketShortcut.hover(showBasketSummary,function(){stopTimer(function(){$overlay.hide()},1)})}}})();$head.filter(".jsFix").addFixedPosition();$.nav.basket.refreshArticlesCount();$("#itemMail").updateUnreadMailCount();(function(){var countryGeo=($.custo&&$.custo.getCountry&&$.custo.getCountry())||"",$topHead=$("#topHead"),$phForeign=$(".phForeign",$topHead),countries={};$("li",$phForeign).each(function(){var $this=$(this);countries[$this.attr("data-code")]={lib:$this.text(),url:($("a",$this).attr("href")||"").replace("#","?")};$this.is("[data-master]")&&(countries.main=$this.attr("data-code"))});$("a",$phForeign).click(function(){this.href=this.href.replace("#","?")});if(countryGeo&&countries.main&&!RegExp(countries.main).test(countryGeo)){var countryChoice=$.cookies.get("SitePersoCountrySelectedCookie").split("__")[1];$(".phLk",$topHead).add($phForeign).toggle();if(!countryChoice&&countries[countryGeo]){var popin=$phForeign.attr("data-msg").split('|'),message=(popin[0]||"").format(countries[countryGeo].lib);$.popin.confirm(message,{btnOkTxt:popin[1],btnCancelTxt:popin[2],callback:function(resp){win.location.href=resp?countries[countryGeo].url:countries[countries.main].url}})}}})();(function(){var $ppAccount=$("#popAccount"),$ppConnect=null,$hConnect=$("#hConnect"),url=opt.recapCmdUrl,lastCmdHtml=$.storage.get("lastCmd"),newsletterSubscribed=$.custo.isSubscriberNews()?$.custo.isSubscriberNews():$.storage.get("newsletterSubscribed"),icTimer,hovered=false,showPpConnect=function(){timerFct=function(){icTimer=win.setTimeout(function(){$ppConnect.remove()},1e4)};win.setTimeout(function(){if(!hovered){if(!$.nav.session.isAuthenticate()){$ppConnect=$("#popConnect")}else if(!newsletterSubscribed){$ppConnect=$("#popConnectNl");var $email=$("input[type=email]",$ppConnect);$email.val($.custo.getEmail());$("input[type='button']",$ppConnect).one("click",function(){$.getScript((this.getAttribute("data-nlurl")||"")+$email.val());$("div",$ppConnect).toggleClass("dn");$.storage.set("newsletterSubscribed","true");newsletterSubscribed=true})}if($ppConnect){$ppConnect.hover(function(ev){win.clearTimeout(icTimer);ev.stopPropagation()},function(){timerFct()}).fadeTo("fast",1).find(".popClose").one("click",closePpConnect);timerFct()}}},4e3)},closePpConnect=function(){if(icTimer)win.clearTimeout(icTimer);if($ppConnect)$ppConnect.remove()},showPpAccountNewsletter=function(){if(!newsletterSubscribed){var $popAccountNl=$("#popAccountNl");$popAccountNl.removeClass("dn");$("a",$popAccountNl).one("click",function(){$.getScript((this.getAttribute("data-nlurl")||"")+$.custo.getEmail());$("#popAccountMerci, #popAccountNl").toggleClass("dn");$.storage.set("newsletterSubscribed","true");newsletterSubscribed=true;return false})}},showPpAccount=function(){_menu.close();closePpConnect();hovered=true;stopTimer(function(){if($.nav.session.isAuthenticate()){$(".jsDisconnect",$ppAccount).show();$(">span",$ppAccount).hide();if(!lastCmdHtml){$.ajax({type:"GET",url:url,dataType:"html",success:function(res){if(res&&res.length){$(".popAccountPdt",$ppAccount).remove();$(">ul",$ppAccount).prepend(res);$.storage.set("lastCmd",res);lastCmdHtml=res}if(!newsletterSubscribed){showPpAccountNewsletter()}}})}}else{if(!newsletterSubscribed){showPpAccountNewsletter()}}$ppAccount.show()},_overFire);return false};if($.storage.get("lastCmdGuid")!==$.custo.getGuid()||(!$.nav.session.isAuthenticate()&&lastCmdHtml)){$.storage.set("lastCmdGuid",$.custo.getGuid());lastCmdHtml=undefined;$.storage.remove("lastCmd")}if(newsletterSubscribed){$("#popAccountMerci").toggleClass("dn")}if(lastCmdHtml){$("#popAccount > span").addClass("dn");$(">ul",$ppAccount).prepend(lastCmdHtml)}if($.nav.session.isFirstPage()){showPpConnect()}if($.isTouch()){$(">a",$hConnect).bind("touchstart",function(ev){if(!$ppAccount.is(":visible")){return showPpAccount()}});$ppAccount.bind("touchstart",function(ev){ev.stopPropagation()})}else{$hConnect.hover(showPpAccount,function(){$ppAccount.hide()})}})();$mm.bind("touchstart",function(ev){ev.stopPropagation()});$(_doc.body).bind("touchstart",function(ev){_menu.close()});$btn.bind("touchstart",function(){$(this).hasClass("hMenuAct")?_menu.close():_menu.open();return false}).hover(function(){!$btn.hasClass("hMenuAct");stopTimer(function(){!$btn.hasClass("hMenuAct")&&_menu.open()},_overFire)},function(){stopTimer(function(){_menu.close();x=-1},_overClose)});$(">a:not(.jsNoOver)",$mag).bind("touchstart",function(ev){var $olM=$(this).closest(".olMag"),isActive=$olM.hasClass("olMagAct");_menu.loadOverlay();_$overs.hide();$mag.removeClass("olMagAct");!isActive&&$olM.addClass("olMagAct");return false});$mag.bind("mouseenter",function(ev){var $t=$(this),time;if($btn[0].clientWidth){time=x!=-1&&ev.pageX-x>7?400:0}else{time=ev.pageY-y>5?_overFire:0}_menu.loadOverlay();stopTimer(function(){_$overs.hide();$mag.removeClass("olMagAct");$t.addClass("olMagAct")},time);x=ev.pageX;y=ev.pageY}).bind("mouseleave",function(){stopTimer(function(){_menu.close();x=y=-1},_overClose)});$.init("searchBar",{suggUrl:opt.suggUrl,frontUrl:opt.frontUrl,searchBar:$(".hSearch",$h)});$(".hSearch input",$h).focus(function(){_$overs.hide();_menu.close()});var initGeolocAndMessages=function(){var $geo=$(".phLocal",_$ph),town=$.custo.getTown(),urlGeo=$.custo.getUrlGeo(),$hCity=$(".hCity",$geo),$bbg=$(".bloomberg",_$ph),msg=$.custo.getMessages().length?$.custo.getMessages():[];if(town){$hCity.html(town);if(urlGeo){$hCity.parent().attr("href",urlGeo);var $intro=$(".hCityIntro",$geo),libIntro=$intro.attr("data-lbl-urlgeo");libIntro&&$intro.html(libIntro)}$geo.show()}var blRotator=function(){var $li0=$("ul li:first",$bbg);$li0.css("left",$bbg.width()).animate({left:"-="+($bbg.width()+$li0.outerWidth())},15e3,"linear",function(){$("ul li:last",$bbg).after($("ul li:first",$bbg));blRotator()})};if(msg.length){var _str="";for(i=0;i<msg.length;i++){if(msg[i].Url==null||msg[i].Url=="")_str=_str+'<li><span>'+msg[i].Message+'</span></li>';else _str=_str+'<li><a rel="nofollow" style="text-decoration:underline;" target="_self" href="'+msg[i].Url+'"name="&lid=BB:'+msg[i].TrackingId+':'+$('#depId').val()+'">'+msg[i].Message+'</a></li>'}$('li',$bbg).stop();$("ul",$bbg).html(_str).removeClass('dn')}if(msg.length>1){blRotator();$(".next, .prev",$bbg).click(function(){$("ul li",$bbg).stop().hide().css("left",0);/next/.test(this.className)?$("ul li:last",$bbg).after($("ul li:first",$bbg)):$("ul li:first",$bbg).before($("ul li:last",$bbg));$("ul li:first",$bbg).fadeIn("slow")}).removeClass('dn')}};$.navUpdateGeoLoc=function(){$.custo.updateCustoData();initGeolocAndMessages()};if($.custo){$.custo.addListener(initGeolocAndMessages);$.custo.addListenerName(function(){var _name=$.custo.getFirstName();if(_name){if(_name.length>23)_wMsg=_name.substr(0,20)+"...";else _wMsg=_name;$(".phConnect a",_$ph).text(_wMsg)}})}var openOverlay=function($link,opt){var _opt=$.extend({overlayer:$(".jsHOvTarget:first",$link),clickable:false},opt),$overlayer=_opt.overlayer;if(_opt.clickable&&$.isTouch()){$link.click(function(){if($overlayer.css("display")=="none"){_menu.close();_$overs.hide();stopTimer(function(){$overlayer.slideDown(anDuration)})}else{stopTimer(function(){$overlayer.slideUp(anDuration)})}})}else{$link.hover(function(ev){if($overlayer.css("display")=="none"){_menu.close();_$overs.hide();stopTimer(function(){$overlayer.slideDown(anDuration)})}},function(){stopTimer(function(){$overlayer.hide()})})}};!$.isTouch()&&openOverlay($(".jsHOvSniper",$h));openOverlay($(".jsHOvSniper",$('#topHead')),{clickable:true});$(".jsLang",_$ph).each(function(){var $lang=$(this),$overLang=$(".jsLangOverlay",$lang);if($.isTouch()){$lang.click(function(){$overLang.is(":visible")?$overLang.hide():$overLang.slideDown();$lang.toggleClass("act")})}else{$lang.hover(function(){win.setTimeout(function(){$overLang.slideDown(anDuration);$lang.addClass("act")},anDuration)},function(){win.setTimeout(function(){$overLang.hide();$lang.removeClass("act")},anDuration)})}})});$.nav.isStorage&&$.init("popinProspection",function(opt){var _opt=$.extend({delay:_24H,hUrl:undefined,flush:undefined},opt),_initContext=this;var callPopin=function(){$.ajax({url:_opt.hUrl,dataType:"html",context:_initContext,success:function(res){this.html=res;this.showContent()}})};_initContext.showContent=_initContext.showContent||function(){var $ppProspection=$("#ppProspection"),$content=$(this.html||"");if($content.length&&$ppProspection.length){$(".jsClose",$content).one("click",function(){$ppProspection.remove();$.popin&&$.popin.hideOverlay();$("body").css("overflow","")});$content.appendTo($ppProspection.show());$.popin&&$.popin.showOverlay();$(win).scrollTop(0);$("body").css("overflow","hidden")}};if(_opt.hUrl){var stgpp=_stg.get("ppProspection");if($.nav.session.isFirstPage()&&!stgpp){_initContext.xhr=callPopin()}!stgpp&&_stg.set("ppProspection","1",_opt.delay);win.showPpPros=function(){_initContext.xhr&&_initContext.xhr.abort();!$("#ppProspection").length&&$("header").after($('<div id="ppProspection" class="content popinProspection"></div>'));_initContext.xhr=callPopin()}}else if(_opt.flush){this.html?this.showContent():win.setTimeout(function(){_initContext.xhr&&_initContext.xhr.abort()},500)}});(function(){var _isLpNavInit=false,_duration="fast";var _lpRefresh=function(opt){$.lp&&$.lp.refresh&&$.lp.refresh(opt)};var deleteFacetsFn=function($elts){var selector="input[type=checkbox]:checked, input[type=radio]:checked";if($.rim){selector+=", .jsSelectedSellerId"}return function(ev){var facetToUncheck=$(this).context.defaultValue;$elts.find(selector).filter(function(elt){return facetToUncheck==="true"||$(this).val()===facetToUncheck}).removeAttr('checked').removeAttr('value');_lpRefresh()}};var _initMenu=function($menuV){if(!_isLpNavInit){var _$nav=$("#navV").add("#mvFullNav");$(".mvLpSeeMenu, .jsDeployNav",$menuV).click(function(){var $t=$(this),$elWording=$(">span",$t).length?$(">span",$t):$t;_$nav.slideToggle();if($t.hasClass("open")){$elWording.html($elWording.attr("data-open"));$t.removeClass("open")}else{var $li=$("li",_$nav);$t.addClass("open");$elWording.html($elWording.attr("data-close"));$("> ul",$li).hide();$(">.open",$li).removeClass("open");$(">.act",$li).addClass("open");$(">.act + ul",$li).show()}});$("li > div",_$nav.add("#navVLP")).click(function(){$(this).toggleClass("open");$("+ul",this).slideToggle(_duration)})}var $expands=_isLpNavInit?$("#mvNav,#mvNavMg"):$menuV;_isLpNavInit=true;$(".mvExpendMore",$expands).click(function(){var $t=$(this),$expandUl=$t.parent().next().show();$t.hide();$(".mvExpendLess",$expandUl).one("click",function(){$expandUl.hide();$t.show()})});$(".mvExpendLess",$expands).one("click",function(){$(this).parent().hide();$(this).parent().parent().find(".mvExpendMore").show()});$(".mvFTitle, .mvFLink",$menuV).click(function(){var $facets=$(this).parent(),$iFacets=$("input[name='facetSettings']",$menuV),stateCats=JSON.parse($iFacets.val()),stateCat=stateCats[$facets.data("cat")],index=$(this).hasClass("mvFTitle")?0:1;stateCat[index]=stateCat[index]?0:1;$iFacets.val(JSON.stringify(stateCats));if(index!=0){$(this).parent().toggleClass("mvFMore")}else if(!$facets.hasClass("mvFDisabled")){$(".mvFList",$facets).slideToggle("fast",function(){$facets.toggleClass("mvFOpen")})}});$("input[type='checkbox']",$menuV).click(function(){var $t=$(this);if(/jsLk/.test(this.className)){$t.next().length&&(win.location.href=$t.next()[0])}else{_lpRefresh()}});$(".delFilter",$menuV).click(function(){$("input[type=checkbox]",this.parentElement).removeAttr("checked");_lpRefresh()});$(".jsAFDel",$menuV).click(function(ev){var li=(ev.target.tagName=="LI")?ev.target:ev.target.parentElement;$("input[value='"+$(li).data("val")+"']",$menuV).removeAttr("checked");_lpRefresh()});$(".jsAFDelAll",$menuV).click(function(ev){var $mvSKbv=$(".mvSKbv",$(this).parent());if($mvSKbv.length){$("#searchInput").val("");$("#SearchForm").submit()}else{$("input[type='checkbox']",$menuV).removeAttr("checked");_lpRefresh()}});$(".mvSKbv",$menuV).click(function(ev){$("#searchInput").val("");$("#SearchForm").submit()});$("#lpGeoloc").change(_lpRefresh);var initPopinRim=function(){var $facetsList=$("#facetsList"),$popinRim=$(".jsPopinRim",$facetsList),$facetDelivery=$(".jsFacetListing.jsShippingFacet",$facetsList),$facetFakeRim=$(".jsFakeFacetRim",$facetsList),$facetRim=$(".jsFacetRim",$facetsList),$chkBoxFakeRim=$("#chkBoxFakeRim",$facetsList),$chkBoxesFacetRim=$(".jsFacetRim ul input[type=checkbox]",$facetsList),$dropDownPopinRim=$("#rimDrop");if($popinRim.length&&$facetDelivery.length&&$facetRim.length){$chkBoxFakeRim.unbind();$facetFakeRim.removeClass("dn");var facetRimState=$chkBoxesFacetRim.prop("checked");$chkBoxFakeRim.prop("checked",facetRimState);var $ulFacetDelivery=$facetDelivery.find("ul.mgFList");if($chkBoxFakeRim.prop("checked")){$ulFacetDelivery.prepend($facetFakeRim);$facetFakeRim.addClass("mgSelectedFacet")}else{$ulFacetDelivery.append($facetFakeRim);$facetFakeRim.removeClass("mgSelectedFacet")}$chkBoxFakeRim.change(function(){if(!this.checked){$chkBoxFakeRim.prop("checked",false);$chkBoxesFacetRim.prop("checked",false);$.lp.refresh()}else{$.popin.showOverlay();$popinRim.removeClass("dn")}return false})}$("#rimBtnValider").click(function(){var selectedValue=$dropDownPopinRim.find("option:selected").val();if(selectedValue==-1){return false}else{$.popin.hideOverlay();$popinRim.addClass("dn");var $chkBoxFacetSelected=$chkBoxesFacetRim.filter(function(){return this.value==selectedValue});$chkBoxesFacetRim.prop("checked",false);$chkBoxFacetSelected.trigger("click")}return false});$(".jsCancelRim",$popinRim).click(function(){var selectedValue=$dropDownPopinRim.find("option:selected").val();if(selectedValue==-1){$.popin.hideOverlay();$popinRim.addClass("dn");$chkBoxFakeRim.prop("checked",false)}else{$.popin.hideOverlay();$popinRim.addClass("dn");var facetRimState=$chkBoxesFacetRim.prop("checked");if(facetRimState){$chkBoxFakeRim.prop("checked",false);$chkBoxesFacetRim.prop("checked",false);$.lp.refresh()}else{$chkBoxFakeRim.prop("checked",false);$dropDownPopinRim.val("-1")}}return false});$(".jsCancel",$popinRim).click(function(){$popinRim.addClass("dn");$.popin.hideOverlay();var facetRimState=$chkBoxesFacetRim.prop("checked");if(!facetRimState){$chkBoxFakeRim.prop("checked",false);$dropDownPopinRim.val("-1")}return false})};initPopinRim()};var fixLabelPropa=function(context){if($.isTouch()){var uaIpad=/iPad.*OS (\d)_/i.exec(navigator.userAgent);if(uaIpad&&+uaIpad[1]<6){$("label",context).each(function(){this.addEventListener('click',function(){},true)})}}};$.init("menu",function(opt){var $menuV=$("#menuV"),sett=$.extend({urlAsync:"",urlPartner:""},opt);fixLabelPropa($menuV);if(sett.urlAsync){$.get(sett.urlAsync,function(res){$menuV.prepend(res);_initMenu($menuV)})}else{_initMenu($menuV);sett.urlPartner&&$.get(sett.urlPartner,function(res){$(".mvMustHave",$menuV).after(res)})}});$.init("facet",function(opt){if($(".mvMenu").length>0){var $facetsList=$("#facetsList");var $mvBdCatFullNav=$("#mvBdCatFullNav");$facetsList.on("click",".mvFLink",function(ev){var $t=$(this);if($t.hasClass("mgFLinkSeeMore")){$t.removeClass("mgFLinkSeeMore").addClass("mgFLinkSeeLess");$t.parent().find(".mgFListMore").show("fast")}else{$t.removeClass("mgFLinkSeeLess").addClass("mgFLinkSeeMore");$t.parent().find(".mgFListMore").hide("fast")}});$facetsList.on("click",".jsFacetTitle",function(ev){var $t=$(this);if($t.parent().hasClass("mgFClose")){$t.parent().find(".mgFAllList, .jsFacetList").show("fast",function(){$t.parent().removeClass("mgFClose").addClass("mgFOpen")})}else{$t.parent().find(".mgFAllList, .jsFacetList").hide("fast",function(){$t.parent().removeClass("mgFOpen").addClass("mgFClose")})}});$mvBdCatFullNav.on("click",".jsCatTitle",function(ev){var $t=$(this);if($t.parent().hasClass("mgFClose")){var $mgFOpen=$(".mgFOpen",$mvBdCatFullNav);$mgFOpen.find(".jsCatList").hide("fast",function(){$mgFOpen.removeClass("mgFOpen").addClass("mgFClose")});$t.parent().find(".jsCatList").show("fast",function(){$t.parent().removeClass("mgFClose").addClass("mgFOpen")})}else{$t.parent().find(".jsCatList").hide("fast",function(){$t.parent().removeClass("mgFOpen").addClass("mgFClose")})}})}else{var $facetsList=$("#facetsList");if($facetsList.length){var $listingFacet=$(".jsFacetListing",$facetsList),$listingFacetForDelete=$.rim?$(".jsLpForm > input"):$listingFacet,$selectFacet=$(".jsFacetTitle",$listingFacet),$selectLonelyFacet=$(".jsLonelyFacet",$listingFacet),$activeFacet=$("#activeFacet"),$deleteFacet=$("input[type='checkbox']",$activeFacet),$moreLessFilter=$(".jsMoreLessFilter",$facetsList),$sort=$("select",$("#sortSelect")),$lpActiveFilters=$("#lpActivesFilters #activeFacet");fixLabelPropa($activeFacet);$("a",$facetsList).click(function(ev){var $inp=$(this).siblings().filter("input");ev.preventDefault();$inp.prop("checked",!$inp.is(":checked"))});$("input[type=checkbox], input[type=radio], a",$selectFacet.next()).click(function(ev){var $this=$(this),$ul=$this.parents("ul:first"),$sb=$ul.siblings();if(this.tagName=="A"){var $inp=$this.parents("li:first").find("input");ev.preventDefault();$inp.prop("checked",!$inp.is(":checked"))}if($("li.hFChecked input:not(:checked), li:not(.hFChecked) input:checked",$ul).length){$sb.filter($("input[type=button]")).removeClass("btDisabled").removeAttr("disabled");$sb.filter(".jsCancel").show()}else{$sb.filter($("input[type=button]")).addClass("btDisabled").attr("disabled","disabled");$sb.filter(".jsCancel").hide()}if($this.parents(".jsCustomCb").length){$this.parents("li").toggleClass("hCbChecked")}_lpRefresh({withoutRefresh:true})});$selectFacet.click(function(ev){if($("input[type='button']",$selectFacet.next()).is(":not(.btDisabled)")){_lpRefresh()}else{$selectFacet.not(this).next().hide();$(this).next().toggle()}});$(".jsSingleValueFacet",$facetsList).click(function(){var form=$(this).parents("form")[0];form.action=$("a",this)[0].href;form.submit()});$("input[type=checkbox]",$selectLonelyFacet).click(function(){var $mvSKbv=$(this).parents(".mvSKbv");if($mvSKbv.length||($(this).parents(".jsDelAll").length&&$(".mvSKbv",$(this).parents("#activeFacet")).length)){$("#searchInput").val("");$("#SearchForm").submit()}else{_lpRefresh()}});$deleteFacet.click(deleteFacetsFn($listingFacetForDelete));$sort.change(function(){_lpRefresh()});$("input[type=button]",$facetsList).click(function(){var $ahref=$("#facetsList a").filter(function(){return $(this).parents("li:first").find(":checked").length});if($ahref.length!=1){_lpRefresh()}else{this.form.action=$ahref[0].href;this.form.submit()}$(this).parent().toggle()});$(".jsCancel",$facetsList).click(function(){var $this=$(this);$("ul input[type=checkbox], ul input[type=radio]",$this.parent()).removeAttr("checked").filter(function(){return $(this).parents("li").is(".hFChecked")}).prop("checked",true);$(".jsCustomCb > li").removeClass("hCbChecked").filter(function(){return $(this).is(".hFChecked")}).addClass("hCbChecked");$this.hide().siblings("input[type=button]").addClass("btDisabled").attr("disabled","disabled")});$moreLessFilter.click(function(){$selectFacet.next().hide();if($(".jsMoreFilter:visible",$moreLessFilter).length){$(">div, >label",$listingFacet).css("cssText","display:block !important");$(".jsMoreFilter",$facetsList).hide();$(".jsLessFilter",$facetsList).css("display","inline-block")}else{$(">div, >label",$listingFacet).css("cssText","");$(".jsMoreFilter",$facetsList).css("display","inline-block");$(".jsLessFilter",$facetsList).hide()}})}}});$.init("activeFilter",function(opt){var $lpActiveFilters=$("#lpActivesFilters #activeFacet");var $listingFacet=$(".jsLpForm");$lpActiveFilters.on("click",".jsClearSubSearch",function(){if($lpActiveFilters.find(".jsSubSearchLabel").length>0){$("#lpContent input[name='ProductListTechnicalForm.Keyword']").val("");$("#searchInput").val("")}});$lpActiveFilters.on("click","input[type=checkbox]",deleteFacetsFn($listingFacet));$lpActiveFilters.on("click",".jsDisplayAllActiveFilter",function(){$(".jsCollapsedActiveFilter",$lpActiveFilters).removeClass('hide');$(".jsCollapseFilters",$lpActiveFilters).removeClass('hide');$(".jsFiltersCollapsedMarker",$lpActiveFilters).addClass('hide');$(this).addClass('hide')});$lpActiveFilters.on("click",".jsCollapseFilters",function(){$(".jsCollapsedActiveFilter",$lpActiveFilters).addClass('hide');$(this).addClass('hide');$(".jsFiltersCollapsedMarker",$lpActiveFilters).removeClass('hide');$('.jsDisplayAllActiveFilter',$lpActiveFilters).removeClass('hide')})});$.init("headBandRimFacet",function(){var $lpHeadBandRimFacet=$("#rimFacet"),$facetsList=$("#facetsList"),$popinRim=$(".jsPopinRim",$facetsList),$facetsRimList=$(".jsFacetRim",$facetsList),$changeLocationHeadBandRIMFacet=$(".jsRimTop",$lpHeadBandRimFacet),$deleteHeadBandRIMFacet=$(".jsRimClose",$lpHeadBandRimFacet),$chkBoxesFacetRim=$("ul input[type=checkbox]",$facetsRimList);if($lpHeadBandRimFacet.length>0&&$popinRim.length>0){$changeLocationHeadBandRIMFacet.on("click",function(){$.popin.showOverlay();$popinRim.removeClass("dn");return false});$deleteHeadBandRIMFacet.on("click",function(){$chkBoxesFacetRim.prop("checked",false);$.lp.refresh()})}})})();$.init("footer",function(opt){var opt=opt||{};if(opt.urlAsync&&opt.idContent){$("#"+opt.idContent).getAsyncNode(opt.urlAsync,true)}});$.init("page",function(opt){$("img[data-src]:not('.jsLazyDiffer')").lazyload();$("#main [data-bg]:not('.jsLazyDiffer')").lazyloadBg();$("a.jsLnf").not("[data-qs]").lnf();$(".jsQs, a[data-qs]").lqs();$("body").on("click",".jsWaiting",function(){$.popin.hideOverlay();$.popin.showWaitingOverlay()}).on("submit","form.jsFormWaiting",function(){if($(this).data("isvalid")){$.popin.showWaitingOverlay()}});$("#ztdBloc").click(function(){var $lkMore=$(".ztdMore, .ztdLnkMore",this),txt=$(".ztdH",this).toggle().is(":visible")?$lkMore.data("close")||"-":($lkMore.data("open")||"+");$lkMore.text(txt)})});$.insertMall=function(){if(arguments.length>0){var result='<ul class="mall">',nf={};for(var i=0;i<arguments.length;i++){var css=(i>=3&&i<=5)?'class="no1023"':(i>5)?'class="since1280"':'';nf=$.fn.nf(arguments[i]["u"]);result+='<li '+css+'><a href="'+nf.url+'" rel="nofollow" target="'+nf.target+'" style="background-image:url('+arguments[i]["i"]+')" alt="publicité"></a></li>'}result+='</ul>';document.write(result)}};$(function(){if($.fn.nf&&!$.fn.nf.init){$("[data-nf]").nf();$.fn.nf.init=true}$("#backToTop").each(function(){var $backTop=$(this),winHeight=$(win).height(),isVisible=false;$(win).bind("scroll",function(){var scroll=$(document).scrollTop(),isAboveWaterline=(scroll>=winHeight);if(isAboveWaterline){!isVisible&&$backTop.fadeIn();isVisible=true}else{isVisible&&$backTop.hide();isVisible=false}});$backTop.click(function(){$("html, body").animate({scrollTop:0},"fast");return false})});displayRetailStoreReinsurance=(function(){var retailStoreReinsuranceBloc=$("#retailStoreReinsurance"),retailStoreVendorName;var cookieElements=$.cookies.get("SitePersoCookie").split("__");var showroomVendorId=cookieElements[cookieElements.indexOf("ShowroomVendorId")+1];var showroomName=cookieElements[cookieElements.indexOf("RetailStoreName")+1];if(showroomVendorId&&showroomName&&retailStoreReinsuranceBloc.length){retailStoreReinsuranceBloc.empty();var showRoomData=showroomVendorId.split(":");if(showRoomData.length>0){retailStoreVendorName=showRoomData[1]}retailStoreReinsuranceBloc.append(showroomName+' '+retailStoreVendorName);retailStoreReinsuranceBloc.removeClass('dn')};});displayRetailStoreReinsurance()});reviewsManager=(function(){var _rm={};var canUseLocalStorage=function(){try{localStorage.setItem('test-localstorage',1);localStorage.removeItem('test-localstorage');return true}catch(e){return false}};_rm.getReviewsFromLS=function(merged){merged=merged==undefined?false:merged;if(!canUseLocalStorage){return[]};var reviews=JSON.parse(localStorage.getItem('last-reviews'));reviews=(typeof reviews!='undefined'&&reviews instanceof Array)?reviews:[];var now=(new Date).getTime();var filterdReviews=[];var mergedFilterdReviews=[];reviews.forEach(function(review){var hourPassed=(now-review.datetime)/1000/60/60;if(hourPassed<72){if(merged){mergedFilterdReviews.push(review.sku+''+review.idOffer)}filterdReviews.push(review)}});localStorage.setItem('last-reviews',JSON.stringify(filterdReviews));if(merged)return mergedFilterdReviews.join(';');else return filterdReviews};return _rm})()})(window,$fwk);
/* Js/ads/adSence.js */
(function(win,$){var _doc=win.document;(function(gcsa){var _URL_AFS="//www.google.com/adsense/search/async-ads.js",_isFired=false;$.ads.providers.push("AFS","AFSH");$.ads["AFS"]={provider:"AFS",call:function(pageOptions,blocks){win[gcsa]=win[gcsa]||function(){(win[gcsa]["q"]=win[gcsa]["q"]||[]).push(arguments)};win[gcsa]["t"]=+new Date;!_isFired&&$.getScript(_URL_AFS);_isFired=true;win[gcsa](this.provider=="AFS"?"ads":"plas",pageOptions,blocks)}};$.ads["AFSH"]={provider:"AFSH",call:$.ads["AFS"].call}})("_googCsa");(function(){var _URL_AFC="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",_isFired=false;$.ads.providers.push("AFC");$.ads["AFC"]={call:function(){for(var i=0;i<arguments.length;i++){if(typeof arguments[i]=="string"){(adsbygoogle=window.adsbygoogle||[]).push({})}}if(window.adsbygoogle){if(!_isFired){$.getScript(_URL_AFC)}_isFired=true}}}})()})(window,window.jQuery||window.$fwk);
/* Js/ads/google.js */
function GetAdUnitsByPage(pageType,univers){var pageTypes=['FicheProduit','Desktop_FicheProduit','Homepage','Desktop_Homepage','ListeProduit','Desktop_ListeProduit','Desktop_Recherche:ListeProduit','Desktop_Recherche:Front','Recherche:Front','Recherche:Category','Vitrine','Desktop_Vitrine','PageEspaceClient','Desktop_PageEspaceClient'];var idCDS='8618';var bidderApp='appnexus';var bidderCriteo='criteo';var id300x250Body2='crt-41f698c0';var idfp728x90Body='crt-2d968458';var id728x90Body2='crt-41f68d08';var id728x90Footer2='crt-41f694d8';var id728x90Footer='crt-41f690f0';var id970x250Footer='gpt-R2-970X250FOOTER';var id300x250Footer='crt-41f69ca8';var id300x250Footer2='crt-41f6a090';var id160x600Body2='crt-41f68920';var id160x600Body='crt-2d94fdb8';var id728x90Body='crt-2d94ced8';var idlp300x600Body='crt-2d94f5e8';var idlr728x90Body='crt-2d94f200';var idec300x600Body='crt-38492e00';var idlp470x275Body='gpt-R2-470X275BODY';var idlp728x90Body='crt-2d94de78';var idlr300x600Body='crt-2f259480';var idvtr728x90Body='crt-2d94ced8';var criteo160x600="1089551";var criteo300x250="1089552";var criteo300x600="1089553";var criteo728x90="1089554";var criteo970x250="1089556";var fp300x250Body2='Cdiscount_Desktop_{0}_ficheprod_300x250_body2';var fp728x90Body='Cdiscount_Desktop_{0}_ficheprod_728x90_body';var fp728x90Body2='Cdiscount_Desktop_{0}_ficheprod_728x90_body2';var fp728x90Footer2='Cdiscount_Desktop_{0}_ficheprod_728x90_footer2';var fp970x250Footer='Cdiscount_Desktop_{0}_ficheprod_970x250_footer';var hp728x90Footer2='Cdiscount_Desktop_{0}_homepage_728x90_footer2';var hp728x90Footer='Cdiscount_Desktop_{0}_homepage_728x90_footer';var hp728x90Body='Cdiscount_Desktop_{0}_homepage_728x90_body';var hp728x90Body2='Cdiscount_Desktop_{0}_homepage_728x90_body2';var lp160x600Body2='Cdiscount_Desktop_{0}_listeprod_160x600_body2';var lp300x250Body2='Cdiscount_Desktop_{0}_listeprod_300x250_body2';var lp300x600Body='Cdiscount_Desktop_{0}_listeprod_300x600_body';var lp728x90Body='Cdiscount_Desktop_{0}_listeprod_728x90_body';var lp728x90Footer2='Cdiscount_Desktop_{0}_listeprod_728x90_footer2';var lp970x250Footer="Cdiscount_Desktop_{0}_listeprod_970x250_footer";var lr160x600Body='Cdiscount_Desktop_{0}_recherche_160x600_body';var lr970x250Footer='Cdiscount_Desktop_{0}_recherche_970x250_footer';var lr728x90Body='Cdiscount_Desktop_{0}_recherche_728x90_body';var lr300x600Body='Cdiscount_Desktop_{0}_recherche_300x600_body';var vtr160x600Body2='Cdiscount_Desktop_{0}_vitrine_160x600_body2';var vtr728x90Body2='Cdiscount_Desktop_{0}_vitrine_728x90_body2';var vtr728x90Footer2='Cdiscount_Desktop_{0}_vitrine_728x90_footer2';var vtr970x250Footer='Cdiscount_Desktop_{0}_vitrine_970x250_footer';var vtr728x90Body='Cdiscount_Desktop_{0}_vitrine_728x90_body';var ec300x250Footer='Cdiscount_Desktop_espace-client_300x250_footer';var ec300x250Footer2='Cdiscount_Desktop_espace-client_300x250_footer2';var ec300x600Body='Cdiscount_Desktop_espace-client_300x600_body';var ec728x90Footer='Cdiscount_Desktop_espace-client_728x90_footer';var ec728x90Footer2='Cdiscount_Desktop_espace-client_728x90_footer2';var _AdUnits=[];if((pageType!==undefined)||(pageTypes.indexOf(pageType)>-1)){switch(pageType){case"Recherche:Front":case"Recherche:Category":case"Desktop_Recherche:Front":lr160x600Body=lr160x600Body.replace("{0}",univers);lr970x250Footer=lr970x250Footer.replace("{0}",univers);lr300x600Body=lr300x600Body.replace("{0}",univers);lr728x90Body=lr728x90Body.replace("{0}",univers);_AdUnits=[{code:id160x600Body,mediaTypes:{banner:{sizes:[160,600]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo160x600,publisherSubId:lr160x600Body}},{bidder:bidderApp,params:{member:idCDS,invCode:lr160x600Body}}]},{code:id970x250Footer,mediaTypes:{banner:{sizes:[970,250]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo970x250,publisherSubId:lr970x250Footer}},{bidder:bidderApp,params:{member:idCDS,invCode:lr970x250Footer}}]},{code:idlr300x600Body,mediaTypes:{banner:{sizes:[300,600]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo300x600,publisherSubId:lr300x600Body}},{bidder:bidderApp,params:{member:idCDS,invCode:lr300x600Body}}]},{code:idlr728x90Body,mediaTypes:{banner:{sizes:[728,90]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo728x90,publisherSubId:lr728x90Body}},{bidder:bidderApp,params:{member:idCDS,invCode:lr728x90Body}}]}];break;case'Homepage':case'Desktop_Homepage':hp728x90Footer2=hp728x90Footer2.replace("{0}",univers);hp728x90Footer=hp728x90Footer.replace("{0}",univers);hp728x90Body=hp728x90Body.replace("{0}",univers);hp728x90Body2=hp728x90Body2.replace("{0}",univers);_AdUnits=[{code:id728x90Footer2,mediaTypes:{banner:{sizes:[728,90]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo728x90,publisherSubId:hp728x90Footer2}},{bidder:bidderApp,params:{member:idCDS,invCode:hp728x90Footer2}}]},{code:id728x90Footer,mediaTypes:{banner:{sizes:[728,90]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo728x90,publisherSubId:hp728x90Footer}},{bidder:bidderApp,params:{member:idCDS,invCode:hp728x90Footer}}]},{code:id728x90Body,mediaTypes:{banner:{sizes:[728,90]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo728x90,publisherSubId:hp728x90Body}},{bidder:bidderApp,params:{member:idCDS,invCode:hp728x90Body}}]},{code:id728x90Body2,mediaTypes:{banner:{sizes:[728,90]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo728x90,publisherSubId:hp728x90Body2}},{bidder:bidderApp,params:{member:idCDS,invCode:hp728x90Body2}}]}];break;case'Vitrine':case'Desktop_Vitrine':vtr160x600Body2=vtr160x600Body2.replace("{0}",univers);vtr728x90Body2=vtr728x90Body2.replace("{0}",univers);vtr728x90Footer2=vtr728x90Footer2.replace("{0}",univers);vtr970x250Footer=vtr970x250Footer.replace("{0}",univers);vtr728x90Body=vtr728x90Body.replace("{0}",univers);_AdUnits=[{code:id160x600Body2,mediaTypes:{banner:{sizes:[160,600]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo160x600,publisherSubId:vtr160x600Body2}},{bidder:bidderApp,params:{member:idCDS,invCode:vtr160x600Body2}}]},{code:id728x90Body2,mediaTypes:{banner:{sizes:[728,90]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo728x90,publisherSubId:vtr728x90Body2}},{bidder:bidderApp,params:{member:idCDS,invCode:vtr728x90Body2}}]},{code:id728x90Footer2,mediaTypes:{banner:{sizes:[728,90]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo728x90,publisherSubId:vtr728x90Footer2}},{bidder:bidderApp,params:{member:idCDS,invCode:vtr728x90Footer2}}]},{code:id970x250Footer,mediaTypes:{banner:{sizes:[970,250]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo970x250,publisherSubId:vtr970x250Footer}},{bidder:bidderApp,params:{member:idCDS,invCode:vtr970x250Footer}}]},{code:id728x90Body,mediaTypes:{banner:{sizes:[728,90]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo728x90,publisherSubId:vtr728x90Body}},{bidder:bidderApp,params:{member:idCDS,invCode:vtr728x90Body}}]}];break;case'ListeProduit':case'Desktop_ListeProduit':case'Desktop_Recherche:ListeProduit':lp160x600Body2=lp160x600Body2.replace("{0}",univers);lp300x250Body2=lp300x250Body2.replace("{0}",univers);lp300x600Body=lp300x600Body.replace("{0}",univers);lp728x90Body=lp728x90Body.replace("{0}",univers);lp728x90Footer2=lp728x90Footer2.replace("{0}",univers);lp970x250Footer=lp970x250Footer.replace("{0}",univers);_AdUnits=[{code:id160x600Body2,mediaTypes:{banner:{sizes:[160,600]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo160x600,publisherSubId:lp160x600Body2}},{bidder:bidderApp,params:{member:idCDS,invCode:lp160x600Body2}}]},{code:id300x250Body2,mediaTypes:{banner:{sizes:[300,250]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo300x250,publisherSubId:lp300x250Body2}},{bidder:bidderApp,params:{member:idCDS,invCode:lp300x250Body2}}]},{code:idlp300x600Body,mediaTypes:{banner:{sizes:[300,600]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo300x600,publisherSubId:lp300x600Body}},{bidder:bidderApp,params:{member:idCDS,invCode:lp300x600Body}}]},{code:idlp728x90Body,mediaTypes:{banner:{sizes:[728,90]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo728x90,publisherSubId:lp728x90Body}},{bidder:bidderApp,params:{member:idCDS,invCode:lp728x90Body}}]},{code:id728x90Footer2,mediaTypes:{banner:{sizes:[728,90]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo728x90,publisherSubId:lp728x90Footer2}},{bidder:bidderApp,params:{member:idCDS,invCode:lp728x90Footer2}}]},{code:id970x250Footer,mediaTypes:{banner:{sizes:[970,250]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo970x250,publisherSubId:lp970x250Footer}},{bidder:bidderApp,params:{member:idCDS,invCode:lp970x250Footer}}]}];break;case'FicheProduit':case'Desktop_FicheProduit':fp300x250Body2=fp300x250Body2.replace("{0}",univers);fp728x90Body=fp728x90Body.replace("{0}",univers);fp728x90Body2=fp728x90Body2.replace("{0}",univers);fp728x90Footer2=fp728x90Footer2.replace("{0}",univers);fp970x250Footer=fp970x250Footer.replace("{0}",univers);_AdUnits=[{code:id300x250Body2,mediaTypes:{banner:{sizes:[300,250]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo300x250,publisherSubId:fp300x250Body2}},{bidder:bidderApp,params:{member:idCDS,invCode:fp300x250Body2}}]},{code:idfp728x90Body,mediaTypes:{banner:{sizes:[728,90]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo728x90,publisherSubId:fp728x90Body}},{bidder:bidderApp,params:{member:idCDS,invCode:fp728x90Body}}]},{code:id728x90Body2,mediaTypes:{banner:{sizes:[728,90]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo728x90,publisherSubId:fp728x90Body2}},{bidder:bidderApp,params:{member:idCDS,invCode:fp728x90Body2}}]},{code:id728x90Footer2,mediaTypes:{banner:{sizes:[728,90]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo728x90,publisherSubId:fp728x90Footer2}},{bidder:bidderApp,params:{member:idCDS,invCode:fp728x90Footer2}}]},{code:id970x250Footer,mediaTypes:{banner:{sizes:[970,250]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo970x250,publisherSubId:fp970x250Footer}},{bidder:bidderApp,params:{member:idCDS,invCode:fp970x250Footer}}]}];break;case'PageEspaceClient':case'Desktop_PageEspaceClient':_AdUnits=[{code:id300x250Footer,mediaTypes:{banner:{sizes:[300,250]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo300x250,publisherSubId:ec300x250Footer}},{bidder:bidderApp,params:{member:idCDS,invCode:ec300x250Footer}}]},{code:id300x250Footer2,mediaTypes:{banner:{sizes:[300,250]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo300x250,publisherSubId:ec300x250Footer2}},{bidder:bidderApp,params:{member:idCDS,invCode:ec300x250Footer2}}]},{code:id728x90Footer,mediaTypes:{banner:{sizes:[728,90]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo728x90,publisherSubId:ec728x90Footer}},{bidder:bidderApp,params:{member:idCDS,invCode:ec728x90Footer}}]},{code:id728x90Footer2,mediaTypes:{banner:{sizes:[728,90]}},bids:[{bidder:bidderCriteo,params:{zoneId:criteo728x90,publisherSubId:ec728x90Footer2}},{bidder:bidderApp,params:{member:idCDS,invCode:ec728x90Footer2}}]},{code:idec300x600Body,sizes:[[300,600]],sizeMapping:[{minWidth:1280,sizes:[[300,600]]},{minWidth:0,sizes:[[160,600]]}],bids:[{bidder:bidderCriteo,params:{zoneId:criteo300x600,publisherSubId:ec300x600Body}},{bidder:bidderApp,params:{member:idCDS,invCode:ec300x600Body}}]}];break;default:}}return _AdUnits}var univers=null;var adUnits=[];window._activePrebid=false;(function(win,$){var firstLoadPositions=['BODY','BODY2','HABILLAGE','crt-2d94ced8','crt-2d94f5e8','crt-2d94de78','crt-2d94f200','crt-2f259480','crt-4820a920','crt-4820a150','crt-764737','crt-2d94fdb8','crt-2d968458','crt-38492e00','crt-41f68920'];var firstPassSlots=[],secondPassSlots=[];var allrefreshed=false;$.ads.providers.push("DFP");var _doc=win.document,_refTime=+new Date,_isGptLoad=false,_requete="",_slots={},_lazyLoadSlot={adPath:"",blocks:[],target:{}},_refreshSlots=[],_targets=["pos","tier"],_loadGpt=function(){if(!_isGptLoad){$.getScript(_doc.location.protocol+"//www.googletagservices.com/tag/js/gpt.js");_isGptLoad=true;googletag.cmd.push(function(){googletag.pubads().addEventListener("slotOnload",function(ev){if(window!=="undefined"&&typeof window.dT_!='undefined'){var enterAction=dynaTrace.enterAction(ev.slot.getSlotElementId())}if(ev.isEmpty){var adDiv=_doc.getElementById(ev.slot.getSlotElementId());if(adDiv){var href=adDiv.getAttribute("data-ad-href")||"",img=adDiv.getAttribute("data-ad-img");if(img){adDiv.innerHTML='<a href="'+href+'"><img src="'+img+'"/></a>'}}}if(window!=="undefined"&&typeof window.dT_!='undefined'){dynaTrace.leaveAction(enterAction)}})})}};win["googletag"]={cmd:[]};function initAdserver(){if(window.pbjs.adserverRequestSent)return;window.pbjs.adserverRequestSent=true;googletag.cmd.push(function(){window.pbjs.que.push(function(){if(window.Criteo!=undefined){var addBlocked=false;if(window.criteo_pubtag!=undefined&&window.criteo_pubtag.context!=undefined&&window.criteo_pubtag.context.isAdBlocked!=undefined){addBlocked=window.criteo_pubtag.context.isAdBlocked}if(!addBlocked){window.pbjs.setTargetingForGPTAsync();cds.gpt.refreshSlots(true)}}else{cds.gpt.refreshSlots(true)}})})}var _isLazyLoadActive=false,_winScrollEventBinded=false,winScrollEventHandler=function(){var _offset=LazyLoadOffset||0;if($(win).scrollTop()>=_offset&&!allrefreshed){cds.gpt.refreshSlots(false);$(win).unbind("scroll",winScrollEventHandler);_winScrollEventBinded=false}};var verifyIsBlockAboveLoadingLine=function(_idBlock){var _offset=LazyLoadOffset||0;var _flotationLine=$(win).scrollTop()+$(win).height();var _loadingLine=_flotationLine+_offset;var element=$("#"+_idBlock);if(!element.length){return false}var displayElement=$(element).css('display');var elementTop=0;if(displayElement=='none'){$(element).css('display','block');elementTop=$(element).offset().top;$(element).css('display','none')}else{elementTop=$(element).offset().top}if(!elementTop&&_lazyLoadSlot.blocks.length){for(var i=0;i<_lazyLoadSlot.blocks.length;i++){var block=_lazyLoadSlot.blocks[i];if(block&&block.div==_idBlock){return true}}}return elementTop&&elementTop<=_loadingLine};var blocksPassSlots=[],verifyBlock=function(block1,block2){if(!block1||!block1.size||block1.size.constructor!=Array||block1.size.length<2){return false}if(!block2||!block2.size||block2.size.constructor!=Array||block2.size.length<2){return false}return block1.adpath==block2.adpath&&block1.size[0]==block2.size[0]&&block1.size[1]==block2.size[1]};var pushPassSlotsList=function(list,block,slot){if(list==undefined||block==undefined){return}if(!block.type){for(var i=list.length-1;i>=0;i--){var oldBlock=blocksPassSlots[list[i].getSlotId()];if(oldBlock&&!oldBlock.type&&verifyBlock(oldBlock,block)){list.splice(i,1)}}}blocksPassSlots[slot.getSlotId()]=block;list.push(slot)};$.ads["DFP"]={isAdable:function(){return $.ads.isAdable?$.ads.isAdable():!0},call:function(path,blocks,target){_isLazyLoadActive=typeof LazyLoadActive!=="undefined"?LazyLoadActive:false;if(_isLazyLoadActive&&!_winScrollEventBinded){$(win).scroll(winScrollEventHandler);_winScrollEventBinded=true}function _loadPrebid(){!(function(u){var s=window.pbjsChunk;window.pbjsChunk=function(e,t,n){for(var r,i,o,a=0,d=[];a<e.length;a++)i=e[a],c[i]&&d.push(c[i][0]),c[i]=0;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(u[r]=t[r]);for(s&&s(e,t,n);d.length;)d.shift()();if(n)for(a=0;a<n.length;a++)o=f(f.s=n[a]);return o};var n={},c={157:0};function f(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return u[e].call(t.exports,t,t.exports,f),t.l=!0,t.exports}f.m=u,f.c=n,f.d=function(e,t,n){f.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},f.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return f.d(t,"a",t),t},f.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},f.p="",f.oe=function(e){throw console.error(e),e;},f(f.s=533)})({0:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getLatestHighestCpmBid=a.getOldestHighestCpmBid=a.getHighestCpm=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};a.getAdUnitSizes=function(e){if(!e)return;var t=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){var n=e.mediaTypes.banner.sizes;Array.isArray(n[0])?t=n:t.push(n)}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes));return t},a.parseSizesInput=function(e){var t=[];if("string"==typeof e){var n=e.split(","),r=/^(\d)+x(\d)+$/i;if(n)for(var i in n)T(n,i)&&n[i].match(r)&&t.push(n[i])}else if("object"===(void 0===e?"undefined":d(e))){var o=e.length;if(0<o)if(2===o&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(h(e));else for(var a=0;a<o;a++)t.push(h(e[a]))}return t},a.parseGPTSingleSizeArray=h,a.uniques=I,a.flatten=_,a.getBidRequest=function(n,e){var r=void 0;return e.some((function(e){var t=(0,o.default)(e.bids,(function(t){return["bidId","adId","bid_id"].some((function(e){return t[e]===n}))}));return t&&(r=t),t})),r},a.getKeys=w,a.getValue=C,a.getBidderCodes=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits).map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(_,[])})).reduce(_).filter(I)},a.isGptPubadsDefined=function(){if(window.googletag&&a.isFn(window.googletag.pubads)&&a.isFn(window.googletag.pubads().getSlots))return!0},a.shuffle=function(e){var t=e.length;for(;0<t;){var n=Math.floor(Math.random()*t),r=e[--t];e[t]=e[n],e[n]=r}return e},a.adUnitsFilter=function(e,t){return(0,u.default)(e,t&&t.adUnitCode)},a.isSrcdocSupported=function(e){return e.defaultView&&e.defaultView.frameElement&&"srcdoc"in e.defaultView.frameElement&&!/firefox/i.test(navigator.userAgent)},a.deepClone=function(e){return(0,i.default)(e)},a.inIframe=function(){try{return a.getWindowSelf()!==a.getWindowTop()}catch(e){return!0}},a.isSafariBrowser=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},a.replaceAuctionPrice=function(e,t){if(!e)return;return e.replace(/\$\{AUCTION_PRICE\}/g,t)},a.timestamp=function(){return(new Date).getTime()},a.checkCookieSupport=function(){if(window.navigator.cookieEnabled||document.cookie.length)return!0},a.cookiesAreEnabled=function(){if(a.checkCookieSupport())return!0;return window.document.cookie="prebid.cookieTest",-1!=window.document.cookie.indexOf("prebid.cookieTest")},a.delayExecution=function(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got "+t);var n=0;return function(){++n===t&&e.apply(null,arguments)}},a.groupBy=function(e,n){return e.reduce((function(e,t){return(e[t[n]]=e[t[n]]||[]).push(t),e}),{})},a.deepAccess=function(e,t){if(!e)return;t=String(t).split(".");for(var n=0;n<t.length;n++)if(void 0===(e=e[t[n]]))return;return e},a.createContentToExecuteExtScriptInFriendlyFrame=function(e){if(!e)return"";return'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><base target="_top" /><script>inDapIF=true;<\/script></head><body>\x3c!--PRE_SCRIPT_TAG_MACRO--\x3e<script src="'+e+'"><\/script>\x3c!--POST_SCRIPT_TAG_MACRO--\x3e</body></html>'},a.getDefinedParams=function(n,e){return e.filter((function(e){return n[e]})).reduce((function(e,t){return r(e,(function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e})({},t,n[t]))}),{})},a.isValidMediaTypes=function(e){var t=["banner","native","video"];if(!Object.keys(e).every((function(e){return(0,u.default)(t,e)})))return!1;if(e.video&&e.video.context)return(0,u.default)(["instream","outstream"],e.video.context);return!0},a.getBidderRequest=function(e,t,n){return(0,o.default)(e,(function(e){return 0<e.bids.filter((function(e){return e.bidder===t&&e.adUnitCode===n})).length}))||{start:null,auctionId:null}},a.getUserConfiguredParams=function(e,t,n){return e.filter((function(e){return e.code===t})).map((function(e){return e.bids})).reduce(_,[]).filter((function(e){return e.bidder===n})).map((function(e){return e.params||{}}))},a.getOrigin=function(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},a.getDNT=function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},a.isAdUnitCodeMatchingSlot=function(t){return function(e){return B(t,e)}},a.isSlotMatchingAdUnitCode=function(t){return function(e){return B(e,t)}},a.unsupportedBidderMessage=function(e,t){var n=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    "+e.code+" is a "+n+" ad unit\n    containing bidders that don't support "+n+": "+t+".\n    This bidder won't fetch demand.\n  "},a.deletePropertyFromObject=function(e,t){var n=r({},e);return delete n[t],n},a.removeRequestId=function(e){return a.deletePropertyFromObject(e,"requestId")},a.isInteger=function(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},a.convertCamelToUnderscore=function(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")},a.transformBidderParamKeywords=function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"keywords",i=[];return a._each(e,(function(e,t){if(a.isArray(e)){var n=[];a._each(e,(function(e){(e=a.getValueString(r+"."+t,e))&&n.push(e)})),e=n}else{if(e=a.getValueString(r+"."+t,e),!a.isStr(e))return;e=[e]}i.push({key:t,value:e})})),i};var n=t(3),i=c(t(64)),o=c(t(9)),u=c(t(5)),s=t(11);function c(e){return e&&e.__esModule?e:{default:e}}var f=t(4),l=!1,g=Object.prototype.toString,p=null,v=null;try{p=console.info.bind(window.console),v=console.warn.bind(window.console)}catch(e){}a.replaceTokenInString=function(i,e,o){return a._each(e,(function(e,t){e=void 0===e?"":e;var n=o+t.toUpperCase()+o,r=new RegExp(n,"g");i=i.replace(r,e)})),i};var y,m=(y=0,function(){return++y});function b(){return m()+Math.random().toString(16).substr(2)}function h(e){if(a.isArray(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1]))return e[0]+"x"+e[1]}function S(){return window.console&&window.console.log}a.getUniqueIdentifierStr=b,a.generateUUID=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},a.getBidIdParameter=function(e,t){return t&&t[e]?t[e]:""},a.tryAppendQueryString=function(e,t,n){return n?e+(t+"=")+encodeURIComponent(n)+"&":e},a.parseQueryStringParameters=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t},a.transformAdServerTargetingObj=function(t){return t&&0<Object.getOwnPropertyNames(t).length?w(t).map((function(e){return e+"="+encodeURIComponent(C(t,e))})).join("&"):""},a.getTopWindowLocation=function(){if(a.inIframe()){var e=void 0;try{e=a.getAncestorOrigins()||a.getTopFrameReferrer()}catch(e){logInfo("could not obtain top window location",e)}if(e)return(0,s.parse)(e,{decodeSearchAsString:!0})}return a.getWindowLocation()},a.getTopFrameReferrer=function(){try{window.top.location.toString();for(var e="",t=void 0;(t=t?t.parent:window).document&&t.document.referrer&&(e=t.document.referrer),t!==window.top;);return e}catch(e){return window.document.referrer}},a.getAncestorOrigins=function(){if(window.document.location&&window.document.location.ancestorOrigins&&1<=window.document.location.ancestorOrigins.length)return window.document.location.ancestorOrigins[window.document.location.ancestorOrigins.length-1]},a.getWindowTop=function(){return window.top},a.getWindowSelf=function(){return window.self},a.getWindowLocation=function(){return window.location},a.getTopWindowUrl=function(){var t=void 0;try{t=a.getTopWindowLocation().href}catch(e){t=""}return t},a.getTopWindowReferrer=function(){try{return window.top.document.referrer}catch(e){return document.referrer}},a.logWarn=function(e,t){E()&&console.warn&&v&&(t&&0!==t.length||(t=""),v("WARNING: "+e+(""===t?"":" : params : "),t))},a.logInfo=function(e,t){E()&&S()&&p&&(t&&0!==t.length||(t=""),p("INFO: "+e+(""===t?"":" : params : "),t))},a.logMessage=function(e){E()&&S()&&console.log("MESSAGE: "+e)},a.hasConsoleLogger=S;var E=function(){if(!1===n.config.getConfig("debug")&&!1===l){var e="TRUE"===A(f.DEBUG_MODE).toUpperCase();n.config.setConfig({debug:e}),l=!0}return!!n.config.getConfig("debug")};a.debugTurnedOn=E,a.logError=function(){E()&&window.console&&window.console.error&&console.error.apply(console,arguments)},a.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.id=b(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e};var A=function(e){var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))};a.getParameterByName=A,a.hasValidBidRequest=function(e,n,t){var r=!1;function i(e,t){t===n[o]&&(r=!0)}for(var o=0;o<n.length;o++)if(r=!1,a._each(e,i),!r)return a.logError("Params are missing for bid request. One of these required paramaters are missing: "+n,t),!1;return!0},a.addEventHandler=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!0):e.attachEvent&&e.attachEvent("on"+t,n)},a.isA=function(e,t){return g.call(e)==="[object "+t+"]"},a.isFn=function(e){return a.isA(e,"Function")},a.isStr=function(e){return a.isA(e,"String")},a.isArray=function(e){return a.isA(e,"Array")},a.isNumber=function(e){return a.isA(e,"Number")},a.isPlainObject=function(e){return a.isA(e,"Object")},a.isBoolean=function(e){return a.isA(e,"Boolean")},a.isEmpty=function(e){if(!e)return!0;if(a.isArray(e)||a.isStr(e))return!(0<e.length);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0},a.isEmptyStr=function(e){return a.isStr(e)&&(!e||0===e.length)},a._each=function(e,t){if(!a.isEmpty(e)){if(a.isFn(e.forEach))return e.forEach(t,this);var n=0,r=e.length;if(0<r)for(;n<r;n++)t(e[n],n,e);else for(n in e)hasOwnProperty.call(e,n)&&t.call(this,e[n],n)}},a.contains=function(e,t){if(a.isEmpty(e))return!1;if(a.isFn(e.indexOf))return-1!==e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},a.indexOf=(function(){if(Array.prototype.indexOf)return Array.prototype.indexOf})(),a._map=function(n,r){if(a.isEmpty(n))return[];if(a.isFn(n.map))return n.map(r);var i=[];return a._each(n,(function(e,t){i.push(r(e,t,n))})),i};var T=function(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]};function I(e,t,n){return n.indexOf(e)===t}function _(e,t){return e.concat(t)}function w(e){return Object.keys(e)}function C(e,t){return e[t]}a.insertElement=function(e,t,n){t=t||document;var r=void 0;r=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{(r=r.length?r:t.getElementsByTagName("body")).length&&(r=r[0]).insertBefore(e,r.firstChild)}catch(e){}},a.triggerPixel=function(e){(new Image).src=e},a.callBurl=function(e){var t=e.source,n=e.burl;t===f.S2S.SRC&&n&&a.triggerPixel(n)},a.insertHtmlIntoIframe=function(e){if(e){var t=document.createElement("iframe");t.id=a.getUniqueIdentifierStr(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",a.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()}},a.insertUserSyncIframe=function(e){var t=a.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),n=document.createElement("div");n.innerHTML=t;var r=n.firstChild;a.insertElement(r)},a.createTrackPixelHtml=function(e){if(!e)return"";var t='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return t+='<img src="'+encodeURI(e)+'"></div>'},a.createTrackPixelIframeHtml=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return e?(t&&(e=encodeURI(e)),n&&(n='sandbox="'+n+'"'),"<iframe "+n+' id="'+a.getUniqueIdentifierStr()+'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="'+e+'">\n    </iframe>'):""},a.getIframeDocument=function(e){if(e){var t=void 0;try{t=e.contentWindow?e.contentWindow.document:e.contentDocument.document?e.contentDocument.document:e.contentDocument}catch(e){a.logError("Cannot get iframe document",e)}return t}},a.getValueString=function(e,t,n){return null==t?n:a.isStr(t)?t:a.isNumber(t)?t.toString():void a.logWarn("Unsuported type for param: "+e+" required type: String")};a.getHighestCpm=O("timeToRespond",(function(e,t){return t<e})),a.getOldestHighestCpmBid=O("responseTimestamp",(function(e,t){return t<e})),a.getLatestHighestCpmBid=O("responseTimestamp",(function(e,t){return e<t}));function O(n,r){return function(e,t){return e.cpm===t.cpm?r(e[n],t[n])?t:e:e.cpm<t.cpm?t:e}}var B=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t}},1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return(function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,d=e[Symbol.iterator]();!(r=(a=d.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(i)throw o;}}return n})(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance");},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.registerBidder=function(t){var n=Array.isArray(t.supportedMediaTypes)?{supportedMediaTypes:t.supportedMediaTypes}:void 0;function r(e){var t=l(e);i.default.registerBidAdapter(t,e.code,n)}r(t),Array.isArray(t.aliases)&&t.aliases.forEach((function(e){i.default.aliasRegistry[e]=t.code,r(v({},t,{code:e}))}))},t.newBidder=l,t.isValid=E;var r=s(n(28)),i=s(n(8)),y=n(3),m=s(n(18)),o=n(16),a=n(17),d=n(66),b=s(n(4)),h=s(n(10)),u=s(n(5)),S=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var f=["requestId","cpm","ttl","creativeId","netRevenue","currency"];function l(f){return v(new r.default(f.code),{getSpec:function(){return Object.freeze(f)},registerSyncs:l,callBids:function(o,a,r,n){if(Array.isArray(o.bids)){var d={},u=[],e=o.bids.filter(g);if(0!==e.length){var s={};e.forEach((function(e){(s[e.bidId]=e).adUnitCode||(e.adUnitCode=e.placementCode)}));var t=f.buildRequests(e,o);if(t&&0!==t.length){Array.isArray(t)||(t=[t]);var c=(0,S.delayExecution)(i,t.length);t.forEach((function(i){switch(i.method){case"GET":n(""+i.url+(function(e){if(e)return"?"+("object"===(void 0===e?"undefined":p(e))?(0,S.parseQueryStringParameters)(e):e);return""})(i.data),{success:e,error:t},void 0,v({method:"GET",withCredentials:!0},i.options));break;case"POST":n(i.url,{success:e,error:t},"string"==typeof i.data?i.data:JSON.stringify(i.data),v({method:"POST",contentType:"text/plain",withCredentials:!0},i.options));break;default:(0,S.logWarn)("Skipping invalid request from "+f.code+". Request type "+i.type+" must be GET or POST"),c()}function e(e,t){try{e=JSON.parse(e)}catch(e){}e={body:e,headers:{get:t.getResponseHeader.bind(t)}},u.push(e);var n=void 0;try{n=f.interpretResponse(e,i)}catch(e){return(0,S.logError)("Bidder "+f.code+" failed to interpret the server's response. Continuing without bids",null,e),void c()}function r(e){var t,n,r=s[e.requestId];if(r){var i=v(m.default.createBid(b.default.STATUS.GOOD,r),e);t=r.adUnitCode,n=i,d[t]=!0,E(t,n,[o])&&a(t,n)}else(0,S.logWarn)("Bidder "+f.code+" made bid for unknown request ID: "+e.requestId+". Ignoring.")}n&&(n.forEach?n.forEach(r):r(n)),c(n)}function t(e){(0,S.logError)("Server call for "+f.code+" failed: "+e+". Continuing without bids."),c()}}))}else i()}else i()}function i(e){var t=(e?e[0]?e:[e]:[]).some((function(e){return"video"===e.mediaType})),n=y.config.getConfig("cache.url");t&&n||r(),h.default.emit(b.default.EVENTS.BIDDER_DONE,o),l(u,o.gdprConsent)}}});function l(e,t){if(f.getUserSyncs){var n=y.config.getConfig("userSync.filterSettings"),r=f.getUserSyncs({iframeEnabled:!!(y.config.getConfig("userSync.iframeEnabled")||n&&(n.iframe||n.all)),pixelEnabled:!!(y.config.getConfig("userSync.pixelEnabled")||n&&(n.image||n.all))},e,t);r&&(Array.isArray(r)||(r=[r]),r.forEach((function(e){o.userSync.registerSync(e.type,f.code,e.url)})))}}function g(e){return!!f.isBidRequestValid(e)||((0,S.logWarn)("Invalid bid sent to bidder "+f.code+": "+JSON.stringify(e)),!1)}}function E(e,t,n){function r(e){return"Invalid bid from "+t.bidderCode+". Ignoring bid: "+e}return e?t?(i=Object.keys(t),f.every((function(e){return(0,u.default)(i,e)}))?"native"!==t.mediaType||(0,a.nativeBidIsValid)(t,n)?"video"!==t.mediaType||(0,d.isValidVideoBid)(t,n)?!("banner"===t.mediaType&&!(function(e,t,n){if((t.width||0===t.width)&&(t.height||0===t.height))return!0;var r=(0,S.getBidderRequest)(n,t.bidderCode,e),i=r&&r.bids&&r.bids[0]&&r.bids[0].sizes,o=(0,S.parseSizesInput)(i);if(1===o.length){var a=o[0].split("x"),d=c(a,2),u=d[0],s=d[1];return t.width=u,t.height=s,!0}return!1})(e,t,n))||((0,S.logError)(r("Banner bids require a width and height")),!1):((0,S.logError)(r("Video bid does not have required vastUrl or renderer property")),!1):((0,S.logError)(r("Native bid missing some required properties.")),!1):((0,S.logError)(r("Bidder "+t.bidderCode+" is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params.")),!1)):((0,S.logWarn)("Some adapter tried to add an undefined bid for "+e+"."),!1):((0,S.logWarn)("No adUnitCode was supplied to addBidResponse."),!1);var i}},10:function(e,t,n){"use strict";var d,r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(0),o=n(4),a=Array.prototype.slice,s=Array.prototype.push,c=u._map(o.EVENTS,(function(e){return e})),f=o.EVENT_ID_PATHS,l=[];e.exports=(d={},(r={}).on=function(e,t,n){if(i=e,u.contains(c,i)){var r=d[e]||{que:[]};n?(r[n]=r[n]||{que:[]},r[n].que.push(t)):r.que.push(t),d[e]=r}else u.logError("Wrong event name : "+e+" Valid event names :"+c);var i},r.emit=function(e){!(function(e,t){u.logMessage("Emitting event for: "+e);var n=t[0]||{},r=n[f[e]],i=d[e]||{que:[]},o=u._map(i,(function(e,t){return t})),a=[];l.push({eventType:e,args:n,id:r}),r&&u.contains(o,r)&&s.apply(a,i[r].que),s.apply(a,i.que),u._each(a,(function(e){if(e)try{e.apply(null,t)}catch(e){u.logError("Error executing handler:","events.js",e)}}))})(e,a.call(arguments,1))},r.off=function(e,n,r){var i=d[e];u.isEmpty(i)||u.isEmpty(i.que)&&u.isEmpty(i[r])||r&&(u.isEmpty(i[r])||u.isEmpty(i[r].que))||(r?u._each(i[r].que,(function(e){var t=i[r].que;e===n&&t.splice(u.indexOf.call(t,e),1)})):u._each(i.que,(function(e){var t=i.que;e===n&&t.splice(u.indexOf.call(t,e),1)})),d[e]=i)},r.get=function(){return d},r.getEvents=function(){var n=[];return u._each(l,(function(e){var t=i({},e);n.push(t)})),n},r)},103:function(e,t,n){"use strict";var r=n(14),i=n(34)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(27)(o)},11:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return(function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,d=e[Symbol.iterator]();!(r=(a=d.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(i)throw o;}}return n})(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance");};function i(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,t){var n=t.split("="),r=a(n,2),i=r[0],o=r[1];return/\[\]$/.test(i)?(e[i=i.replace("[]","")]=e[i]||[],e[i].push(o)):e[i]=o||"",e}),{}):{}}function r(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return t+"[]="+e})).join("&"):t+"="+e[t]})).join("&")}t.parseQS=i,t.formatQS=r,t.parse=function(e,t){var n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var r=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:r?n.search:i(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}},t.format=function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":"+e.port:""))+(e.pathname||"")+(e.search?"?"+r(e.search||""):"")+(e.hash?"#"+e.hash:"")}},12:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=r;var d=n(22),u=(function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}})(n(0));function r(e){var t=this,n=e.url,r=e.config,i=e.id,o=e.callback,a=e.loaded;this.url=n,this.config=r,this.handlers={},this.id=i,this.loaded=a,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):u.logError("Commands given to Renderer.push must be wrapped in a function")},this.callback=o||function(){t.loaded=!0,t.process()},(0,d.loadScript)(n,this.callback,!0)}r.install=function(e){return new r({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded})},r.prototype.getConfig=function(){return this.config},r.prototype.setRender=function(e){this.render=e},r.prototype.setEventHandlers=function(e){this.handlers=e},r.prototype.handleVideoEvent=function(e){var t=e.id,n=e.eventName;"function"==typeof this.handlers[n]&&this.handlers[n](),u.logMessage("Prebid Renderer event for id "+t+" type "+n)},r.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(e){u.logError("Error processing Renderer command: ",e)}}},13:function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},14:function(e,t,n){var v=n(19),y=n(13),m=n(32),b=n(46),h=n(53),S="prototype",E=function(e,t,n){var r,i,o,a=e&E.F,d=e&E.G,u=e&E.S,s=e&E.P,c=e&E.B,f=e&E.W,l=d?y:y[t]||(y[t]={}),g=l[S],p=d?v:u?v[t]:(v[t]||{})[S];for(r in d&&(n=t),n)(i=!a&&p&&void 0!==p[r])&&h(l,r)||(o=i?p[r]:n[r],l[r]=d&&"function"!=typeof p[r]?n[r]:c&&i?m(o,v):f&&p[r]==o?(function(r){var e=function(e,t,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,t)}return new r(e,t,n)}return r.apply(this,arguments)};return e[S]=r[S],e})(o):s&&"function"==typeof o?m(Function.call,o):o,s&&((l.virtual||(l.virtual={}))[r]=o,e&E.R&&g&&!g[r]&&b(g,r,o)))};E.F=1,E.G=2,E.S=4,E.P=8,E.B=16,E.W=32,E.U=64,E.R=128,e.exports=E},15:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},16:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userSync=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return(function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,d=e[Symbol.iterator]();!(r=(a=d.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(i)throw o;}}return n})(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance");},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.newUserSync=a;var r,c=(function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}})(n(0)),f=n(3),o=n(5),l=(r=o)&&r.__esModule?r:{default:r};function a(e){var t={},o={image:[],iframe:[]},n=!1,a={},d={image:!1,iframe:!1},u=e.config;function r(){if(u.syncEnabled&&e.browserSupportsCookies&&!n){try{!(function(){if(!u.pixelEnabled&&!d.image)return;c.shuffle(o.image).forEach((function(e){var t=i(e,2),n=t[0],r=t[1];c.logMessage("Invoking image pixel user sync for bidder: "+n),c.triggerPixel(r)}))})(),(function(){if(!u.iframeEnabled&&!d.iframe)return;c.shuffle(o.iframe).forEach((function(e){var t=i(e,2),n=t[0],r=t[1];c.logMessage("Invoking iframe user sync for bidder: "+n),c.insertUserSyncIframe(r)}))})()}catch(e){return c.logError("Error firing user syncs",e)}o={image:[],iframe:[]},n=!0}}return f.config.getConfig("userSync",(function(e){u=s(u,e.userSync)})),t.registerSync=function(e,t,n){if(!u.syncEnabled||!c.isArray(o[e]))return c.logWarn('User sync type "'+e+'" not supported');if(!t)return c.logWarn("Bidder is required for registering sync");if(Number(a[t])>=u.syncsPerBidder)return c.logWarn('Number of user syncs exceeded for "'+t+'"');if(u.filterSettings){if(function(e,t){var n=u.filterSettings;if(function(e,t){if(e.all&&e[t])return c.logWarn('Detected presence of the "filterSettings.all" and "filterSettings.'+t+'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.'),!1;var n=e.all?e.all:e[t],r=e.all?"all":t;if(!n)return!1;var i=n.filter,o=n.bidders;if(i&&"include"!==i&&"exclude"!==i)return c.logWarn('UserSync "filterSettings.'+r+".filter\" setting '"+i+"' is not a valid option; use either 'include' or 'exclude'."),!1;if("*"!==o&&!(Array.isArray(o)&&0<o.length&&o.every((function(e){return c.isStr(e)&&"*"!==e}))))return c.logWarn('Detected an invalid setup in userSync "filterSettings.'+r+".bidders\"; use either '*' (to represent all bidders) or an array of bidders."),!1;return!0}(n,e)){d[e]=!0;var r=n.all?n.all:n[e],i="*"===r.bidders?[t]:r.bidders,o=r.filter||"include",a={include:function(e,t){return!(0,l.default)(e,t)},exclude:function(e,t){return(0,l.default)(e,t)}};return a[o](i,t)}return!1}(e,t))return c.logWarn("Bidder '"+t+"' is not permitted to register their userSync "+e+" pixels as per filterSettings config.")}else if(u.enabledBidders&&u.enabledBidders.length&&u.enabledBidders.indexOf(t)<0)return c.logWarn('Bidder "'+t+'" not permitted to register their userSync pixels.');var r,i;o[e].push([t,n]),(r=a)[i=t]?r[i]+=1:r[i]=1,a=r},t.syncUsers=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(r,Number(e));r()},t.triggerUserSyncs=function(){u.enableOverride&&t.syncUsers()},t}f.config.setDefaults({userSync:{syncEnabled:!0,pixelEnabled:!0,syncsPerBidder:5,syncDelay:3e3}});var d=!c.isSafariBrowser()&&c.cookiesAreEnabled();t.userSync=a({config:f.config.getConfig("userSync"),browserSupportsCookies:d})},17:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasNonNativeBidder=t.nativeBidder=t.nativeAdUnit=t.NATIVE_TARGETING_KEYS=t.NATIVE_KEYS=t.nativeAdapters=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.processNativeAdUnitParams=function(e){if(e&&e.type&&(function(e){if(!e||!(0,d.default)(Object.keys(c),e))return(0,a.logError)(e+" nativeParam is not supported"),!1;return!0})(e.type))return c[e.type];return e},t.nativeBidIsValid=function(t,e){var n=(0,a.getBidRequest)(t.adId,e);if(!n)return!1;if(!(0,a.deepAccess)(t,"native.clickUrl"))return!1;if((0,a.deepAccess)(t,"native.image")&&(!(0,a.deepAccess)(t,"native.image.height")||!(0,a.deepAccess)(t,"native.image.width")))return!1;if((0,a.deepAccess)(t,"native.icon")&&(!(0,a.deepAccess)(t,"native.icon.height")||!(0,a.deepAccess)(t,"native.icon.width")))return!1;var r=n.nativeParams;if(!r)return!0;var i=Object.keys(r).filter((function(e){return r[e].required})),o=Object.keys(t.native).filter((function(e){return t.native[e]}));return i.every((function(e){return(0,d.default)(o,e)}))},t.fireNativeTrackers=function(e,t){var n=void 0;"click"===e.action?n=t.native&&t.native.clickTrackers:(n=t.native&&t.native.impressionTrackers,t.native&&t.native.javascriptTrackers&&(0,a.insertHtmlIntoIframe)(t.native.javascriptTrackers));(n||[]).forEach(a.triggerPixel)},t.getNativeTargeting=function(r){var i={};return Object.keys(r.native).forEach((function(e){var t=s[e],n=r.native[e];"object"===(void 0===n?"undefined":o(n))&&n.url&&(n=n.url),t&&(i[t]=n)})),i};var r,a=n(0),i=n(5),d=(r=i)&&r.__esModule?r:{default:r};var u=t.nativeAdapters=[],s=t.NATIVE_KEYS={title:"hb_native_title",body:"hb_native_body",sponsoredBy:"hb_native_brand",image:"hb_native_image",icon:"hb_native_icon",clickUrl:"hb_native_linkurl",cta:"hb_native_cta"},c=(t.NATIVE_TARGETING_KEYS=Object.keys(s).map((function(e){return s[e]})),{image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}});t.nativeAdUnit=function(e){var t="native"===e.mediaType,n=(0,a.deepAccess)(e,"mediaTypes.native");return t||n};var f=t.nativeBidder=function(e){return(0,d.default)(u,e.bidder)};t.hasNonNativeBidder=function(e){return e.bids.filter((function(e){return!f(e)})).length}},18:function(e,t,n){"use strict";var o=n(0);function r(e,t){var n=t&&t.bidId||o.getUniqueIdentifierStr(),r=t&&t.src||"client",i=e||0;this.bidderCode=t&&t.bidder||"",this.width=0,this.height=0,this.statusMessage=(function(){switch(i){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}})(),this.adId=n,this.mediaType="banner",this.source=r,this.getStatusCode=function(){return i},this.getSize=function(){return this.width+"x"+this.height}}t.createBid=function(e,t){return new r(e,t)}},19:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},193:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.store=function(e,t){var n={puts:e.map(a)};(0,i.ajax)(o.config.getConfig("cache.url"),(r=t,{success:function(e){var t=void 0;try{t=JSON.parse(e).responses}catch(e){return void r(e,[])}t?r(null,t):r(new Error("The cache server didn't respond with a responses property."),[])},error:function(e,t){r(new Error("Error storing video ad in the cache: "+e+": "+JSON.stringify(t)),[])}}),JSON.stringify(n),{contentType:"text/plain",withCredentials:!0});var r},t.getCacheUrl=function(e){return o.config.getConfig("cache.url")+"?uuid="+e};var i=n(7),o=n(3);function a(e){var t,n;return{type:"xml",value:e.vastXml?e.vastXml:(t=e.vastUrl,n=e.vastImpUrl,'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['+t+"]]></VASTAdTagURI>\n        <Impression>"+(n?"<![CDATA["+n+"]]>":"")+"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")}}},2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NATIVE="native",t.VIDEO="video",t.BANNER="banner"},20:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.createHook=function(r,i,e){var d=[{fn:i,priority:0}],o={sync:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];d.forEach((function(e){e.fn.apply(t,n)}))},asyncSeries:function(){for(var o=this,e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=0;return d[a].fn.apply(this,t.concat((function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=d[++a];if("object"===(void 0===i?"undefined":u(i))&&"function"==typeof i.fn)return i.fn.apply(o,n.concat(e))})))}};if(!o[r])throw"invalid hook type";var t={addHook:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;"function"==typeof e&&(d.push({fn:e,priority:t}),d.sort((function(e,t){return t.priority-e.priority})))},removeHook:function(t){d=d.filter((function(e){return e.fn===i||e.fn!==t}))},hasHook:function(t){return d.some((function(e){return e.fn===t}))}};"string"==typeof e&&(s[e]=t);return a((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===d.length&&d[0].fn===i)return i.apply(this,t);return o[r].apply(this,t)}),t)};var s=t.hooks={}},21:function(e,t,n){n(103),e.exports=n(13).Array.findIndex},22:function(e,t,n){"use strict";var r,i=n(5),o=(r=i)&&r.__esModule?r:{default:r},a=(function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}})(n(0));var d={},u=["criteo"];function s(e,t){var n=document.createElement("script");n.type="text/javascript",n.async=!0,t&&"function"==typeof t&&(n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()}),n.src=e;var r=document.getElementsByTagName("head");(r=r.length?r:document.getElementsByTagName("body")).length&&(r=r[0]).insertBefore(n,r.firstChild)}t.loadExternalScript=function(e,t){if(t&&e)if((0,o.default)(u,t)){if(!d[e]){a.logWarn("module "+t+" is loading external JavaScript");var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,a.insertElement(n),d[e]=!0}}else a.logError(t+" not whitelisted for loading external JavaScript");else a.logError("cannot load external script without url and moduleCode")},t.loadScript=function(t,e,n){t?n?d[t]?e&&"function"==typeof e&&(d[t].loaded?e():d[t].callbacks.push(e)):(d[t]={loaded:!1,callbacks:[]},e&&"function"==typeof e&&d[t].callbacks.push(e),s(t,(function(){d[t].loaded=!0;try{for(var e=0;e<d[t].callbacks.length;e++)d[t].callbacks[e]()}catch(e){a.logError("Error executing callback","adloader.js:loadScript",e)}}))):s(t,e):a.logError("Error attempting to request empty URL","adloader.js:loadScript")}},23:function(e,t,n){e.exports=!n(33)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},24:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},25:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},26:function(e,t,n){var r=n(57)("wks"),i=n(59),o=n(19).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},27:function(e,t){e.exports=function(){}},28:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}},29:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.auctionManager=void 0,t.newAuctionManager=u;var r,i=n(0),s=n(41),o=n(9),a=(r=o)&&r.__esModule?r:{default:r};var d=n(4);function u(){var u=[],r={};return r.addWinningBid=function(t){var e=(0,a.default)(u,(function(e){return e.getAuctionId()===t.auctionId}));e?e.addWinningBid(t):utils.logWarn("Auction not found when adding winning bid")},r.getAllWinningBids=function(){return u.map((function(e){return e.getWinningBids()})).reduce(i.flatten,[])},r.getBidsRequested=function(){return u.map((function(e){return e.getBidRequests()})).reduce(i.flatten,[])},r.getBidsReceived=function(){return u.map((function(e){if(e.getAuctionStatus()===s.AUCTION_COMPLETED)return e.getBidsReceived()})).reduce(i.flatten,[]).filter((function(e){return e}))},r.getAdUnits=function(){return u.map((function(e){return e.getAdUnits()})).reduce(i.flatten,[])},r.getAdUnitCodes=function(){return u.map((function(e){return e.getAdUnitCodes()})).reduce(i.flatten,[]).filter(i.uniques)},r.createAuction=function(e){var t,n=e.adUnits,r=e.adUnitCodes,i=e.callback,o=e.cbTimeout,a=e.labels,d=(0,s.newAuction)({adUnits:n,adUnitCodes:r,callback:i,cbTimeout:o,labels:a});return t=d,u.push(t),d},r.findBidByAdId=function(t){return(0,a.default)(u.map((function(e){return e.getBidsReceived()})).reduce(i.flatten,[]),(function(e){return e.adId===t}))},r.getStandardBidderAdServerTargeting=function(){return(0,s.getStandardBidderSettings)()[d.JSON_MAPPING.ADSERVER_TARGETING]},r.setStatusForBids=function(e,t){var n=r.findBidByAdId(e);n&&(n.status=t)},r}t.auctionManager=u()},3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.RANDOM=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.newConfig=d;var r=n(31),c=o(n(9)),f=o(n(5)),i=n(20);function o(e){return e&&e.__esModule?e:{default:e}}var l=n(0),g=!1,p=3e3,v=window.location.origin,y=100,m=!0,b=!1,h=200,a=t.RANDOM="random",S={};S[a]=!0,S.fixed=!0;var E=a,A={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},T="*";function d(){var o=[],a=void 0,d=void 0;function e(){function i(t){return(0,c.default)(Object.keys(A),(function(e){return t===A[e]}))}function o(e){if(!e)return l.logError("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)i(e)||l.logWarn("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if("object"===(void 0===e?"undefined":s(e))&&!(0,r.isValidPriceConfig)(e))return l.logError("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}a={},d={_debug:g,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:p,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:v,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){this._publisherDomain=e},_cookieSyncDelay:y,get cookieSyncDelay(){return pbjs.cookieSyncDelay||this._cookieSyncDelay},set cookieSyncDelay(e){this._cookieSyncDelay=e},_priceGranularity:A.MEDIUM,set priceGranularity(e){o(e)&&("string"==typeof e?this._priceGranularity=i(e)?e:A.MEDIUM:"object"===(void 0===e?"undefined":s(e))&&(this._customPriceBucket=e,this._priceGranularity=A.CUSTOM,l.logMessage("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(n){var r=this;this._mediaTypePriceGranularity=Object.keys(n).reduce((function(e,t){return o(n[t])?"string"==typeof n?e[t]=i(n[t])?n[t]:r._priceGranularity:"object"===(void 0===n?"undefined":s(n))&&(e[t]=n[t],l.logMessage("Using custom price granularity for "+t)):l.logWarn("Invalid price granularity for media type: "+t),e}),{})},_sendAllBids:m,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_bidderSequence:E,get bidderSequence(){return this._bidderSequence},set bidderSequence(e){S[e]?this._bidderSequence=e:l.logWarn("Invalid order: "+e+". Bidder Sequence was not set.")},_timoutBuffer:h,get timeoutBuffer(){return this._timoutBuffer},set timeoutBuffer(e){this._timoutBuffer=e},_disableAjaxTimeout:b,get disableAjaxTimeout(){return this._disableAjaxTimeout},set disableAjaxTimeout(e){this._disableAjaxTimeout=e}}}var t=(0,i.createHook)("asyncSeries",(function(n){if("object"===(void 0===n?"undefined":s(n))){var i,t,e=Object.keys(n),r={};e.forEach((function(e){var t=n[e];"object"===s(a[e])&&"object"===(void 0===t?"undefined":s(t))&&(t=u({},a[e],t)),r[e]=d[e]=t})),i=r,t=Object.keys(i),o.filter((function(e){return(0,f.default)(t,e.topic)})).forEach((function(e){var t,n,r;e.callback((t={},n=e.topic,r=i[e.topic],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))})),o.filter((function(e){return e.topic===T})).forEach((function(e){return e.callback(i)}))}else l.logError("setConfig options must be an object")}));return e(),{getConfig:function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0];return e?l.deepAccess(d,e):d}return function(e,t){var n=t;if("string"!=typeof e&&(n=e,e=T),"function"==typeof n)return o.push({topic:e,callback:n}),function(){o.splice(o.indexOf(t),1)};l.logError("listener must be a function")}.apply(void 0,arguments)},setConfig:t,setDefaults:function(e){"object"===(void 0===a?"undefined":s(a))?(u(a,e),u(d,e)):l.logError("defaults must be an object")},resetConfig:e}}t.config=d()},30:function(ks,ls){var ms;ms=(function(){return this})();try{ms=ms||Function("return this")()||eval("this")}catch(e){"object"==typeof window&&(ms=window)}ks.exports=ms},31:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidPriceConfig=t.getPriceBucketString=void 0;var r,i=n(9),v=(r=i)&&r.__esModule?r:{default:r};var o=n(0),y=2,a={buckets:[{min:0,max:5,increment:.5}]},d={buckets:[{min:0,max:20,increment:.1}]},u={buckets:[{min:0,max:20,increment:.01}]},s={buckets:[{min:0,max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}]},c={buckets:[{min:0,max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}]};function f(n,e,r){var i="";if(!m(e))return i;var t,o,a,d,u,s,c,f,l,g=e.buckets.reduce((function(e,t){return e.max>t.max?e:t}),{max:0}),p=(0,v.default)(e.buckets,(function(e){if(n>g.max*r){var t=e.precision;void 0===t&&(t=y),i=(e.max*r).toFixed(t)}else if(n<=e.max*r&&n>=e.min*r)return e}));return p&&(t=n,a=r,d=void 0!==(o=p).precision?o.precision:y,u=o.increment*a,s=o.min*a,c=Math.pow(10,d+2),f=(t*c-s*c)/(u*c),l=Math.floor(f)*u+s,i=(l=Number(l.toFixed(10))).toFixed(d)),i}function m(e){if(o.isEmpty(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((function(e){void 0!==e.min&&e.max&&e.increment||(t=!1)})),t}t.getPriceBucketString=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=parseFloat(e);return isNaN(r)&&(r=""),{low:""===r?"":f(e,a,n),med:""===r?"":f(e,d,n),high:""===r?"":f(e,u,n),auto:""===r?"":f(e,c,n),dense:""===r?"":f(e,s,n),custom:""===r?"":f(e,t,n)}},t.isValidPriceConfig=m},32:function(e,t,n){var o=n(45);e.exports=function(r,i,e){if(o(r),void 0===i)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},33:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},34:function(e,t,n){var h=n(32),S=n(35),E=n(54),A=n(36),r=n(55);e.exports=function(f,e){var l=1==f,g=2==f,p=3==f,v=4==f,y=6==f,m=5==f||y,b=e||r;return function(e,t,n){for(var r,i,o=E(e),a=S(o),d=h(t,n,3),u=A(a.length),s=0,c=l?b(e,u):g?b(e,0):void 0;s<u;s++)if((m||s in a)&&(i=d(r=a[s],s,o),f))if(l)c[s]=i;else if(i)switch(f){case 3:return!0;case 5:return r;case 6:return s;case 2:c.push(r)}else if(v)return!1;return y?-1:p||v?v:c}}},35:function(e,t,n){var r=n(24);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},36:function(e,t,n){var r=n(37),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},37:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},38:function(e,t,n){var r=n(24);e.exports=Array.isArray||function(e){return"Array"==r(e)}},39:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobal=function(){return window.pbjs},window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[]},4:function(e,t){e.exports={JSON_MAPPING:{PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},REPO_AND_VERSION:"prebid_prebid_1.18.0",DEBUG_MODE:"pbjs_debug",STATUS:{GOOD:1,NO_BID:2},CB:{TYPE:{ALL_BIDS_BACK:"allRequestedBidsBack",AD_UNIT_BIDS_BACK:"adUnitBidsBack",BID_WON:"bidWon",REQUEST_BIDS:"requestBids"}},EVENTS:{AUCTION_INIT:"auctionInit",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",BID_WON:"bidWon",BIDDER_DONE:"bidderDone",SET_TARGETING:"setTargeting",REQUEST_BIDS:"requestBids",ADD_AD_UNITS:"addAdUnits",AD_RENDER_FAILED:"adRenderFailed"},AD_RENDER_FAILED_REASON:{PREVENT_WRITING_ON_MAIN_DOCUMENT:"preventWritingOnMainDocuemnt",NO_AD:"noAd",EXCEPTION:"exception",CANNOT_FIND_AD:"cannotFindAd",MISSING_DOC_OR_ADID:"missingDocOrAdid"},EVENT_ID_PATHS:{bidWon:"adUnitCode"},GRANULARITY_OPTIONS:{LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},TARGETING_KEYS:["hb_bidder","hb_adid","hb_pb","hb_size","hb_deal","hb_source","hb_format"],S2S:{SRC:"s2s",DEFAULT_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",SYNCED_BIDDERS_KEY:"pbjsSyncs"}}},40:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targeting=t.isBidNotExpired=t.RENDERED=t.BID_TARGETING_SET=void 0;var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getHighestCpmBidsFromBidPool=B,t.newTargeting=c;var r,S=n(0),E=n(3),A=n(17),i=n(29),o=n(5),T=(r=o)&&r.__esModule?r:{default:r};function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=n(0),w=n(4),C=[],a=t.BID_TARGETING_SET="targetingSet",d=t.RENDERED="rendered",O=20,u=(t.isBidNotExpired=function(e){return e.responseTimestamp+1e3*e.ttl+1e3>(0,S.timestamp)()},function(e){return e&&(e.status&&!(0,T.default)([a,d],e.status)||!e.status)});function B(e,n){var r=[],i=(0,S.groupBy)(e,"adUnitCode");return Object.keys(i).forEach((function(e){var t=(0,S.groupBy)(i[e],"bidderCode");Object.keys(t).forEach((function(e){return r.push(t[e].reduce(n,s()))}))})),r}function s(e){return{adUnitCode:e,cpm:0,adserverTargeting:{},timeToRespond:0}}function c(n){var g={};function p(e){return"string"==typeof e?[e]:_.isArray(e)?e:n.getAdUnitCodes()||[]}function v(){return B(n.getBidsReceived().filter(u).filter(t.isBidNotExpired),S.getOldestHighestCpmBid)}function y(){return n.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(w.TARGETING_KEYS).filter(S.uniques)}function m(r,i,e,t){return Object.keys(i.adserverTargeting).filter(o()).forEach((function(e){var t,n;r.length&&r.filter((n=e,function(e){return e.adUnitCode===i.adUnitCode&&e.adserverTargeting[n]})).forEach((t=e,function(e){_.isArray(e.adserverTargeting[t])||(e.adserverTargeting[t]=[e.adserverTargeting[t]]),e.adserverTargeting[t]=e.adserverTargeting[t].concat(i.adserverTargeting[t]).filter(S.uniques),delete i.adserverTargeting[t]}))})),r.push(i),r}function o(){var t=y();return function(e){return-1===t.indexOf(e)}}function b(t){return I({},t.adUnitCode,Object.keys(t.adserverTargeting).filter(o()).map((function(e){return I({},e.substring(0,O),[t.adserverTargeting[e]])})))}return g.resetPresetTargeting=function(e){if((0,S.isGptPubadsDefined)()){var t=p(e),r=n.getAdUnits().filter((function(e){return(0,T.default)(t,e.code)}));window.googletag.pubads().getSlots().forEach((function(n){C.forEach((function(t){r.forEach((function(e){e.code!==n.getAdUnitPath()&&e.code!==n.getSlotElementId()||n.setTargeting(t,null)}))}))}))}},g.getAllTargeting=function(e){var r,t,i,n,o,a,d,u,s,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:v(),f=p(e),l=(a=f,d=c,u=g.getWinningBids(a,d),s=y(),u=u.map((function(t){return I({},t.adUnitCode,Object.keys(t.adserverTargeting).filter((function(e){return void 0===t.sendStandardTargeting||t.sendStandardTargeting||-1===s.indexOf(e)})).map((function(e){return I({},"hb_deal"===e?(e+"_"+t.bidderCode).substring(0,O):e.substring(0,O),[t.adserverTargeting[e]])})))}))).concat((n=f,o=c,o.filter((function(e){return(0,T.default)(n,e.adUnitCode)})).map((function(e){return h({},e)})).reduce(m,[]).map(b).filter((function(e){return e})))).concat(E.config.getConfig("enableSendAllBids")?(r=f,t=c,i=w.TARGETING_KEYS.concat(A.NATIVE_TARGETING_KEYS),B(t,S.getHighestCpm).map((function(t){if(t.adserverTargeting&&r&&(_.isArray(r)&&(0,T.default)(r,t.adUnitCode)||"string"==typeof r&&t.adUnitCode===r))return I({},t.adUnitCode,(n=t,i.filter((function(e){return void 0!==t.adserverTargeting[e]})).map((function(e){return I({},(e+"_"+n.bidderCode).substring(0,O),[n.adserverTargeting[e]])}))));var n})).filter((function(e){return e}))):[]);return l.map((function(t){Object.keys(t).map((function(e){t[e].map((function(e){-1===C.indexOf(Object.keys(e)[0])&&(C=Object.keys(e).concat(C))}))}))})),l=l.map((function(e){return I({},Object.keys(e)[0],e[Object.keys(e)[0]].map((function(e){return I({},Object.keys(e)[0],e[Object.keys(e)[0]].join(", "))})).reduce((function(e,t){return h(t,e)}),{}))})).reduce((function(e,t){var n=Object.keys(t)[0];return e[n]=h({},e[n],t[n]),e}),{}),f.forEach((function(e){l[e]||(l[e]={})})),l},g.setTargetingForGPT=function(i,e){window.googletag.pubads().getSlots().forEach((function(r){Object.keys(i).filter(e?e(r):(0,S.isAdUnitCodeMatchingSlot)(r)).forEach((function(n){return Object.keys(i[n]).forEach((function(t){var e=i[n][t].split(",");(e=1<e.length?[e]:e).map((function(e){return _.logMessage("Attempting to set key value for slot: "+r.getSlotElementId()+" key: "+t+" value: "+e),e})).forEach((function(e){r.setTargeting(t,e)}))}))}))}))},g.getWinningBids=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:v(),t=p(e);return n.filter((function(e){return(0,T.default)(t,e.adUnitCode)})).filter((function(e){return 0<e.cpm})).map((function(e){return e.adUnitCode})).filter(S.uniques).map((function(t){return n.filter((function(e){return e.adUnitCode===t?e:null})).reduce(S.getHighestCpm,s(t))}))},g.setTargetingForAst=function(){var r=g.getAllTargeting();Object.keys(r).forEach((function(n){return Object.keys(r[n]).forEach((function(e){if(_.logMessage("Attempting to set targeting for targetId: "+n+" key: "+e+" value: "+r[n][e]),_.isStr(r[n][e])||_.isArray(r[n][e])){var t={};e.search(/pt[0-9]/)<0?t[e.toUpperCase()]=r[n][e]:t[e]=r[n][e],window.apntag.setKeywords(n,t)}}))}))},g.isApntagDefined=function(){if(window.apntag&&_.isFn(window.apntag.setKeywords))return!0},g}t.targeting=c(i.auctionManager)},41:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addBidResponse=t.AUCTION_COMPLETED=t.AUCTION_IN_PROGRESS=t.AUCTION_STARTED=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.newAuction=function(e){var f=e.adUnits,t=e.adUnitCodes,n=e.callback,r=e.cbTimeout,i=e.labels,u=f,s=i,l=t,g=[],p=[],c=void 0,v=C.generateUUID(),y=void 0,m=n,b=void 0,h=r,o=[];function S(e,t){if(t&&clearTimeout(b),null!=m){var n=[];e&&(C.logMessage("Auction "+v+" timedOut"),d=p,u=(a=g).filter((function(e){return!e.doneCbCallCount})).map((function(e){return e.bidderCode})).filter(A.uniques),s=d.map((function(e){return e.bidder})).filter(A.uniques),c=u.filter((function(e){return!(0,_.default)(s,e)})),(n=a.map((function(e){return(e.bids||[]).filter((function(e){return(0,_.default)(c,e.bidder)}))})).reduce(A.flatten,[]).map((function(e){return{bidId:e.bidId,bidder:e.bidder,adUnitCode:e.adUnitCode,auctionId:e.auctionId}}))).length&&B.emit(R.EVENTS.BID_TIMEOUT,n)),B.emit(R.EVENTS.AUCTION_END,{auctionId:v});try{y=j;var r=l,i=p.filter(A.adUnitsFilter.bind(this,r)).reduce(q,{});m.apply(pbjs,[i,e])}catch(e){C.logError("Error executing bidsBackHandler",null,e)}finally{n.length&&O.callTimedOutBidders(f,n,h);var o=T.config.getConfig("userSync")||{};o.enableOverride||w(o.syncDelay)}m=null}var a,d,u,s,c}function E(){g.every((function(e){return 1<=e.doneCbCallCount}))&&(C.logInfo("Bids Received for Auction with id: "+v,p),y=j,S(!1,!0))}return{addBidReceived:function(e){p=p.concat(e)},executeCallback:S,callBids:function(){var r=this;y=N,c=Date.now();var i=O.makeBidRequests(u,c,v,h,s);C.logInfo("Bids Requested for Auction with id: "+v,i),i.forEach((function(e){var t;t=e,g=g.concat(t)}));var o={},e={bidRequests:i,run:function(){var e,t;e=S.bind(null,!0),t=setTimeout(e,h),b=t,y=U;var n={timestamp:c,auctionId:v,timeout:h};B.emit(R.EVENTS.AUCTION_INIT,n),O.callBids(u,i,M.bind(r),function(e){var t=e;return(0,A.delayExecution)((function(){var e=(0,I.default)(g,(function(e){return t===e.bidderRequestId}));e.doneCbCallCount+=1,E()}),1)}.bind(r),{request:function(e,t){d(P,t),d(o,e),k[e]||(k[e]={SRA:!0,origin:t}),1<o[e]&&(k[e].SRA=!1)},done:function(e){P[e]--,x[0]&&a(x[0])&&x.shift()}},h)}};a(e)||(C.logWarn("queueing auction due to limited endpoint capacity"),x.push(e));function a(e){var r=!0,i=T.config.getConfig("maxRequestsPerOrigin")||D;return e.bidRequests.some((function(e){var t=1,n=void 0!==e.src&&e.src===R.S2S.SRC?"s2s":e.bidderCode;return k[n]&&(!1===k[n].SRA&&(t=Math.min(e.bids.length,i)),P[k[n].origin]+t>i&&(r=!1)),!r})),r&&e.run(),r}function d(e,t){void 0===e[t]?e[t]=1:e[t]++}},bidsBackAll:E,addWinningBid:function(e){o=o.concat(e),O.callBidWonBidder(e.bidder,e)},getWinningBids:function(){return o},getTimeout:function(){return h},getAuctionId:function(){return v},getAuctionStatus:function(){return y},getAdUnits:function(){return u},getAdUnitCodes:function(){return l},getBidRequests:function(){return g},getBidsReceived:function(){return p}}},t.getStandardBidderSettings=d,t.getKeyValueTargetingPairs=m,t.adjustBids=s;var A=n(0),p=n(31),i=n(17),c=n(193),v=n(12),T=n(3),r=n(16),o=n(20),I=a(n(9)),_=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}var w=r.userSync.syncUsers,C=n(0),O=n(8),B=n(10),R=n(4),N=t.AUCTION_STARTED="started",U=t.AUCTION_IN_PROGRESS="inProgress",j=t.AUCTION_COMPLETED="completed";B.on(R.EVENTS.BID_ADJUSTMENT,(function(e){s(e)}));var D=4,P={},k={},x=[];function f(e,t){t.timeToRespond>e.getTimeout()+T.config.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function y(e,t){B.emit(R.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),f(e,t)}var M=t.addBidResponse=(0,o.createHook)("asyncSeries",(function(e,t){var n,r,i,o,a=this.getBidRequests(),d=this.getAuctionId(),u=(0,A.getBidderRequest)(a,t.bidderCode,e),s=(function(e){var t=e.adUnitCode,n=e.bid,r=e.bidRequest,i=e.auctionId,o=r.start,a=g({},n,{auctionId:i,responseTimestamp:(0,A.timestamp)(),requestTimestamp:o,cpm:parseFloat(n.cpm)||0,bidder:n.bidderCode,adUnitCode:t});a.timeToRespond=a.responseTimestamp-a.requestTimestamp,B.emit(R.EVENTS.BID_ADJUSTMENT,a);var d=r.bids&&(0,I.default)(r.bids,(function(e){return e.adUnitCode==t})),u=d&&d.renderer;u&&u.url&&(a.renderer=v.Renderer.install({url:u.url}),a.renderer.setRender(u.render));var s,c=T.config.getConfig("mediaTypePriceGranularity."+n.mediaType),f=(0,p.getPriceBucketString)(a.cpm,"object"===(void 0===c?"undefined":l(c))?c:T.config.getConfig("customPriceBucket"),T.config.getConfig("currency.granularityMultiplier"));a.pbLg=f.low,a.pbMg=f.med,a.pbHg=f.high,a.pbAg=f.auto,a.pbDg=f.dense,a.pbCg=f.custom,a.bidderCode&&(0<a.cpm||a.dealId)&&(s=m(a.bidderCode,a));return a.adserverTargeting=g(a.adserverTargeting||{},s),a})({adUnitCode:e,bid:t,bidRequest:u,auctionId:d});"video"===s.mediaType?(n=this,r=s,i=u,o=!0,T.config.getConfig("cache.url")&&(r.videoCacheKey?r.vastUrl||(C.logError("videoCacheKey specified but not required vastUrl for video bid"),o=!1):(o=!1,(0,c.store)([r],(function(e,t){e?(C.logWarn("Failed to save to the video cache: "+e+". Video bid must be discarded."),f(n,r)):(r.videoCacheKey=t[0].uuid,r.vastUrl||(r.vastUrl=(0,c.getCacheUrl)(r.videoCacheKey)),i.doneCbCallCount+=1,y(n,r),n.bidsBackAll())})))),o&&y(n,r)):y(this,s)}),"addBidResponse");function d(e){var t=T.config.getConfig("mediaTypePriceGranularity."+e),n="string"==typeof e&&t?"string"==typeof t?t:"custom":T.config.getConfig("priceGranularity"),r=pbjs.bidderSettings;return r[R.JSON_MAPPING.BD_SETTING_STANDARD]||(r[R.JSON_MAPPING.BD_SETTING_STANDARD]={}),r[R.JSON_MAPPING.BD_SETTING_STANDARD][R.JSON_MAPPING.ADSERVER_TARGETING]||(r[R.JSON_MAPPING.BD_SETTING_STANDARD][R.JSON_MAPPING.ADSERVER_TARGETING]=[{key:"hb_bidder",val:function(e){return e.bidderCode}},{key:"hb_adid",val:function(e){return e.adId}},{key:"hb_pb",val:function(e){return n===R.GRANULARITY_OPTIONS.AUTO?e.pbAg:n===R.GRANULARITY_OPTIONS.DENSE?e.pbDg:n===R.GRANULARITY_OPTIONS.LOW?e.pbLg:n===R.GRANULARITY_OPTIONS.MEDIUM?e.pbMg:n===R.GRANULARITY_OPTIONS.HIGH?e.pbHg:n===R.GRANULARITY_OPTIONS.CUSTOM?e.pbCg:void 0}},{key:"hb_size",val:function(e){return e.size}},{key:"hb_deal",val:function(e){return e.dealId}},{key:"hb_source",val:function(bidResponse){return bidResponse.appnexus.buyerMemberId==8618?"direct":"rtb"}},{key:"hb_format",val:function(e){return e.mediaType}}]),r[R.JSON_MAPPING.BD_SETTING_STANDARD]}function m(e,t){if(!t)return{};var n={},r=pbjs.bidderSettings;r&&(u(n,d(t.mediaType),t),e&&r[e]&&r[e][R.JSON_MAPPING.ADSERVER_TARGETING]&&(u(n,r[e],t),t.sendStandardTargeting=r[e].sendStandardTargeting));return t.native&&(n=g({},n,(0,i.getNativeTargeting)(t))),n}function u(r,i,o){var e=i[R.JSON_MAPPING.ADSERVER_TARGETING];return o.size=o.getSize(),C._each(e,(function(e){var t=e.key,n=e.val;if(r[t]&&C.logWarn("The key: "+t+" is getting ovewritten"),C.isFn(n))try{n=n(o)}catch(e){C.logError("bidmanager","ERROR",e)}(void 0===i.suppressEmptyKeys||!0!==i.suppressEmptyKeys)&&"hb_deal"!==t||!C.isEmptyStr(n)&&null!=n?r[t]=n:C.logInfo("suppressing empty key '"+t+"' from adserver targeting")})),r}function s(e){var t=e.bidderCode,n=e.cpm,r=void 0;if(pbjs.bidderSettings&&(t&&pbjs.bidderSettings[t]&&"function"==typeof pbjs.bidderSettings[t].bidCpmAdjustment?r=pbjs.bidderSettings[t].bidCpmAdjustment:pbjs.bidderSettings[R.JSON_MAPPING.BD_SETTING_STANDARD]&&"function"==typeof pbjs.bidderSettings[R.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment&&(r=pbjs.bidderSettings[R.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment),r))try{n=r(e.cpm,g({},e))}catch(e){C.logError("Error during bid adjustment","bidmanager.js",e)}0<=n&&(e.cpm=n)}function q(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}},44:function(e,t,n){"use strict";var r=n(14),i=n(34)(5),o="find",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{find:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(27)(o)},45:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},46:function(e,t,n){var r=n(47),i=n(52);e.exports=n(23)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},47:function(e,t,n){var r=n(48),i=n(49),o=n(51),a=Object.defineProperty;t.f=n(23)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},48:function(e,t,n){var r=n(15);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},49:function(e,t,n){e.exports=!n(23)&&!n(33)((function(){return 7!=Object.defineProperty(n(50)("div"),"a",{get:function(){return 7}}).a}))},5:function(e,t,n){n(60),e.exports=n(13).Array.includes},50:function(e,t,n){var r=n(15),i=n(19).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},51:function(e,t,n){var i=n(15);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value");}},52:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},53:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},533:function(e,t,n){e.exports=n(534)},534:function(e,t,n){"use strict";var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(39),d=n(0),u=n(535),s=n(16),c=n(22),f=n(3),l=n(29),g=n(40),p=n(20),v=n(536),y=n(5),m=(r=y)&&r.__esModule?r:{default:r};var b=(0,a.getGlobal)(),h=n(4),S=n(0),E=n(8),A=n(18),T=n(10),I=s.userSync.triggerUserSyncs,_=h.EVENTS,w=_.ADD_AD_UNITS,C=_.BID_WON,O=_.REQUEST_BIDS,B=_.SET_TARGETING,R=_.AD_RENDER_FAILED,N=h.AD_RENDER_FAILED_REASON,U=N.PREVENT_WRITING_ON_MAIN_DOCUMENT,j=N.NO_AD,D=N.EXCEPTION,P=N.CANNOT_FIND_AD,k=N.MISSING_DOC_OR_ADID,x={bidWon:function(e){var t=l.auctionManager.getBidsRequested().map((function(e){return e.bids.map((function(e){return e.adUnitCode}))})).reduce(d.flatten).filter(d.uniques);if(!S.contains(t,e))return void S.logError('The "'+e+'" placement is not defined.');return!0}};function M(e,t,n){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=n)}function q(e,t,n){var r={};r.reason=e,r.message=t,n&&(r.bid=n),S.logError(t),T.emit(R,r)}function G(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){S.logError("Error processing command :","prebid.js",e)}}))}(0,v.sessionLoader)(),b.bidderSettings=b.bidderSettings||{},b.cbTimeout=b.cbTimeout||200,b.libLoaded=!0,b.version="v1.18.0",S.logInfo("Prebid.js v1.18.0 loaded"),b.adUnits=b.adUnits||[],b.triggerUserSyncs=I,b.getAdserverTargetingForAdUnitCodeStr=function(e){if(S.logInfo("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=b.getAdserverTargetingForAdUnitCode(e);return S.transformAdServerTargetingObj(t)}S.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},b.getAdserverTargetingForAdUnitCode=function(e){return b.getAdserverTargeting(e)[e]},b.getAdserverTargeting=function(e){return S.logInfo("Invoking pbjs.getAdserverTargeting",arguments),g.targeting.getAllTargeting(e)},b.getBidResponses=function(){S.logInfo("Invoking pbjs.getBidResponses",arguments);var e=l.auctionManager.getBidsReceived().filter(d.adUnitsFilter.bind(this,l.auctionManager.getAdUnitCodes())),n=e&&e.length&&e[e.length-1].auctionId;return e.map((function(e){return e.adUnitCode})).filter(d.uniques).map((function(t){return e.filter((function(e){return e.auctionId===n&&e.adUnitCode===t}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){return t={},n=e[0].adUnitCode,r={bids:e.map(d.removeRequestId)},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r})).reduce((function(e,t){return o(e,t)}),{})},b.getBidResponsesForAdUnitCode=function(t){return{bids:l.auctionManager.getBidsReceived().filter((function(e){return e.adUnitCode===t})).map(d.removeRequestId)}},b.setTargetingForGPTAsync=function(e,t){if(S.logInfo("Invoking pbjs.setTargetingForGPTAsync",arguments),(0,d.isGptPubadsDefined)()){var n=g.targeting.getAllTargeting(e);g.targeting.resetPresetTargeting(e),g.targeting.setTargetingForGPT(n,t),Object.keys(n).forEach((function(t){Object.keys(n[t]).forEach((function(e){"hb_adid"===e&&l.auctionManager.setStatusForBids(n[t][e],g.BID_TARGETING_SET)}))})),T.emit(B,n)}else S.logError("window.googletag is not defined on the page")},b.setTargetingForAst=function(){S.logInfo("Invoking pbjs.setTargetingForAn",arguments),g.targeting.isApntagDefined()?(g.targeting.setTargetingForAst(),T.emit(B,g.targeting.getAllTargeting())):S.logError("window.apntag is not defined on the page")},b.renderAd=function(e,t){if(S.logInfo("Invoking pbjs.renderAd",arguments),S.logMessage("Calling renderAd with adId :"+t),e&&t)try{var n=l.auctionManager.findBidByAdId(t);if(n){n.status=g.RENDERED,n.ad=S.replaceAuctionPrice(n.ad,n.cpm),n.adUrl=S.replaceAuctionPrice(n.adUrl,n.cpm),l.auctionManager.addWinningBid(n),T.emit(C,n);var r=n.height,i=n.width,o=n.ad,a=n.mediaType,d=n.adUrl,u=n.renderer,s=document.createComment("Creative "+n.creativeId+" served by "+n.bidder+" Prebid.js Header Bidding");if(S.insertElement(s,e,"body"),u&&u.url)u.render(n);else if(e===document&&!S.inIframe()||"video"===a){q(U,"Error trying to write ad. Ad render call ad id "+t+" was prevented from writing to the main document.",n)}else if(o)e.write(o),e.close(),M(e,i,r),S.callBurl(n);else if(d){var c=S.createInvisibleIframe();c.height=r,c.width=i,c.style.display="inline",c.style.overflow="hidden",c.src=d,S.insertElement(c,e,"body"),M(e,i,r),S.callBurl(n)}else{q(j,"Error trying to write ad. No ad for bid response id: "+t,n)}}else{q(P,"Error trying to write ad. Cannot find ad by given id : "+t)}}catch(e){var f="Error trying to write ad Id :"+t+" to the page:"+e.message;q(D,f)}else q(k,"Error trying to write ad Id :"+t+" to the page. Missing document or adId")},b.removeAdUnit=function(e){if(S.logInfo("Invoking pbjs.removeAdUnit",arguments),e)for(var t=0;t<b.adUnits.length;t++)b.adUnits[t].code===e&&b.adUnits.splice(t,1)},b.requestBids=(0,p.createHook)("asyncSeries",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,n=e.timeout,r=e.adUnits,i=e.adUnitCodes,o=e.labels;T.emit(O);var a=n||f.config.getConfig("bidderTimeout");if(r=r||b.adUnits,S.logInfo("Invoking pbjs.requestBids",arguments),i&&i.length?r=r.filter((function(e){return(0,m.default)(i,e.code)})):i=r&&r.map((function(e){return e.code})),r.forEach((function(i){var o=Object.keys(i.mediaTypes||{banner:"banner"}),e=i.bids.map((function(e){return e.bidder})),a=E.bidderRegistry,t=f.config.getConfig("s2sConfig"),n=t&&t.bidders,r=n?e.filter((function(e){return!(0,m.default)(n,e)})):e;i.transactionId||(i.transactionId=S.generateUUID()),r.forEach((function(t){var e=a[t],n=e&&e.getSpec&&e.getSpec(),r=n&&n.supportedMediaTypes||["banner"];o.some((function(e){return(0,m.default)(r,e)}))||(S.logWarn(S.unsupportedBidderMessage(i,t)),i.bids=i.bids.filter((function(e){return e.bidder!==t})))}))})),r&&0!==r.length){var d=l.auctionManager.createAuction({adUnits:r,adUnitCodes:i,callback:t,cbTimeout:a,labels:o});return d.callBids(),d}if(S.logMessage("No adUnits configured. No bids requested."),"function"==typeof t)try{t()}catch(e){S.logError("Error executing bidsBackHandler",null,e)}})),b.addAdUnits=function(e){S.logInfo("Invoking pbjs.addAdUnits",arguments),S.isArray(e)?b.adUnits.push.apply(b.adUnits,e):"object"===(void 0===e?"undefined":i(e))&&b.adUnits.push(e),T.emit(w)},b.onEvent=function(e,t,n){S.logInfo("Invoking pbjs.onEvent",arguments),S.isFn(t)?!n||x[e].call(null,n)?T.on(e,t,n):S.logError('The id provided is not valid for event "'+e+'" and no handler was set.'):S.logError('The event handler provided is not a function and was not set on event "'+e+'".')},b.offEvent=function(e,t,n){S.logInfo("Invoking pbjs.offEvent",arguments),n&&!x[e].call(null,n)||T.off(e,t,n)},b.registerBidAdapter=function(e,t){S.logInfo("Invoking pbjs.registerBidAdapter",arguments);try{E.registerBidAdapter(e(),t)}catch(e){S.logError("Error registering bidder adapter : "+e.message)}},b.registerAnalyticsAdapter=function(e){S.logInfo("Invoking pbjs.registerAnalyticsAdapter",arguments);try{E.registerAnalyticsAdapter(e)}catch(e){S.logError("Error registering analytics adapter : "+e.message)}},b.createBid=function(e){return S.logInfo("Invoking pbjs.createBid",arguments),A.createBid(e)},b.loadScript=function(e,t,n){S.logInfo("Invoking pbjs.loadScript",arguments),(0,c.loadScript)(e,t,n)},b.enableAnalytics=function(e){e&&!S.isEmpty(e)?(S.logInfo("Invoking pbjs.enableAnalytics for: ",e),E.enableAnalytics(e)):S.logError("pbjs.enableAnalytics should be called with option {}")},b.aliasBidder=function(e,t){S.logInfo("Invoking pbjs.aliasBidder",arguments),e&&t?E.aliasBidAdapter(e,t):S.logError("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},b.getAllWinningBids=function(){return l.auctionManager.getAllWinningBids().map(d.removeRequestId)},b.getAllPrebidWinningBids=function(){return l.auctionManager.getBidsReceived().filter((function(e){return e.status===g.BID_TARGETING_SET})).map(d.removeRequestId)},b.getHighestCpmBids=function(e){var t=(0,g.getHighestCpmBidsFromBidPool)(l.auctionManager.getBidsReceived(),d.getLatestHighestCpmBid);return g.targeting.getWinningBids(e,t).map(d.removeRequestId)},b.markWinningBidAsUsed=function(t){var e=[];t.adUnitCode&&t.adId?e=l.auctionManager.getBidsReceived().filter((function(e){return e.adId===t.adId&&e.adUnitCode===t.adUnitCode})):t.adUnitCode?e=g.targeting.getWinningBids(t.adUnitCode):t.adId?e=l.auctionManager.getBidsReceived().filter((function(e){return e.adId===t.adId})):S.logWarn("Inproper usage of markWinningBidAsUsed. It'll need an adUnitCode and/or adId to function."),0<e.length&&(e[0].status=g.RENDERED)},b.getConfig=f.config.getConfig,b.setConfig=f.config.setConfig,b.que.push((function(){return(0,u.listenMessagesFromCreative)()})),b.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){S.logError("Error processing command :",e.message,e.stack)}else S.logError("Commands written into pbjs.cmd.push must be wrapped in a function")},b.que.push=b.cmd.push,b.processQueue=function(){G(b.que),G(b.cmd)}},535:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listenMessagesFromCreative=function(){addEventListener("message",o,!1)};var m=i(n(10)),b=n(17),r=n(4),h=n(0),S=n(29),E=i(n(9));function i(e){return e&&e.__esModule?e:{default:e}}var A=r.EVENTS.BID_WON;function o(e){var t,n,r,i,o,a,d,u,s,c,f,l,g,p=e.message?"message":"data",v={};try{v=JSON.parse(e[p])}catch(e){return}if(v.adId){var y=(0,E.default)(S.auctionManager.getBidsReceived(),(function(e){return e.adId===v.adId}));"Prebid Request"===v.message&&(t=y,n=v.adServerDomain,r=e.source,i=t.adId,o=t.ad,a=t.adUrl,d=t.width,u=t.height,i&&(c=(s=t).adUnitCode,f=s.width,l=s.height,(g=document.getElementById((0,E.default)(window.googletag.pubads().getSlots().filter((0,h.isSlotMatchingAdUnitCode)(c)),(function(e){return e})).getSlotElementId()).querySelector("iframe")).width=""+f,g.height=""+l,r.postMessage(JSON.stringify({message:"Prebid Response",ad:o,adUrl:a,adId:i,width:d,height:u}),n)),S.auctionManager.addWinningBid(y),m.default.emit(A,y)),"Prebid Native"===v.message&&((0,b.fireNativeTrackers)(v,y),S.auctionManager.addWinningBid(y),m.default.emit(A,y))}}},536:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.boundHook=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n.disableOverrides=f,n.addBidResponseHook=l,n.getConfig=g,n.sessionLoader=function(e){var t=void 0;try{e=e||window.sessionStorage,t=JSON.parse(e.getItem(d))}catch(e){}t&&c(t,!0)};var r=t(3),a=t(0),i=t(41),d="pbjs:debugging",u=n.boundHook=void 0;function s(e){(0,a.logMessage)("DEBUG: "+e)}function c(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];r.config.setConfig({debug:!0}),s("bidder overrides enabled"+(t?" from session":"")),u&&i.addBidResponse.removeHook(u),n.boundHook=u=l.bind(null,e),i.addBidResponse.addHook(u,5)}function f(){u&&(i.addBidResponse.removeHook(u),s("bidder overrides disabled"))}function l(e,r,i,t){if(Array.isArray(e.bidders)&&-1===e.bidders.indexOf(i.bidderCode))return n="bidder '"+i.bidderCode+"' excluded from auction by bidder overrides",void(0,a.logWarn)("DEBUG: "+n);var n;Array.isArray(e.bids)&&e.bids.forEach((function(n){n.bidder&&n.bidder!==i.bidderCode||n.adUnitCode&&n.adUnitCode!==r||(i=o({},i),Object.keys(n).filter((function(e){return-1===["bidder","adUnitCode"].indexOf(e)})).forEach((function(e){var t=n[e];s("bidder overrides changed '"+r+"/"+i.bidderCode+"' bid."+e+" from '"+i[e]+"' to '"+t+"'"),i[e]=t})))})),t(r,i)}function g(e){if(e.enabled){try{window.sessionStorage.setItem(d,JSON.stringify(e))}catch(e){}c(e)}else{f();try{window.sessionStorage.removeItem(d)}catch(e){}}}r.config.getConfig("debugging",(function(e){return g(e.debugging)}))},54:function(e,t,n){var r=n(25);e.exports=function(e){return Object(r(e))}},55:function(e,t,n){var r=n(56);e.exports=function(e,t){return new(r(e))(t)}},56:function(e,t,n){var r=n(15),i=n(38),o=n(26)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},57:function(e,t,n){var r=n(13),i=n(19),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(58)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},58:function(e,t){e.exports=!0},59:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},60:function(e,t,n){"use strict";var r=n(14),i=n(61)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(27)("includes")},61:function(e,t,n){var u=n(62),s=n(36),c=n(63);e.exports=function(d){return function(e,t,n){var r,i=u(e),o=s(i.length),a=c(n,o);if(d&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((d||a in i)&&i[a]===t)return d||a||0;return!d&&-1}}},62:function(e,t,n){var r=n(35),i=n(25);e.exports=function(e){return r(i(e))}},63:function(e,t,n){var r=n(37),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},64:function(e,t){e.exports=function e(t){var n=Array.isArray(t)?[]:{};for(var r in t){var i=t[r];n[r]=i&&"object"==typeof i?e(i):i}return n}},65:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.setSizeConfig=a,t.resolveStatus=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.labels,n=void 0===t?[]:t,r=e.labelAll,i=void 0!==r&&r,o=e.activeLabels,a=void 0===o?[]:o,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],u=(c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:p,c.reduce((function(n,e){return"object"===(void 0===e?"undefined":f(e))&&"string"==typeof e.mediaQuery?matchMedia(e.mediaQuery).matches&&(Array.isArray(e.sizesSupported)&&(n.shouldFilter=!0),["labels","sizesSupported"].forEach((function(t){return(e[t]||[]).forEach((function(e){return n[t][e]=!0}))}))):(0,l.logWarn)('sizeConfig rule missing required property "mediaQuery"'),n}),{labels:{},sizesSupported:{},shouldFilter:!1})),s=void 0;var c;s=u.shouldFilter?d.filter((function(e){return u.sizesSupported[e]})):d;return{active:0<s.length&&(0===n.length||!i&&(n.some((function(e){return u.labels[e]}))||n.some((function(e){return(0,g.default)(a,e)})))||i&&n.reduce((function(e,t){return e?u.labels[t]||(0,g.default)(a,t):e}),!0)),sizes:s}};var r,i=n(3),l=n(0),o=n(5),g=(r=o)&&r.__esModule?r:{default:r};var p=[];function a(e){p=e}i.config.getConfig("sizeConfig",(function(e){return a(e.sizeConfig)}))},66:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasNonVideoBidder=t.videoBidder=t.videoAdUnit=void 0,t.isValidVideoBid=function(e,t){var n=(0,o.getBidRequest)(e.adId,t),r=n&&(0,o.deepAccess)(n,"mediaTypes.video"),i=r&&(0,o.deepAccess)(r,"context");if(!n||r&&i!==s)return a.config.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,o.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1);if(i===s)return!(!e.renderer&&!n.renderer);return!0};var r,i=n(8),o=n(0),a=n(3),d=n(5),u=(r=d)&&r.__esModule?r:{default:r};var s="outstream",c=(t.videoAdUnit=function(e){var t="video"===e.mediaType,n=(0,o.deepAccess)(e,"mediaTypes.video");return t||n},t.videoBidder=function(e){return(0,u.default)(i.videoAdapters,e.bidder)});t.hasNonVideoBidder=function(e){return e.bids.filter((function(e){return!c(e)})).length}},7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ajax=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.ajaxBuilder=r;var p=n(11),v=n(3),y=n(0),m=4;t.ajax=r();function r(){var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:3e3,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=e.request,f=e.done;return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};try{var i=void 0,o=r.method||(n?"POST":"GET"),a=document.createElement("a");a.href=e;var d="object"===(void 0===t?"undefined":g(t))&&null!==t?t:{success:function(){y.logMessage("xhr success")},error:function(e){y.logError("xhr error",null,e)}};if("function"==typeof t&&(d.success=t),(i=new window.XMLHttpRequest).onreadystatechange=function(){if(i.readyState===m){"function"==typeof f&&f(a.origin);var e=i.status;200<=e&&e<300||304===e?d.success(i.responseText,i):d.error(i.statusText,i)}},v.config.getConfig("disableAjaxTimeout")||(i.ontimeout=function(){y.logError("  xhr timeout after ",i.timeout,"ms")}),"GET"===o&&n){var u=(0,p.parse)(e,r);l(u.search,n),e=(0,p.format)(u)}i.open(o,e),v.config.getConfig("disableAjaxTimeout")||(i.timeout=s),r.withCredentials&&(i.withCredentials=!0),y._each(r.customHeaders,(function(e,t){i.setRequestHeader(t,e)})),r.preflight&&i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-Type",r.contentType||"text/plain"),"function"==typeof c&&c(a.origin),"POST"===o&&n?i.send(n):i.send()}catch(e){y.logError("xhr construction",e)}}}},8:function(e,b,t){"use strict";var h=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return(function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,d=e[Symbol.iterator]();!(r=(a=d.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(i)throw o;}}return n})(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance");},l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S=t(0),g=t(65),p=t(17),c=t(1),E=t(7),A=t(3),T=n(t(5)),I=n(t(9));function n(e){return e&&e.__esModule?e:{default:e}}var _=t(0),w=t(4),C=t(10),O=void 0,B={};b.bidderRegistry=B,b.aliasRegistry={};var R={};A.config.getConfig("s2sConfig",(function(e){R=e.s2sConfig}));var r={};function v(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}}function N(e){var r=e.bidderCode,s=e.auctionId,c=e.bidderRequestId,t=e.adUnits,f=e.labels;return t.reduce((function(e,a){var d=_.deepAccess(a,"mediaTypes.banner.sizes"),t=(0,g.resolveStatus)(v(a,f),d||a.sizes),n=t.active,u=t.sizes;return n&&e.push(a.bids.filter((function(e){return e.bidder===r})).reduce((function(e,t){var n=a.nativeParams||_.deepAccess(a,"mediaTypes.native");n&&(t=l({},t,{nativeParams:(0,p.processNativeAdUnitParams)(n)})),t=l({},t,(0,S.getDefinedParams)(a,["mediaType","renderer"]));var r=(0,g.resolveStatus)(v(t,f),u),i=r.active,o=r.sizes;return a.mediaTypes&&(_.isValidMediaTypes(a.mediaTypes)?(d&&(a.mediaTypes.banner.sizes=o),t=l({},t,{mediaTypes:a.mediaTypes})):_.logError("mediaTypes is not correctly configured for adunit "+a.code)),i&&e.push(l({},t,{adUnitCode:a.code,transactionId:a.transactionId,sizes:o,bidId:t.bid_id||_.getUniqueIdentifierStr(),bidderRequestId:c,auctionId:s})),e}),[])),e}),[]).reduce(S.flatten,[]).filter((function(e){return""!==e}))}function U(){return R&&R.enabled&&R.testing&&O}function i(t,n,e){try{var r=B[t].getSpec();r&&r[n]&&"function"==typeof r[n]&&(_.logInfo("Invoking "+t+"."+n),r[n](e))}catch(e){_.logWarn("Error calling "+n+" of "+t)}}b.gdprDataHandler={consentData:null,setConsentData:function(e){this.consentData=e},getConsentData:function(){return this.consentData}},b.makeBidRequests=function(e,i,o,a,d){var u=[];e=b.checkBidRequestSizes(e);var t=(0,S.getBidderCodes)(e);A.config.getConfig("bidderSequence")===A.RANDOM&&(t=(0,S.shuffle)(t));var n,r,s,c=t,f=[];if(R.enabled){U()&&(f=O.getSourceBidderMap(e)[O.CLIENT]);var l=R.bidders;c=t.filter((function(e){return!(0,T.default)(l,e)||(0,T.default)(f,e)}));var g=(n=e,r=R.bidders,(s=_.deepClone(n)).forEach((function(e){e.bids=e.bids.filter((function(e){return(0,T.default)(r,e.bidder)&&(!U()||e.finalSource!==O.CLIENT)})).map((function(e){return e.bid_id=_.getUniqueIdentifierStr(),e}))})),s=s.filter((function(e){return 0!==e.bids.length}))),p=_.generateUUID();l.forEach((function(e){var t=_.getUniqueIdentifierStr(),n={bidderCode:e,auctionId:o,bidderRequestId:t,tid:p,bids:N({bidderCode:e,auctionId:o,bidderRequestId:t,adUnits:g,labels:d}),auctionStart:i,timeout:R.timeout,src:w.S2S.SRC};0!==n.bids.length&&u.push(n)})),g.forEach((function(e){var t=e.bids.filter((function(t){return(0,I.default)(u,(function(e){return(0,I.default)(e.bids,(function(e){return e.bidId===t.bid_id}))}))}));e.bids=t})),u.forEach((function(e){e.adUnitsS2SCopy=g.filter((function(e){return 0<e.bids.length}))}))}var v,y,m=(v=e,(y=_.deepClone(v)).forEach((function(e){e.bids=e.bids.filter((function(e){return!U()||e.finalSource!==O.SERVER}))})),y=y.filter((function(e){return 0!==e.bids.length})));return c.forEach((function(e){var t=_.getUniqueIdentifierStr(),n={bidderCode:e,auctionId:o,bidderRequestId:t,bids:N({bidderCode:e,auctionId:o,bidderRequestId:t,adUnits:m,labels:d}),auctionStart:i,timeout:a},r=B[e];r||_.logError("Trying to make a request for bidder that does not exist: "+e),r&&n.bids&&0!==n.bids.length&&u.push(n)})),b.gdprDataHandler.getConsentData()&&u.forEach((function(e){e.gdprConsent=b.gdprDataHandler.getConsentData()})),u},b.checkBidRequestSizes=function(e){function d(e){return Array.isArray(e)&&2===e.length&&_.isInteger(e[0])&&_.isInteger(e[1])}return e.forEach((function(e){var t=e.mediaTypes,n=_.getAdUnitSizes(e);if(t&&t.banner){var r=t.banner;r.sizes?(r.sizes=n,e.sizes=n):(_.logError("Detected a mediaTypes.banner object did not include sizes.  This is a required field for the mediaTypes.banner object.  Removing invalid mediaTypes.banner object from request."),delete e.mediaTypes.banner)}else e.sizes&&(_.logWarn("Usage of adUnits.sizes will eventually be deprecated.  Please define size dimensions within the corresponding area of the mediaTypes.<object> (eg mediaTypes.banner.sizes)."),e.sizes=n);if(t&&t.video){var i=t.video;if(i.playerSize)if(Array.isArray(i.playerSize)&&1===i.playerSize.length&&i.playerSize.every(d))e.sizes=i.playerSize;else if(d(i.playerSize)){var o=[];o.push(i.playerSize),_.logInfo("Transforming video.playerSize from "+i.playerSize+" to "+o+" so it's in the proper format."),e.sizes=i.playerSize=o}else _.logError("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete e.mediaTypes.video.playerSize}if(t&&t.native){var a=t.native;a.image&&a.image.sizes&&!Array.isArray(a.image.sizes)&&(_.logError("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete e.mediaTypes.native.image.sizes),a.image&&a.image.aspect_ratios&&!Array.isArray(a.image.aspect_ratios)&&(_.logError("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete e.mediaTypes.native.image.aspect_ratios),a.icon&&a.icon.sizes&&!Array.isArray(a.icon.sizes)&&(_.logError("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete e.mediaTypes.native.icon.sizes)}})),e},b.callBids=function(e,t,i,o,a,d){if(t.length){var n=t.reduce((function(e,t){return e[Number(void 0!==t.src&&t.src===w.S2S.SRC)].push(t),e}),[[],[]]),r=h(n,2),u=r[0],s=r[1];if(s.length){var c=(0,E.ajaxBuilder)(d,a?{request:a.request.bind(null,"s2s"),done:a.done}:void 0),f=R.bidders,l=B[R.adapter],g=s[0].tid,p=s[0].adUnitsS2SCopy;if(l){var v={tid:g,ad_units:p};if(v.ad_units.length){var y=s.map((function(e){return e.start=(0,S.timestamp)(),e.doneCbCallCount=0,o(e.bidderRequestId)})),m=v.ad_units.reduce((function(e,t){return e.concat((t.bids||[]).reduce((function(e,t){return e.concat(t.bidder)}),[]))}),[]);_.logMessage("CALLING S2S HEADER BIDDERS ==== "+f.filter((function(e){return(0,T.default)(m,e)})).join(",")),s.forEach((function(e){C.emit(w.EVENTS.BID_REQUESTED,e)})),l.callBids(v,s,i,(function(){return y.forEach((function(e){return e()}))}),c)}}}u.forEach((function(e){e.start=(0,S.timestamp)();var t=B[e.bidderCode];_.logMessage("CALLING BIDDER ======= "+e.bidderCode),C.emit(w.EVENTS.BID_REQUESTED,e),e.doneCbCallCount=0;var n=o(e.bidderRequestId),r=(0,E.ajaxBuilder)(d,a?{request:a.request.bind(null,e.bidderCode),done:a.done}:void 0);t.callBids(e,i,n,r)}))}else _.logWarn("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},b.videoAdapters=[],b.registerBidAdapter=function(e,t){var n=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).supportedMediaTypes,r=void 0===n?[]:n;e&&t?"function"==typeof e.callBids?(B[t]=e,(0,T.default)(r,"video")&&b.videoAdapters.push(t),(0,T.default)(r,"native")&&p.nativeAdapters.push(t)):_.logError("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):_.logError("bidAdaptor or bidderCode not specified")},b.aliasBidAdapter=function(t,e){var n,r;if(void 0===B[e]){var i=B[t];if(void 0===i){var o=A.config.getConfig("s2sConfig"),a=o&&o.bidders;a&&(0,T.default)(a,e)?b.aliasRegistry[e]=t:_.logError('bidderCode "'+t+'" is not an existing bidder.',"adaptermanager.aliasBidAdapter")}else try{var d=void 0,u=(n=t,r=[],(0,T.default)(b.videoAdapters,n)&&r.push("video"),(0,T.default)(p.nativeAdapters,n)&&r.push("native"),r);if(i.constructor.prototype!=Object.prototype)(d=new i.constructor).setBidderCode(e);else{var s=i.getSpec();d=(0,c.newBidder)(l({},s,{code:e})),b.aliasRegistry[e]=t}this.registerBidAdapter(d,e,{supportedMediaTypes:u})}catch(e){_.logError(t+" bidder does not currently support aliasing.","adaptermanager.aliasBidAdapter")}}else _.logMessage('alias name "'+e+'" has been already specified.')},b.registerAnalyticsAdapter=function(e){var t=e.adapter,n=e.code;t&&n?"function"==typeof t.enableAnalytics?(t.code=n,r[n]=t):_.logError('Prebid Error: Analytics adaptor error for analytics "'+n+'"\n        analytics adapter must implement an enableAnalytics() function'):_.logError("Prebid Error: analyticsAdapter or analyticsCode not specified")},b.enableAnalytics=function(e){_.isArray(e)||(e=[e]),_._each(e,(function(e){var t=r[e.provider];t?t.enableAnalytics(e):_.logError("Prebid Error: no analytics adapter found in registry for\n        "+e.provider+".")}))},b.getBidAdapter=function(e){return B[e]},b.setS2STestingModule=function(e){O=e},b.callTimedOutBidders=function(t,n,r){n=n.map((function(e){return e.params=_.getUserConfiguredParams(t,e.adUnitCode,e.bidder),e.timeout=r,e})),n=_.groupBy(n,"bidder"),Object.keys(n).forEach((function(e){i(e,"onTimeout",n[e])}))},b.callBidWonBidder=function(e,t){i(e,"onBidWon",t)}},9:function(e,t,n){n(44),e.exports=n(13).Array.find}});pbjsChunk([129],{130:function(e,r,a){a(131),e.exports=a(132)},131:function(e,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.spec=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},p=a(12),u=(function(e){{if(e&&e.__esModule)return e;var r={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r.default=e,r}})(a(0)),t=a(1),m=a(2),c=s(a(9)),l=s(a(5));function s(e){return e&&e.__esModule?e:{default:e}}var f=["id","mimes","minduration","maxduration","startdelay","skippable","playback_method","frameworks"],y=["age","external_uid","segments","gender","dnt","language"],v={body:"description",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},icon:{serverName:"icon",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},sponsoredBy:"sponsored_by"},n=r.spec={code:"appnexus",aliases:["appnexusAst","brealtime","emxdigital","pagescience","defymedia","gourmetads","matomy","featureforward","oftmedia","districtm"],supportedMediaTypes:[m.BANNER,m.VIDEO,m.NATIVE],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,r){var a=e.map(b),t=(0,c.default)(e,h),s=void 0;t&&(s={},Object.keys(t.params.user).filter((function(e){return(0,l.default)(y,e)})).forEach((function(e){return s[e]=t.params.user[e]})));var i=(0,c.default)(e,_),n=i?parseInt(i.params.member,10):0,d={tags:[].concat(function(e){if(Array.isArray(e)){for(var r=0,a=Array(e.length);r<e.length;r++)a[r]=e[r];return a}return Array.from(e)}(a)),user:s,sdk:{source:"pbjs",version:"1.18.0"}};return 0<n&&(d.member_id=n),r&&r.gdprConsent&&(d.gdpr_consent={consent_string:r.gdprConsent.consentString,consent_required:r.gdprConsent.gdprApplies}),{method:"POST",url:"//ib.adnxs.com/ut/v3/prebid",data:JSON.stringify(d),bidderRequest:r}},interpretResponse:function(e,r){var i=this,n=r.bidderRequest;e=e.body;var d=[];if(!e||e.error){var a="in response for "+n.bidderCode+" adapter";return e&&e.error&&(a+=": "+e.error),u.logError(a),d}return e.tags&&e.tags.forEach((function(e){var r,a,t=(r=e)&&r.ads&&r.ads.length&&(0,c.default)(r.ads,(function(e){return e.rtb}));if(t&&0!==t.cpm&&(0,l.default)(i.supportedMediaTypes,t.ad_type)){var s=(function(e,r,a){var t={requestId:e.uuid,cpm:r.cpm,creativeId:r.creative_id,dealId:r.deal_id,currency:"USD",netRevenue:!0,ttl:300,appnexus:{buyerMemberId:r.buyer_member_id}};if(r.rtb.video){if(o(t,{width:r.rtb.video.player_width,height:r.rtb.video.player_height,vastUrl:r.rtb.video.asset_url,vastImpUrl:r.notify_url,ttl:3600}),r.renderer_url){var s=u.deepAccess(a.bids[0],"renderer.options");o(t,{adResponse:e,renderer:(function(e,r){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t=p.Renderer.install({id:r.renderer_id,url:r.renderer_url,config:a,loaded:!1});try{t.setRender(I)}catch(e){u.logWarn("Prebid Error calling setRender on renderer",e)}return t.setEventHandlers({impression:function(){return u.logMessage("AppNexus outstream video impression event")},loaded:function(){return u.logMessage("AppNexus outstream video loaded event")},ended:function(){u.logMessage("AppNexus outstream renderer video event"),document.querySelector("#"+e).style.display="none"}}),t})(t.adUnitCode,r,s)}),t.adResponse.ad=t.adResponse.ads[0],t.adResponse.ad.video=t.adResponse.ad.rtb.video}}else if(r.rtb[m.NATIVE]){var i=r.rtb[m.NATIVE];t[m.NATIVE]={title:i.title,body:i.desc,cta:i.ctatext,sponsoredBy:i.sponsored,clickUrl:i.link.url,clickTrackers:i.link.click_trackers,impressionTrackers:i.impression_trackers,javascriptTrackers:i.javascript_trackers},i.main_img&&(t.native.image={url:i.main_img.url,height:i.main_img.height,width:i.main_img.width}),i.icon&&(t.native.icon={url:i.icon.url,height:i.icon.height,width:i.icon.width})}else{o(t,{width:r.rtb.banner.width,height:r.rtb.banner.height,ad:r.rtb.banner.content});try{var n=r.rtb.trackers[0].impression_urls[0],d=u.createTrackPixelHtml(n);t.ad+=d}catch(e){u.logError("Error appending tracking pixel",e)}}return t})(e,t,n);s.mediaType=(a=t.ad_type)===m.VIDEO?m.VIDEO:a===m.NATIVE?m.NATIVE:m.BANNER,d.push(s)}})),d},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"//acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html"}]}};function b(r){var n,d,a={};if(a.sizes=g(r.sizes),a.primary_size=a.sizes[0],a.ad_types=[],a.uuid=r.bidId,r.params.placementId?a.id=parseInt(r.params.placementId,10):a.code=r.params.invCode,a.allow_smaller_sizes=r.params.allowSmallerSizes||!1,a.use_pmt_rule=r.params.usePaymentRule||!1,a.prebid=!0,a.disable_psa=!0,r.params.reserve&&(a.reserve=r.params.reserve),r.params.position&&(a.position={above:1,below:2}[r.params.position]||0),r.params.trafficSourceCode&&(a.traffic_source_code=r.params.trafficSourceCode),r.params.privateSizes&&(a.private_sizes=g(r.params.privateSizes)),r.params.supplyType&&(a.supply_type=r.params.supplyType),r.params.pubClick&&(a.pubclick=r.params.pubClick),r.params.extInvCode&&(a.ext_inv_code=r.params.extInvCode),r.params.externalImpId&&(a.external_imp_id=r.params.externalImpId),u.isEmpty(r.params.keywords)||(a.keywords=u.transformBidderParamKeywords(r.params.keywords)),(r.mediaType===m.NATIVE||u.deepAccess(r,"mediaTypes."+m.NATIVE))&&(a.ad_types.push(m.NATIVE),r.nativeParams)){var e=(n=r.nativeParams,d={},Object.keys(n).forEach((function(e){var r=v[e]&&v[e].serverName||v[e]||e,a=v[e]&&v[e].requiredParams;d[r]=o({},a,n[e]);var t=v[e]&&v[e].minimumParams;if(a&&t){var s=Object.keys(n[e]),i=Object.keys(a);0===s.filter((function(e){return!(0,l.default)(i,e)})).length&&(d[r]=o({},d[r],t))}})),d);a[m.NATIVE]={layouts:[e]}}var t=u.deepAccess(r,"mediaTypes."+m.VIDEO),s=u.deepAccess(r,"mediaTypes.video.context");return(r.mediaType===m.VIDEO||t)&&a.ad_types.push(m.VIDEO),(r.mediaType===m.VIDEO||t&&"outstream"!==s)&&(a.require_asset_url=!0),r.params.video&&(a.video={},Object.keys(r.params.video).filter((function(e){return(0,l.default)(f,e)})).forEach((function(e){return a.video[e]=r.params.video[e]}))),(u.isEmpty(r.mediaType)&&u.isEmpty(r.mediaTypes)||r.mediaType===m.BANNER||r.mediaTypes&&r.mediaTypes[m.BANNER])&&a.ad_types.push(m.BANNER),a}function g(e){var r=[],a={};if(u.isArray(e)&&2===e.length&&!u.isArray(e[0]))a.width=parseInt(e[0],10),a.height=parseInt(e[1],10),r.push(a);else if("object"===(void 0===e?"undefined":i(e)))for(var t=0;t<e.length;t++){var s=e[t];(a={}).width=parseInt(s[0],10),a.height=parseInt(s[1],10),r.push(a)}return r}function h(e){return!!e.params.user}function _(e){return!!parseInt(e.params.member,10)}function I(e){e.renderer.push((function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,r,a){e.renderer.handleVideoEvent({id:r,eventName:a})}.bind(null,e))}))}(0,t.registerBidder)(n)},132:function(e,r){}},[130]);pbjsChunk([1],{163:function(n,t,e){n.exports=e(164)},164:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allowAuction=t.consentTimeout=t.userCMP=void 0,t.requestBidsHook=C,t.resetConsentData=function(){m=void 0,a.gdprDataHandler.setConsentData(null)},t.setConfig=x;var u=(function(n){{if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}})(e(0)),o=e(3),a=e(8),i=s(e(5)),l=s(e(165));function s(n){return n&&n.__esModule?n:{default:n}}var r="iab",c=1e4,d=!0,f=t.userCMP=void 0,g=t.consentTimeout=void 0,p=t.allowAuction=void 0,m=void 0,v={iab:function(n,t,s){var e=(function(){var t={};function e(){t.getConsentData&&t.getVendorConsents&&n(t,s)}return{consentDataCallback:function(n){t.getConsentData=n,e()},vendorConsentsCallback:function(n){t.getVendorConsents=n,e()}}})(),r={},o=void 0;try{o=window.__cmp||u.getWindowTop().__cmp}catch(n){}if(u.isFn(o))o("getConsentData",null,e.consentDataCallback),o("getVendorConsents",null,e.vendorConsentsCallback);else if(window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp)c("getConsentData",e.consentDataCallback),c("getVendorConsents",e.vendorConsentsCallback);else{for(var a=window,i=void 0;!i;){try{a.frames.__cmpLocator&&(i=a)}catch(n){}if(a===window.top)break;a=a.parent}if(!i)return t("CMP not found.",s);d("getConsentData",i,e.consentDataCallback),d("getVendorConsents",i,e.vendorConsentsCallback)}function c(o,a){var n=s.adUnits,t=1,e=1;if(Array.isArray(n)&&0<n.length){var i=u.getAdUnitSizes(n[0]);t=i[0][0],e=i[0][1]}window.$sf.ext.register(t,e,(function(n,t){if("cmpReturn"===n){var e="getConsentData"===o?t.vendorConsentData:t.vendorConsents;a(e)}})),window.$sf.ext.cmp(o)}function d(n,i,t){function e(n){var t="string"==typeof n.data&&(0,l.default)(n.data,"cmpReturn")?JSON.parse(n.data):n.data;if(t.__cmpReturn&&t.__cmpReturn.callId){var e=t.__cmpReturn;void 0!==r[e.callId]&&(r[e.callId](e.returnValue,e.success),delete r[e.callId])}}window.__cmp=function(n,t,e){var o=Math.random()+"",a={__cmpCall:{command:n,parameter:t,callId:o}};r[o]=e,i.postMessage(a,"*")},window.addEventListener("message",e,!1),window.__cmp(n,null,(function(n){window.removeEventListener("message",e,!1),t(n)}))}}};function C(n,t){var e={context:this,args:arguments,nextFn:t,adUnits:n.adUnits||pbjs.adUnits,bidsBackHandler:n.bidsBackHandler,haveExited:!1,timer:null};return m?y(null,e):(0,i.default)(Object.keys(v),f)?(v[f].call(this,w,b,e),void(e.haveExited||(0===g?w(void 0,e):e.timer=setTimeout(function(n){b("CMP workflow exceeded timeout threshold.",n)}.bind(null,e),g)))):(u.logWarn("CMP framework ("+f+") is not a supported framework.  Aborting consentManagement module and resuming auction."),e.nextFn.apply(e.context,e.args))}function w(n,t){var e=n&&n.getConsentData&&n.getConsentData.gdprApplies;"boolean"==typeof e&&(!0!==e||u.isStr(n.getConsentData.consentData)&&u.isPlainObject(n.getVendorConsents)&&1<Object.keys(n.getVendorConsents).length)?(clearTimeout(t.timer),h(n),y(null,t)):b("CMP returned unexpected value during lookup process.",t,n)}function b(n,t,e){clearTimeout(t.timer),p&&h(void 0),y(n,t,e)}function h(n){m={consentString:n?n.getConsentData.consentData:void 0,vendorData:n?n.getVendorConsents:void 0,gdprApplies:n?n.getConsentData.gdprApplies:void 0},a.gdprDataHandler.setConsentData(m)}function y(n,t,e){if(!1===t.haveExited){t.haveExited=!0;var o=t.context,a=t.args,i=t.nextFn;n?p?(u.logWarn(n+" Resuming auction without consent data as per consentManagement config.",e),i.apply(o,a)):(u.logError(n+" Canceling auction as per consentManagement config.",e),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():u.logError("Error executing bidsBackHandler")):i.apply(o,a)}}function x(n){u.isStr(n.cmpApi)?t.userCMP=f=n.cmpApi:(t.userCMP=f=r,u.logInfo("consentManagement config did not specify cmp.  Using system default setting ("+r+").")),u.isNumber(n.timeout)?t.consentTimeout=g=n.timeout:(t.consentTimeout=g=c,u.logInfo("consentManagement config did not specify timeout.  Using system default setting ("+c+").")),"boolean"==typeof n.allowAuctionWithoutConsent?t.allowAuction=p=n.allowAuctionWithoutConsent:(t.allowAuction=p=d,u.logInfo("consentManagement config did not specify allowAuctionWithoutConsent.  Using system default setting ("+d+").")),u.logInfo("consentManagement module has been activated..."),pbjs.requestBids.addHook(C,50)}o.config.getConfig("consentManagement",(function(n){return x(n.consentManagement)}))},165:function(n,t,e){e(166),n.exports=e(13).String.includes},166:function(n,t,e){"use strict";var o=e(14),a=e(167),i="includes";o(o.P+o.F*e(169)(i),"String",{includes:function(n){return!!~a(this,n,i).indexOf(n,1<arguments.length?arguments[1]:void 0)}})},167:function(n,t,e){var o=e(168),a=e(25);n.exports=function(n,t,e){if(o(t))throw TypeError("String#"+e+" doesn't accept regex!");return String(a(n))}},168:function(n,t,e){var o=e(15),a=e(24),i=e(26)("match");n.exports=function(n){var t;return o(n)&&(void 0!==(t=n[i])?!!t:"RegExp"==a(n))}},169:function(n,t,e){var o=e(26)("match");n.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[o]=!1,!"/./"[t](e)}catch(n){}}return!0}}},[163]);pbjsChunk([114],{182:function(e,t,r){r(183),e.exports=r(184)},183:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.spec=void 0;var _adloader=__webpack_require__(22),_bidderFactory=__webpack_require__(1),_url=__webpack_require__(11),_utils=__webpack_require__(0),utils=_interopRequireWildcard(_utils),_find=__webpack_require__(9),_find2=_interopRequireDefault(_find);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var ADAPTER_VERSION=11,BIDDER_CODE="criteo",CDB_ENDPOINT="//bidder.criteo.com/cdb",CRITEO_VENDOR_ID=91,INTEGRATION_MODES={amp:1},PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185,PUBLISHER_TAG_URL="//static.criteo.net/js/ld/publishertag.prebid.js",spec=exports.spec={code:BIDDER_CODE,isBidRequestValid:function(e){return!(!e||!e.params||!e.params.zoneId&&!e.params.networkId)},buildRequests:function(e,t){var r=void 0,i=void 0;if(publisherTagAvailable()||(window.Criteo=window.Criteo||{},window.Criteo.usePrebidEvents=!1,tryGetCriteoFastBid(),setTimeout((function(){(0,_adloader.loadExternalScript)(PUBLISHER_TAG_URL,BIDDER_CODE)}),t.timeout)),publisherTagAvailable()){var n=new Criteo.PubTag.Adapters.Prebid(PROFILE_ID_PUBLISHERTAG,ADAPTER_VERSION,e,t,"1.18.0");r=n.buildCdbUrl(),i=n.buildCdbRequest()}else{var o=buildContext(e);r=buildCdbUrl(o),i=buildCdbRequest(o,e,t)}if(i)return{method:"POST",url:r,data:i,bidRequests:e}},interpretResponse:function(e,n){var t=e.body||e;if(publisherTagAvailable()){var r=Criteo.PubTag.Adapters.Prebid.GetAdapter(n);if(r)return r.interpretResponse(t,n)}var o=[];return t&&t.slots&&utils.isArray(t.slots)&&t.slots.forEach((function(t){var e=(0,_find2.default)(n.bidRequests,(function(e){return e.adUnitCode===t.impid&&(!e.params.zoneId||parseInt(e.params.zoneId)===t.zoneid)})),r=e.bidId,i={requestId:r,cpm:t.cpm,currency:t.currency,netRevenue:!0,ttl:t.ttl||60,creativeId:r,width:t.width,height:t.height};t.native?i.ad=createNativeAd(r,t.native,e.params.nativeCallback):i.ad=t.creative,o.push(i)})),o},onTimeout:function(e){publisherTagAvailable()&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidTimeout()}};function publisherTagAvailable(){return"undefined"!=typeof Criteo&&Criteo.PubTag&&Criteo.PubTag.Adapters&&Criteo.PubTag.Adapters.Prebid}function buildContext(e){var t=utils.getTopWindowUrl(),r=(0,_url.parse)(t).search,i={url:t,debug:"1"===r.pbt_debug,noLog:"1"===r.pbt_nolog,integrationMode:void 0};return e.forEach((function(e){e.params.integrationMode&&(i.integrationMode=e.params.integrationMode)})),i}function buildCdbUrl(e){var t=CDB_ENDPOINT;return t+="?profileId="+PROFILE_ID_INLINE,t+="&av="+String(ADAPTER_VERSION),t+="&wv="+encodeURIComponent("1.18.0"),t+="&cb="+String(Math.floor(99999999999*Math.random())),e.integrationMode in INTEGRATION_MODES&&(t+="&im="+INTEGRATION_MODES[e.integrationMode]),e.debug&&(t+="&debug=1"),e.noLog&&(t+="&nolog=1"),t}function buildCdbRequest(e,t,r){var i=void 0,n={publisher:{url:e.url},slots:t.map((function(e){i=e.params.networkId||i;var t={impid:e.adUnitCode,transactionid:e.transactionId,auctionId:e.auctionId,sizes:e.sizes.map((function(e){return e[0]+"x"+e[1]}))};return e.params.zoneId&&(t.zoneid=e.params.zoneId),e.params.publisherSubId&&(t.publishersubid=e.params.publisherSubId),e.params.nativeCallback&&(t.native=!0),t}))};return i&&(n.publisher.networkid=i),r&&r.gdprConsent&&(n.gdprConsent={},void 0!==r.gdprConsent.gdprApplies&&(n.gdprConsent.gdprApplies=!!r.gdprConsent.gdprApplies),r.gdprConsent.vendorData&&r.gdprConsent.vendorData.vendorConsents&&void 0!==r.gdprConsent.vendorData.vendorConsents[CRITEO_VENDOR_ID.toString(10)]&&(n.gdprConsent.consentGiven=!!r.gdprConsent.vendorData.vendorConsents[CRITEO_VENDOR_ID.toString(10)]),void 0!==r.gdprConsent.consentString&&(n.gdprConsent.consentData=r.gdprConsent.consentString)),n}function createNativeAd(e,t,r){return window.criteo_prebid_native_slots=window.criteo_prebid_native_slots||{},window.criteo_prebid_native_slots[e]={callback:r,payload:t},'<script type="text/javascript">\n    var win = window;\n    for (var i = 0; i < 10; ++i) {\n      win = win.parent;\n      if (win.criteo_prebid_native_slots) {\n        var responseSlot = win.criteo_prebid_native_slots["'+e+'"];\n        responseSlot.callback(responseSlot.payload);\n        break;\n      }\n    }\n  <\/script>'}function tryGetCriteoFastBid(){try{var fastBid=localStorage.getItem("criteo_fast_bid");if(null!==fastBid)return eval(fastBid),!0}catch(e){}return!1}(0,_bidderFactory.registerBidder)(spec)},184:function(e,t){}},[182]);pbjs.processQueue()};_loadPrebid();window.pbjs=window.pbjs||{};window.pbjs.que=window.pbjs.que||[];pbjs.setConfig({debug:true,consentManagement:{cmpApi:'iab',timeout:8000,allowAuctionWithoutConsent:false},enableSendAllBids:false});pbjs.bidderSettings={standard:{alwaysUseBid:true,adserverTargeting:[{key:"hb_bidder",val:function(bidResponse){return bidResponse.bidderCode}},{key:"hb_adid",val:function(bidResponse){return bidResponse.adId}},{key:'hb_size',val:function(bidResponse){return bidResponse.size}},{key:"hb_pb",val:function(bidResponse){var price_buckets_970x250={buckets:[{precision:2,min:0.05,max:3,increment:0.01},{precision:2,min:3,max:4,increment:0.02},{precision:2,min:4,max:5,increment:0.05},{precision:2,min:5,max:10,increment:0.1}]};var price_buckets_728x90={buckets:[{precision:2,min:0.01,max:3,increment:0.01},{precision:2,min:3,max:4,increment:0.02},{precision:2,min:4,max:5,increment:0.05},{precision:2,min:5,max:10,increment:0.1}]};var price_buckets_1000x90={buckets:[{precision:2,min:0.01,max:3,increment:0.01},{precision:2,min:3,max:4,increment:0.02},{precision:2,min:4,max:5,increment:0.05},{precision:2,min:5,max:10,increment:0.1}]};var price_buckets_300x600={buckets:[{precision:2,min:1.30,max:4,increment:0.01},{precision:2,min:4,max:6,increment:0.02},{precision:2,min:6,max:7,increment:0.05},{precision:2,min:7,max:10,increment:0.1}]};var price_buckets_300x250={buckets:[{precision:2,min:0.01,max:3,increment:0.01},{precision:2,min:3,max:4,increment:0.02},{precision:2,min:4,max:5,increment:0.05},{precision:2,min:5,max:10,increment:0.1}]};var price_buckets_160x600={buckets:[{precision:2,min:0.05,max:3,increment:0.01},{precision:2,min:3,max:4,increment:0.02},{precision:2,min:4,max:5,increment:0.05},{precision:2,min:5,max:10,increment:0.1}]};var price_buckets={'970x250':price_buckets_970x250,'728x90':price_buckets_728x90,'1000x90':price_buckets_1000x90,'300x600':price_buckets_300x600,'300x250':price_buckets_300x250,'160x600':price_buckets_160x600};for(i=0;i<price_buckets[bidResponse.size]['buckets'].length;i++){var bucket=price_buckets[bidResponse.size]['buckets'][i];if(bidResponse.cpm>=bucket['min']&&bidResponse.cpm<=bucket['max']){var bucket_size=1/bucket['increment'];return(Math.floor(bidResponse.cpm*bucket_size)/bucket_size).toFixed(bucket['precision'])}}return bidResponse.cpm>bucket['max']?bucket['max']:0.00}},{key:'hb_format',val:function(bidResponse){return bidResponse.mediaType}},{key:'hb_cache_id',val:function(bidResponse){return bidResponse.videoCacheKey}},{key:'hb_uuid',val:function(bidResponse){return bidResponse.videoCacheKey}},{key:"hb_origin",val:function(bidResponse){return("appnexus"in bidResponse&&"buyerMemberId"in bidResponse.appnexus&&bidResponse.appnexus.buyerMemberId===8618)?"direct":"rtb"}}]}};var pageType=null;univers=path.split("/")[2];if(typeof window.tc_vars!=="undefined"){if((typeof window.tc_vars.pg_type!=="undefined")&&(window.tc_vars.pg_type!='')){pageType=window.tc_vars.pg_type}}if(pageType!=null){adUnits=GetAdUnitsByPage(pageType,univers)}if(path&&blocks&&blocks.length){_loadGpt();googletag.cmd.push(function(){var ads=googletag.pubads();if(typeof activePrebid!=="undefined"&&activePrebid==="true"){ads.disableInitialLoad();window._activePrebid=true}ads.enableSingleRequest();for(var i=0;i<blocks.length;i++){var block=blocks[i],slot,mapping,adPath=block.adpath||path;if(block.isLazyLoad){delete block.isLazyLoad;_lazyLoadSlot.adPath=adPath;_lazyLoadSlot.blocks.push(block);_lazyLoadSlot.target=target}else{if(block.type){slot=googletag.defineOutOfPageSlot(adPath,block.div).addService(ads).setTargeting("type",block.type)}else{slot=googletag.defineSlot(adPath,block.size,block.div).addService(ads).setCollapseEmptyDiv(true);if(block.mapping){mapping=googletag.sizeMapping();block.mapping.map(function(m){mapping.addSize(m.size,m.slot)});slot.defineSizeMapping(mapping.build())}for(var ti=0;ti<_targets.length;ti++){var p=_targets[ti];block[p]&&slot.setTargeting(p,block[p])}}block.isRefresh&&_refreshSlots.push(slot);_slots[block.div]=slot;var endsWithCall=function(div,str){return div.slice(-str.length)==str};var checkPosToPushInFirstPassSlots=function(pos){if(!pos){return false}return $.inArray(pos.toLowerCase(),['body','body2','homepage'])>=0};if(_isLazyLoadActive){var passSlotList=(block.type||checkPosToPushInFirstPassSlots(block.pos)||verifyIsBlockAboveLoadingLine(block.div)?firstPassSlots:secondPassSlots);pushPassSlotsList(passSlotList,block,slot)}else if(typeof activeMultiCall!=="undefined"&&activeMultiCall==="true"){var firstBatch=false;for(var j=0;j<firstLoadPositions.length;j++){if(endsWithCall(block.div,firstLoadPositions[j])){firstBatch=true;break}}if(block.div==='crt-4820a920'||block.div==='crt-4820a150'){for(var j=0;j<firstPassSlots.length;j++){if(firstPassSlots[j].getSlotElementId()==='crt-2f259480'||firstPassSlots[j].getSlotElementId()==='crt-2d94f5e8'||firstPassSlots[j].getSlotElementId()==='gpt-R2-FLUIDBODY'||firstPassSlots[j].getSlotElementId()==='crt-764737'){delete firstPassSlots[j];j=firstPassSlots.length}}}(firstBatch?firstPassSlots:secondPassSlots).push(slot)}}}for(key in target){ads.setTargeting(key,target[key]);key=="requete"&&(_requete=$.ads["DFP"].requete=target[key])}if(_isLazyLoadActive){googletag.pubads().disableInitialLoad()}else if(typeof activeMultiCall!=="undefined"&&activeMultiCall==="true"){googletag.pubads().addEventListener('slotRenderEnded',cds.gpt.slotRendered);googletag.pubads().disableInitialLoad()}googletag.enableServices();if(window._activePrebid){pbjs.que.push(function(){while(pbjs.adUnits.length>0){pbjs.removeAdUnit(pbjs.adUnits[0].code)}pbjs.setConfig({debug:true,enableSendAllBids:false,bidderTimeout:Number(PREBID_TIMEOUT),consentManagement:{cmpApi:'iab',timeout:8000,allowAuctionWithoutConsent:false}});pbjs.addAdUnits(adUnits);pbjs.requestBids({bidsBackHandler:initAdserver})})}else{if(_isLazyLoadActive){cds.gpt.refreshSlots(true)}else if(typeof activeMultiCall!=="undefined"&&activeMultiCall==="true"){if(window.Criteo!=undefined){var addBlocked=false;if(window.criteo_pubtag!=undefined&&window.criteo_pubtag.context!=undefined&&window.criteo_pubtag.context.isAdBlocked!=undefined){addBlocked=window.criteo_pubtag.context.isAdBlocked}if(!addBlocked){cds.gpt.refreshSlots(true)}}else{cds.gpt.refreshSlots(true)}}}})}},refreshSlots:function(firstPass){var slotList;if(firstPass){slotList=firstPassSlots;if(typeof activePrebid!=="undefined"&&activePrebid==="true"){allrefreshed=false}}else{slotList=secondPassSlots;allrefreshed=true}googletag.cmd.push(function(){googletag.pubads().refresh(slotList,{changeCorrelator:false})});if(firstPass&&_isLazyLoadActive&&LazyLoadOffset<=0){cds.gpt.refreshSlots(false);$(win).unbind("scroll",winScrollEventHandler);_winScrollEventBinded=false}},slotRendered:function(event){if(!allrefreshed&&!_isLazyLoadActive)cds.gpt.refreshSlots(false)},show:function(div,isRfckex,siteVersion){if(!this.isAdable()){var innerHTML='<img src="{{imgTag}}"/>',adDiv=_doc.getElementById(div),href=adDiv.getAttribute("data-adb-href"),src=adDiv.getAttribute("data-adb-img");if(src){if(href){innerHTML='<a href="'+href+'" target="_blanck">'+innerHTML+'</a>'}adDiv.innerHTML=innerHTML.replace('{{imgTag}}',src)}}else if(div&&!$.cookies.siteVersion(siteVersion)&&!(isRfckex&&$.cookies.get("sas_rfckex"))){googletag.cmd.push(function(){googletag.display(div)})}},refresh:function(){if(this.isAdable()&&_refreshSlots.length&&!/MSIE|Trident/.test(win.navigator.userAgent)){googletag.cmd.push(function(){if(!(typeof window.ean==="undefined")&&!(typeof ean_placement_id==="undefined")){window.ean.placementsById[ean_placement_id].sspParsed=false;window.ean.initPlacement([window.ean.placementsById[ean_placement_id]])}if(typeof activePrebid!=="undefined"&&activePrebid==="true"){if(!(typeof pageType!=="undefined"&&pageType==="Desktop_ListeProduit")){if(typeof window.tc_vars!=="undefined"&&(typeof window.tc_vars.pg_type!=="undefined")&&(window.tc_vars.pg_type!='')){pageType=window.tc_vars.pg_type}if(pageType!=null){adUnits=GetAdUnitsByPage(pageType,univers)}pbjs.adserverRequestSent=false;pbjs.que.push(function(){while(pbjs.adUnits.length>0){pbjs.removeAdUnit(pbjs.adUnits[0].code)}pbjs.setConfig({debug:true,consentManagement:{cmpApi:'iab',timeout:8000,allowAuctionWithoutConsent:false}});pbjs.addAdUnits(adUnits);pbjs.requestBids({bidsBackHandler:initAdserver})})}else{if(typeof window.tc_vars!=="undefined"&&(typeof window.tc_vars.pg_type!=="undefined")&&(window.tc_vars.pg_type!='')){pageType=window.tc_vars.pg_type}pbjs.adserverRequestSent=false}}else{googletag.pubads().refresh(_refreshSlots)}})}if(_lazyLoadSlot.blocks.length){this.call(_lazyLoadSlot.adPath,_lazyLoadSlot.blocks,_lazyLoadSlot.target);_lazyLoadSlot.blocks.map(function(block){$.ads["DFP"].show(block.div)});_lazyLoadSlot.blocks=[]}if(_isLazyLoadActive&&!_winScrollEventBinded){$(win).scroll(winScrollEventHandler);_winScrollEventBinded=true}}}})(window,window.jQuery||window.$fwk);cds=(typeof cds==="undefined")?{}:cds;cds["gpt"]=$.ads["DFP"];document.addEventListener('DOMContentLoaded',function(){if(window.Criteo!=undefined){if(window.criteo_pubtag!=undefined&&window.criteo_pubtag.context!=undefined&&window.criteo_pubtag.context.isAdBlocked!=undefined){if(window.criteo_pubtag.context.isAdBlocked){$("div[id^='google_ads_iframe']").each(function(){var $currDiv=$(this);if(($currDiv)){$currDiv.css("display","none")}})}}}},false);
/* Js/cdsrwd/wl/rwd/fwk/mustache.js */
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
(function(root,factory){if(typeof exports==="object"&&exports){factory(exports)}else{var mustache={};factory(mustache);if(typeof define==="function"&&define.amd){define(mustache)}else{root.Mustache=mustache}}}(this,function(mustache){var whiteRe=/\s*/;var spaceRe=/\s+/;var nonSpaceRe=/\S/;var eqRe=/\s*=/;var curlyRe=/\s*\}/;var tagRe=/#|\^|\/|>|\{|&|=|!/;var RegExp_test=RegExp.prototype.test;function testRegExp(re,string){return RegExp_test.call(re,string)}function isWhitespace(string){return!testRegExp(nonSpaceRe,string)}var Object_toString=Object.prototype.toString;var isArray=Array.isArray||function(object){return Object_toString.call(object)==='[object Array]'};function isFunction(object){return typeof object==='function'}function escapeRegExp(string){return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':'&quot;',"'":'&#39;',"/":'&#x2F;'};function escapeHtml(string){return String(string).replace(/[&<>"'\/]/g,function(s){return entityMap[s]})}function Scanner(string){this.string=string;this.tail=string;this.pos=0}Scanner.prototype.eos=function(){return this.tail===""};Scanner.prototype.scan=function(re){var match=this.tail.match(re);if(match&&match.index===0){var string=match[0];this.tail=this.tail.substring(string.length);this.pos+=string.length;return string}return""};Scanner.prototype.scanUntil=function(re){var index=this.tail.search(re),match;switch(index){case-1:match=this.tail;this.tail="";break;case 0:match="";break;default:match=this.tail.substring(0,index);this.tail=this.tail.substring(index)}this.pos+=match.length;return match};function Context(view,parent){this.view=view==null?{}:view;this.parent=parent;this._cache={'.':this.view}}Context.make=function(view){return(view instanceof Context)?view:new Context(view)};Context.prototype.push=function(view){return new Context(view,this)};Context.prototype.lookup=function(name){var value;if(name in this._cache){value=this._cache[name]}else{var context=this;while(context){if(name.indexOf('.')>0){value=context.view;var names=name.split('.'),i=0;while(value!=null&&i<names.length){value=value[names[i++]]}}else{value=context.view[name]}if(value!=null)break;context=context.parent}this._cache[name]=value}if(isFunction(value)){value=value.call(this.view)}return value};function Writer(){this.clearCache()}Writer.prototype.clearCache=function(){this._cache={};this._partialCache={}};Writer.prototype.compile=function(template,tags){var fn=this._cache[template];if(!fn){var tokens=mustache.parse(template,tags);fn=this._cache[template]=this.compileTokens(tokens,template)}return fn};Writer.prototype.compilePartial=function(name,template,tags){var fn=this.compile(template,tags);this._partialCache[name]=fn;return fn};Writer.prototype.getPartial=function(name){if(!(name in this._partialCache)&&this._loadPartial){this.compilePartial(name,this._loadPartial(name))}return this._partialCache[name]};Writer.prototype.compileTokens=function(tokens,template){var self=this;return function(view,partials){if(partials){if(isFunction(partials)){self._loadPartial=partials}else{for(var name in partials){self.compilePartial(name,partials[name])}}}return renderTokens(tokens,self,Context.make(view),template)}};Writer.prototype.render=function(template,view,partials){return this.compile(template)(view,partials)};function renderTokens(tokens,writer,context,template){var buffer='';function subRender(template){return writer.render(template,context)}var token,tokenValue,value;for(var i=0,len=tokens.length;i<len;++i){token=tokens[i];tokenValue=token[1];switch(token[0]){case'#':value=context.lookup(tokenValue);if(typeof value==='object'||typeof value==='string'){if(isArray(value)){for(var j=0,jlen=value.length;j<jlen;++j){buffer+=renderTokens(token[4],writer,context.push(value[j]),template)}}else if(value){buffer+=renderTokens(token[4],writer,context.push(value),template)}}else if(isFunction(value)){var text=template==null?null:template.slice(token[3],token[5]);value=value.call(context.view,text,subRender);if(value!=null)buffer+=value}else if(value){buffer+=renderTokens(token[4],writer,context,template)}break;case'^':value=context.lookup(tokenValue);if(!value||(isArray(value)&&value.length===0)){buffer+=renderTokens(token[4],writer,context,template)}break;case'>':value=writer.getPartial(tokenValue);if(isFunction(value))buffer+=value(context);break;case'&':value=context.lookup(tokenValue);if(value!=null)buffer+=value;break;case'name':value=context.lookup(tokenValue);if(value!=null)buffer+=mustache.escape(value);break;case'text':buffer+=tokenValue;break}}return buffer}function nestTokens(tokens){var tree=[];var collector=tree;var sections=[];var token;for(var i=0,len=tokens.length;i<len;++i){token=tokens[i];switch(token[0]){case'#':case'^':sections.push(token);collector.push(token);collector=token[4]=[];break;case'/':var section=sections.pop();section[5]=token[2];collector=sections.length>0?sections[sections.length-1][4]:tree;break;default:collector.push(token)}}return tree}function squashTokens(tokens){var squashedTokens=[];var token,lastToken;for(var i=0,len=tokens.length;i<len;++i){token=tokens[i];if(token){if(token[0]==='text'&&lastToken&&lastToken[0]==='text'){lastToken[1]+=token[1];lastToken[3]=token[3]}else{lastToken=token;squashedTokens.push(token)}}}return squashedTokens}function escapeTags(tags){return[new RegExp(escapeRegExp(tags[0])+"\\s*"),new RegExp("\\s*"+escapeRegExp(tags[1]))]}function parseTemplate(template,tags){template=template||'';tags=tags||mustache.tags;if(typeof tags==='string')tags=tags.split(spaceRe);if(tags.length!==2)throw new Error('Invalid tags: '+tags.join(', '));var tagRes=escapeTags(tags);var scanner=new Scanner(template);var sections=[];var tokens=[];var spaces=[];var hasTag=false;var nonSpace=false;function stripSpace(){if(hasTag&&!nonSpace){while(spaces.length){delete tokens[spaces.pop()]}}else{spaces=[]}hasTag=false;nonSpace=false}var start,type,value,chr,token,openSection;while(!scanner.eos()){start=scanner.pos;value=scanner.scanUntil(tagRes[0]);if(value){for(var i=0,len=value.length;i<len;++i){chr=value.charAt(i);if(isWhitespace(chr)){spaces.push(tokens.length)}else{nonSpace=true}tokens.push(['text',chr,start,start+1]);start+=1;if(chr=='\n')stripSpace()}}if(!scanner.scan(tagRes[0]))break;hasTag=true;type=scanner.scan(tagRe)||'name';scanner.scan(whiteRe);if(type==='='){value=scanner.scanUntil(eqRe);scanner.scan(eqRe);scanner.scanUntil(tagRes[1])}else if(type==='{'){value=scanner.scanUntil(new RegExp('\\s*'+escapeRegExp('}'+tags[1])));scanner.scan(curlyRe);scanner.scanUntil(tagRes[1]);type='&'}else{value=scanner.scanUntil(tagRes[1])}if(!scanner.scan(tagRes[1]))throw new Error('Unclosed tag at '+scanner.pos);token=[type,value,start,scanner.pos];tokens.push(token);if(type==='#'||type==='^'){sections.push(token)}else if(type==='/'){openSection=sections.pop();if(!openSection){throw new Error('Unopened section "'+value+'" at '+start);}if(openSection[1]!==value){throw new Error('Unclosed section "'+openSection[1]+'" at '+start);}}else if(type==='name'||type==='{'||type==='&'){nonSpace=true}else if(type==='='){tags=value.split(spaceRe);if(tags.length!==2){throw new Error('Invalid tags at '+start+': '+tags.join(', '));}tagRes=escapeTags(tags)}}openSection=sections.pop();if(openSection){throw new Error('Unclosed section "'+openSection[1]+'" at '+scanner.pos);}return nestTokens(squashTokens(tokens))}mustache.name="mustache.js";mustache.version="0.7.2";mustache.tags=["{{","}}"];mustache.Scanner=Scanner;mustache.Context=Context;mustache.Writer=Writer;mustache.parse=parseTemplate;mustache.escape=escapeHtml;var defaultWriter=new Writer;mustache.clearCache=function(){return defaultWriter.clearCache()};mustache.compile=function(template,tags){return defaultWriter.compile(template,tags)};mustache.compilePartial=function(name,template,tags){return defaultWriter.compilePartial(name,template,tags)};mustache.compileTokens=function(tokens,template){return defaultWriter.compileTokens(tokens,template)};mustache.render=function(template,view,partials){return defaultWriter.render(template,view,partials)};mustache.to_html=function(template,view,partials,send){var result=mustache.render(template,view,partials);if(isFunction(send)){send(result)}else{return result}}}));
/* Js/cdsrwd/wl/rwd/fwk/esiparser.js */
var esi=new function(){return{do_esi_parsing:function(element){esi.esi_strip_esi_comments($(element));var includes=esi.esi_get_subelements_by_name(element,'esi:include');var includes_total=includes.length+1;for(var i=includes.length-1;i>=0;i--){var include=$(includes[i]);var src=include.attr('src');var children=$(include)[0].childNodes;for(var j=children.length-1;j>=0;j--){var child=$(children[j]).remove();include.after(child)}esi.esi_get_page(include,src)}var removes=esi.esi_get_subelements_by_name(element,'esi:remove');for(var k=removes.length-1;k>=0;k--){$(removes[k]).remove()}return includes_total},esi_get_page:function(element,src){var self=element;if(src.indexOf("?")!=-1){src+="&fallback=true"}else{src+="?fallback=true"}jQuery.get(src,function(data,status){if(data.indexOf('<!--esi')!=-1){var newdata=data.replace(/\n/g,'\uffff').replace(/<!--esi(.*?)-->/gm,"$1").replace(/\uffff/g,'\n');data=newdata}var parent;if(self[0]&&self[0].parentNode){parent=self[0].parentNode}else{return}var subelement=$(data).insertBefore(self);self.remove();if(data.indexOf('esi:include')!=-1){esi.do_esi_parsing(parent)}})},esi_get_subelements_by_name:function(element,elementname){var found=new Array;elementname=elementname.toLowerCase();if(element.nodeType==9||element.nodeType==1){var children=element.childNodes;for(var i=0;i<children.length;i++){var elem=children[i];if(elem.nodeType==1){var tagname=elem.tagName.toLowerCase();if(tagname==elementname){found.push(element.childNodes[i])}if(elem.childNodes.length>0){var res=esi.esi_get_subelements_by_name(elem,elementname);found=found.concat(res)}}}}return found},esi_strip_esi_comments:function(element){var reg=/<!--esi(.*?)-->/gm;var data=$(element).html();if(data.indexOf('<!--esi')!=-1){var newdata=data.replace(/\n/g,'\uffff').replace(reg,"$1").replace(/\uffff/g,'\n');$(element).html($($.parseHTML(newdata)))}}}};
/* Js/WL/rwd/block/tooltip.js */
(function(win,$){$.init("toolTip",function(opt){var $icon=$("#icon-i");$("img[data-src]",$icon).lazyload(true);$("body").on("hover",".jsInfoIcon",function(){$('.jsInfoToolTip',$icon).addClass("toolTipVisible")},function(){$('.jsInfoToolTip',$icon).addClass("toolTipHidden")})})})(window,window.$fwk);
/* Js/WL/rwd/block/mabaya.js */
(function($,win){var actionImpression="impression",actionMiss="miss";if(!$.mabayaContext){$.mabayaContext=[]}if(!$.mabayaContext.isTagRequested){$.init("mabayaTag");$.mabayaContext.isTagRequested=true}var reportWidgetsList=function(widgetsNames,missedAdsInfos,action){if(!$.mabayaContext.widgetsNames){$.mabayaContext.widgetsNames=[]}if(!$.mabayaContext.missedAdsInfos){$.mabayaContext.missedAdsInfos=[]}$.mabayaContext.widgetsNames=$.mabayaContext.widgetsNames.concat(widgetsNames);if(missedAdsInfos){$.mabayaContext.missedAdsInfos=$.mabayaContext.missedAdsInfos.concat(missedAdsInfos)}if(!win.mabayaWidget||!win.mabayaWidget.reportMiss||!win.mabayaWidget.reportImpression){return}if(action===actionMiss){widgetsNames.forEach(function(widget){win.mabayaWidget.reportMiss(widget)})}else if(action===actionImpression){widgetsNames.forEach(function(widget){win.mabayaWidget.reportImpression(widget)})}};$.mabayaContext.reportWidgets=function(widgetsNames,missedAdInfos){reportWidgetsList(widgetsNames,missedAdInfos)};$.mabayaContext.reportAsyncWidget=function(widgetName,missedAdInfos,isMiss){var action=isMiss?actionMiss:actionImpression;reportWidgetsList([widgetName],missedAdInfos,action)}})($fwk,window);
