'use strict';function ContentManager(t,n,e){let manager=this;if(Object.assign)this.config=Object.assign(this.config,e);else if(e)Object.keys(e).forEach(function(t){manager.config[t]=e[t]});this.content=null;this.element=t;this.contentUrl=n;this.scriptList=[];this.inIframe=this.isLoadedInIframe();this.parentWindow=this.inIframe?window.parent:window;this.anchorDest=null;this.xhr=null;this.loadContent()};ContentManager.prototype.config={stylesheets:[],javascripts:[],linkClass:'content_manager_link',formClass:'content_manager_form',parameterPrefix:'',anchor:''};ContentManager.prototype.linkClickHandler=function(t){t.preventDefault();if(this.xhr)return!1;let link=t.currentTarget;this.contentUrl=link.href;this.refresh();if(link.dataset.anchor)this.anchorDest=link.dataset.anchor;else if(this.config.anchor)this.anchorDest=this.config.anchor};ContentManager.prototype.formSubmitHandler=function(t){t.preventDefault();if(this.xhr)return!1;let form=t.target;let url=form.action||this.contentUrl;let method=form.method||'POST';let data=new FormData(form);let urlParam=null;if(method.toUpperCase()=='GET'){let getParam=[];for(i=0;i<form.elements.length;i++)if(form.elements[i].name){if(form.elements[i].selectedOptions)for(let j=0;j<form.elements[i].selectedOptions.length;j++)getParam.push(encodeURIComponent(form.elements[i].name)+'='+encodeURIComponent(form.elements[i].selectedOptions[j].value));else{if(form.elements[i].type&&form.elements[i].type.toUpperCase()=='CHECKBOX')if(!form.elements[i].checked)continue;getParam.push(encodeURIComponent(form.elements[i].name)+'='+encodeURIComponent(form.elements[i].value))}};urlParam=getParam.length?getParam.join('&'):null};this.contentUrl=urlParam?(url.indexOf('?')!=-1?url+urlParam:url+'?'+urlParam):url;this.sendForm(method,data)};ContentManager.prototype.bindLinks=function(){let cmLinkList=this.element.querySelectorAll('a.'+this.config.linkClass);let manager=this;for(let i=0;i<cmLinkList.length;i++)cmLinkList[i].addEventListener('click',function(t){manager.linkClickHandler(t)});if(this.inIframe){let ncmLinkList=this.element.querySelectorAll('a:not(.'+this.config.linkClass+')');for(let i=0;i<ncmLinkList.length;i++)if(!ncmLinkList[i].target)ncmLinkList[i].target='_top'}};ContentManager.prototype.bindForms=function(){let cmformList=this.element.querySelectorAll('form.'+this.config.formClass);let manager=this;for(let i=0;i<cmformList.length;i++)cmformList[i].addEventListener('submit',function(t){manager.formSubmitHandler(t)});if(this.inIframe){let ncmformList=this.element.querySelectorAll('form:not(.'+this.config.formClass+')');for(let i=0;i<ncmformList.length;i++){if(!ncmformList[i].target)ncmformList[i].target='_top';if(ncmformList[i].action.indexOf('?')!=-1){let params=this.extractUriParams(ncmformList[i].action.split('?')[1]);for(let name in params){let input=document.createElement('INPUT');input.type='hidden';input.name=name;input.value=params[name];ncmformList[i].appendChild(input)}}}}};ContentManager.prototype.extractUriParams=function(t){t=t.split('+').join(' ');let params={},tokens,re=/[?&]?([^=]+)=([^&]*)/g;while(tokens=re.exec(t)){params[decodeURIComponent(tokens[1])]=decodeURIComponent(tokens[2])};return params};ContentManager.prototype.loadScripts=function(t){if(!t){this.loadScripts(this.element.querySelectorAll('script'));return!0};t=[].map.call(t,function(t){return t});if(t.length<=0)return!1;let scriptItem=t.pop();let script=document.createElement('script');let manager=this;if(t.length)script.addEventListener('load',function(e){manager.loadScripts(t)});if(scriptItem.src){script.src=scriptItem.src;document.body.appendChild(script)}
else if(scriptItem.innerText){script.innerText=scriptItem.innerText;document.body.appendChild(script)};this.scriptList.push(script)};ContentManager.prototype.display=function(t){this.xhr=null;this.content=t;this.element.innerHTML=this.content;for(let i=0;i<this.scriptList.length;i++){this.scriptList[i].parentNode.removeChild(this.scriptList[i])};for(let i=0;i<this.scriptList.length;i++){this.scriptList.pop()};this.bindLinks();this.bindForms();this.loadScripts();if(this.anchorDest){let anchor=this.anchorDest;window.location.hash=null;this.anchorDest=null;setTimeout(function(){window.location.hash='#'+anchor},20)}};ContentManager.prototype.downloadContent=function(){let manager=this;let url=this.contentUrl;let urlParameters=this.getUrlParameters(window.location.href).join('&');url+=((url.indexOf('?')==-1)?'?':'&')+urlParameters;let callback=function(t){if(this.status===200)manager.display(this.responseText)};this.ajax(url,'GET',{},callback)};ContentManager.prototype.sendForm=function(t,e){let manager=this;t=t||'POST';e=e||'';let callback=function(t){if(this.status===200)manager.display(this.responseText)};this.ajax(this.contentUrl,t,e,callback)};ContentManager.prototype.ajax=function(t,e,n,i){this.xhr=new XMLHttpRequest();this.xhr.open(e,t);this.xhr.onload=i;this.xhr.withCredentials=!0;this.xhr.send(n)};ContentManager.prototype.addAssets=function(){let header=document.querySelector('head');if(this.config.stylesheets.length)for(i=0;i<this.config.stylesheets.length;i++){let linkTag=document.createElement('LINK');linkTag.rel='stylesheet';linkTag.href=this.config.stylesheets[i];header.appendChild(linkTag)};let body=document.querySelector('body');if(this.config.javascripts.length)for(i=0;i<this.config.javascripts.length;i++){let scriptTag=document.createElement('SCRIPT');scriptTag.type='text/javascript';scriptTag.src=this.config.javascripts[i];body.appendChild(scriptTag)}};ContentManager.prototype.loadContent=function(){if(this.element==null||this.contentUrl==null||this.loaded)return!1;this.downloadContent();this.addAssets();this.loaded=!0};ContentManager.prototype.refresh=function(){this.content=null;this.element.innerHtml=null;this.downloadContent()};ContentManager.prototype.getUrlParameters=function(t){t=t.split('?');if(t.length!=2)return[];let params=t[1];params=params.split('&');if(this.config.parameterPrefix==''||this.config.parameterPrefix===null)return params;let prefixedParams=[];for(i=0;i<params.lenth;i++)if(params[i].indexOf(this.config.parameterPrefix)===0)prefixedParams.push(params[i].split(this.config.parameterPrefix)[1]);return prefixedParams};ContentManager.prototype.isLoadedInIframe=function(){try{return window.self!==window.top}catch(t){return!0}};
'use strict';function SelectCheckbox(t,e,n){this.container=t;this.select=e;this.list=n||'';this.bindEvents()};SelectCheckbox.prototype.bindEvents=function(){let manager=this;document.addEventListener('click',function(t){manager.handleDocumentClick(t)});this.list.addEventListener('click',function(t){manager.handleListClick(t)});this.select.addEventListener('click',function(t){manager.handleClick(t)})};SelectCheckbox.prototype.handleDocumentClick=function(t){this.container.classList.remove('active')};SelectCheckbox.prototype.handleListClick=function(t){t.stopPropagation()};SelectCheckbox.prototype.handleClick=function(t){this.container.classList.toggle('active');t.stopPropagation()};
'use strict';function InputRange(i,e,t,n,s){this.input=i;this.label=e;this.decimals=t||!1;this.unit=n||'';this.exception=s;this.bindEvents();this.handleChange()};InputRange.prototype.bindEvents=function(){let manager=this;this.input.addEventListener('input',function(i){manager.handleChange(i)});this.input.addEventListener('change',function(i){manager.handleChange(i)});this.input.addEventListener('resize',function(i){manager.handleChange(i)});if(window.addEventListener){window.addEventListener('resize',function(i){manager.handleChange(i)})}
else if(window.attachEvent){window.attachEvent('onresize',function(i){manager.handleChange(i)})}};InputRange.prototype.handleChange=function(i){if(this.decimals)this.toggleDecimals();let value=this.input.value;value=this.checkException(value);this.label.innerHTML=value;this.processProgressBar()};InputRange.prototype.toggleDecimals=function(i){if(this.input.value<=1&&this.input.step==1)this.input.step=0.1;else if(this.input.value>1&&this.input.step!=1){this.input.value=Math.round(this.input.value);this.input.step=1}};InputRange.prototype.checkException=function(e){if(!this.exception||!this.exception.length)return e+' '+this.unit;let changed=!1;for(let i=0;i<this.exception.length;i++)switch(this.exception[i].operator){case'equal':if(e==this.exception[i].opposition){if(this.exception[i].callback)e=this.exception[i].callback(e);else if(typeof(this.exception[i].addUnit)!=='undefinied'&&this.exception[i].addUnit==!1)e=this.exception[i].replacement;else e=this.exception[i].replacement+' '+this.unit;changed=!0};break;case'lowerThan':if(e<this.exception[i].opposition){if(this.exception[i].callback)e=this.exception[i].callback(e);else if(typeof(this.exception[i].addUnit)!=='undefinied'&&this.exception[i].addUnit==!1)e=this.exception[i].replacement;else e=this.exception[i].replacement+' '+this.unit;changed=!0};break;case'upperThan':if(e>this.exception[i].opposition){if(this.exception[i].callback)e=this.exception[i].callback(e);else if(typeof(this.exception[i].addUnit)!=='undefinied'&&this.exception[i].addUnit==!1)e=this.exception[i].replacement;else e=this.exception[i].replacement+' '+this.unit;changed=!0};break};return changed?e:e+' '+this.unit};InputRange.prototype.processProgressBar=function(){let min=this.input.min;let max=this.input.max;let value=this.input.value;if(this.input.classList.contains('invert_range')){this.input.style.backgroundSize='100% 100%';this.input.style.backgroundPositionX=this.input.offsetWidth*(value-min)/(max-min)+'px'}
else{this.input.style.backgroundSize=(value-min)*100/(max-min)+'% 100%'}};
'use strict';function Slider(i,t,n,e,s){this.slider=i;this.container=t;this.previous=n;this.next=e;this.visible=s;this.transitionDirection=null;this.animated=!1;this.bindEvents()};Slider.prototype.bindEvents=function(){let manager=this;this.previous.addEventListener('click',function(i){manager.handleClickDirection(i,'right')});this.next.addEventListener('click',function(i){manager.handleClickDirection(i,'left')});this.container.addEventListener('transitionend',function(i){manager.handleTransitionEnd(i)})};Slider.prototype.handleClickDirection=function(i,t){i.preventDefault();let manager=this;if(this.container.children.length<=this.visible||this.animated)return!1;if(t=='right'){this.container.insertBefore(this.container.children[this.container.children.length-1],this.container.children[0]);this.slider.classList.add('animate-positioned-left');setTimeout(function(){manager.slider.classList.add('animate-right')},25)}
else if(t=='left')this.slider.classList.add('animate-left');this.transitionDirection=t;this.animated=!0};Slider.prototype.handleTransitionEnd=function(i){i.preventDefault();if(this.transitionDirection===null)return!1;if(this.transitionDirection=='right'){this.slider.classList.remove('animate-positioned-left');this.slider.classList.remove('animate-right')}
else if(this.transitionDirection=='left'){this.container.appendChild(this.container.children[0]);this.slider.classList.remove('animate-left')};this.transitionDirection=null;this.animated=!1};
'use strict';function AdvancedForm(e,t,n){this.advancedSearch=e;this.button=t;this.elements=n;this.bindEvents()};AdvancedForm.prototype.bindEvents=function(){let manager=this;this.button.addEventListener('click',function(e){manager.handleClick(e)})};AdvancedForm.prototype.handleClick=function(e){e.preventDefault();if(this.advancedSearch.classList.contains('hidden')){this.advancedSearch.classList.remove('hidden');this.button.innerHTML='>> Recherche classique'}
else{this.advancedSearch.classList.add('hidden');this.button.innerHTML='>> Recherche avancée';for(let i=0;i<this.elements.length;i++)if(this.elements[i].type&&this.elements[i].type.toUpperCase()=='CHECKBOX')this.elements[i].checked=!1;else this.elements[i].value=null}};